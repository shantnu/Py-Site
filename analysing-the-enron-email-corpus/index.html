<!DOCTYPE html>
<html lang="en-US" class="no-js">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="profile" href="http://gmpg.org/xfn/11">
		<script>(function(html){html.className = html.className.replace(/\bno-js\b/,'js')})(document.documentElement);</script>
<title>Analysing the Enron Email Corpus &#8211; Python For Engineers</title>
<link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Python For Engineers &raquo; Feed" href="/feed/" />
<link rel="alternate" type="application/rss+xml" title="Python For Engineers &raquo; Comments Feed" href="/comments/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/pythonforengineers.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.9.8"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56760,9792,65039],[55358,56760,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='crayon-css'  href='/wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-theme-github-css'  href='/wp-content/plugins/crayon-syntax-highlighter/themes/github/github.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-font-monaco-css'  href='/wp-content/plugins/crayon-syntax-highlighter/fonts/monaco.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='twentysixteen-fonts-css'  href='https://fonts.googleapis.com/css?family=Merriweather%3A400%2C700%2C900%2C400italic%2C700italic%2C900italic%7CMontserrat%3A400%2C700%7CInconsolata%3A400&#038;subset=latin%2Clatin-ext' type='text/css' media='all' />
<link rel='stylesheet' id='genericons-css'  href='/wp-content/themes/twentysixteen/genericons/genericons.css?ver=3.4.1' type='text/css' media='all' />
<link rel='stylesheet' id='twentysixteen-style-css'  href='/wp-content/themes/twentysixteen/style.css?ver=4.9.8' type='text/css' media='all' />
<!--[if lt IE 10]>
<link rel='stylesheet' id='twentysixteen-ie-css'  href='http://pythonforengineers.com/wp-content/themes/twentysixteen/css/ie.css?ver=20160816' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentysixteen-ie8-css'  href='http://pythonforengineers.com/wp-content/themes/twentysixteen/css/ie8.css?ver=20160816' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 8]>
<link rel='stylesheet' id='twentysixteen-ie7-css'  href='http://pythonforengineers.com/wp-content/themes/twentysixteen/css/ie7.css?ver=20160816' type='text/css' media='all' />
<![endif]-->
<script type='text/javascript' src='/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"http:\/\/pythonforengineers.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js?ver=_2.7.2_beta'></script>
<!--[if lt IE 9]>
<script type='text/javascript' src='http://pythonforengineers.com/wp-content/themes/twentysixteen/js/html5.js?ver=3.7.3'></script>
<![endif]-->
<link rel='https://api.w.org/' href='/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd" />
<meta name="generator" content="WordPress 4.9.8" />
<link rel="canonical" href="/analysing-the-enron-email-corpus/" />
<link rel='shortlink' href='/?p=2105' />
<link rel="alternate" type="application/json+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2Fanalysing-the-enron-email-corpus%2F" />
<link rel="alternate" type="text/xml+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2Fanalysing-the-enron-email-corpus%2F&#038;format=xml" />
		<style type="text/css" id="wp-custom-css">
			.site-info { display: None}		</style>
	</head>

<body class="page-template-default page page-id-2105">
<div id="page" class="site">
	<div class="site-inner">
		<a class="skip-link screen-reader-text" href="#content">Skip to content</a>

		<header id="masthead" class="site-header" role="banner">
			<div class="site-header-main">
				<div class="site-branding">
					
											<p class="site-title"><a href="/" rel="home">Python For Engineers</a></p>
									</div><!-- .site-branding -->

									<button id="menu-toggle" class="menu-toggle">Menu</button>

					<div id="site-header-menu" class="site-header-menu">
													<nav id="site-navigation" class="main-navigation" role="navigation" aria-label="Primary Menu">
								<div class="menu-main-container"><ul id="menu-main" class="primary-menu"><li id="menu-item-52" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-52"><a href="/articles/">Articles</a></li>
<li id="menu-item-1533" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1533"><a href="/about/">About</a></li>
<li id="menu-item-35" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-35"><a href="/contact/">Contact</a></li>
</ul></div>							</nav><!-- .main-navigation -->
						
											</div><!-- .site-header-menu -->
							</div><!-- .site-header-main -->

					</header><!-- .site-header -->

		<div id="content" class="site-content">

<div id="primary" class="content-area">
	<main id="main" class="site-main" role="main">
		
<article id="post-2105" class="post-2105 page type-page status-publish hentry">
	<header class="entry-header">
		<h1 class="entry-title">Analysing the Enron Email Corpus</h1>	</header><!-- .entry-header -->

	
	<div class="entry-content">
		<p>The Enron Email Corpus is one of the biggest email data sources in the world. Almost half a million files spread over 2.5 GB. Normally, emails are very sensitive, and rarely released to the public, but because of the shocking nature of Enron&#8217;s collapse, everything was released to the public.</p>
<p>Because it is so large, it makes analysis complicated. The question always is: <em>Where do we even start?</em></p>
<p><em>Note: There are 6 videos + transcript in this series. The videos are mixed with the transcripts, so scroll down if you are only interested in the videos. Make sure you turn on HD.</em></p>
<p><iframe width="800" height="450" src="https://player.vimeo.com/video/151171516?title=0&amp;byline=0&amp;portrait=0" frameborder="0" webkitallowfullscreen="webkitallowfullscreen" mozallowfullscreen="mozallowfullscreen" allowfullscreen="allowfullscreen"></iframe></p>
<p>In this first video, I given an introduction to Enron, and the email corpus.Â  Since the collapse was only 15 years ago(its 2016 now), I guess every reading this has heard of Enron, a company that was the top biggest company in the world one day, and bankrupt the next.</p>
<p>Download the emails from <a href="https://www.cs.cmu.edu/~./enron/">here</a>. On Windows, you&#8217;ll need <a href="http://www.7-zip.org/">7zip </a>to unzip them.</p>
<p>Once you download the files, spend some time looking at their structure, and how they are arranged. You will find the actual emails are in <a href="https://en.wikipedia.org/wiki/MIME">MIME </a>format.</p>
<p>We won&#8217;t be using Ipython in this example, as it kept crashing (&amp; sometimes taking down Firefox). I guess it couldn&#8217;t handle the Gigabytes of data we have to work with.</p>
<p>You will need a code editor. I recommend <a href="http://www.sublimetext.com/">Sublime Text</a>.</p>
<p>For running the scripts, you will need to use the command line. On Windows, I recommend Powershell, a super charged version of the old dos prompt. Linux/Mac can stick to their default terminals.</p>
<p>Let&#8217;s get started. The dataset is huge, so we will go step by step. As the old joke goes, how do you eat an elephant?</p>
<p><img src="http://sheliamullican.com/wp-content/uploads/2012/01/one_bite.jpg" class="aligncenter" height="389" width="442" /></p>
<p>We will take mini steps. Some of these might seem easy, but still follow them, as they will combine into the final whole.</p>
<h2>Loop through all the files in the dataset</h2>
<p><iframe width="800" height="450" src="https://player.vimeo.com/video/151171515?title=0&amp;byline=0&amp;portrait=0" frameborder="0" webkitallowfullscreen="webkitallowfullscreen" mozallowfullscreen="mozallowfullscreen" allowfullscreen="allowfullscreen"></iframe></p>
<p>All the code is <a href="https://github.com/shantnu/Enron-Data-Set">here</a>. The file is <em>Enron1.py</em></p>
<p>To start off, we will see how to loop through all the files and folders in the email set.</p>
<p>We import the <em>os</em> library:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae96ab827547253918" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
import os</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae96ab827547253918-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae96ab827547253918-1"><span class="crayon-e">import </span><span class="crayon-v">os</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p></p>
<p>In the next step, we need to provide a link to where the Enron emails are:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae96ab833435988640" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
rootdir = "C:\\Users\\Shantnu\\Desktop\\Data Sources\\maildir\\lay-k"</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae96ab833435988640-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae96ab833435988640-1"><span class="crayon-v">rootdir</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"C:\\Users\\Shantnu\\Desktop\\Data Sources\\maildir\\lay-k"</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p></p>
<p><strong>Warning for Windows Users:</strong> Make sure you replace the slash (<em>&#42;) with a double slash (</em>&#92;*).</p>
<p>Also note that we are starting in the <em>lay-k</em> directory. These are the emails for<a href="https://en.wikipedia.org/wiki/Kenneth_Lay"> Kenneth Lay</a>, one time CEO and director, who went to prison. We are doing it this way to speed up our code, as otherwise it may take a long time to run.</p>
<p>We next use the <em>os.walk()</em> function to loop over the directories:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae96ab837042595938" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
for directory, subdirectory, filenames in  os.walk(rootdir):
    print(directory, subdirectory, len(filenames))

C:\Users\Shantnu\Desktop\Data Sources\maildir\lay-k ['all_documents', 'business', 'calendar', 'compaq', 'deleted_items',
 'discussion_threads', 'elizabeth', 'enron', 'family', 'inbox', 'notes_inbox', 'sec_panel', 'sent', 'sent_items', '_sent
'] 0
C:\Users\Shantnu\Desktop\Data Sources\maildir\lay-k\all_documents [] 1127
C:\Users\Shantnu\Desktop\Data Sources\maildir\lay-k\business [] 2
C:\Users\Shantnu\Desktop\Data Sources\maildir\lay-k\calendar [] 8
C:\Users\Shantnu\Desktop\Data Sources\maildir\lay-k\compaq [] 1
C:\Users\Shantnu\Desktop\Data Sources\maildir\lay-k\deleted_items [] 1126</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae96ab837042595938-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab837042595938-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae96ab837042595938-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab837042595938-4">4</div><div class="crayon-num" data-line="crayon-5bd0ae96ab837042595938-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab837042595938-6">6</div><div class="crayon-num" data-line="crayon-5bd0ae96ab837042595938-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab837042595938-8">8</div><div class="crayon-num" data-line="crayon-5bd0ae96ab837042595938-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab837042595938-10">10</div><div class="crayon-num" data-line="crayon-5bd0ae96ab837042595938-11">11</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae96ab837042595938-1"><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-v">directory</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">subdirectory</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">filenames </span><span class="crayon-st">in</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-e">walk</span><span class="crayon-sy">(</span><span class="crayon-v">rootdir</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab837042595938-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-v">directory</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">subdirectory</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">len</span><span class="crayon-sy">(</span><span class="crayon-v">filenames</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae96ab837042595938-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab837042595938-4"><span class="crayon-v">C</span><span class="crayon-o">:</span><span class="crayon-sy">\</span><span class="crayon-v">Users</span><span class="crayon-sy">\</span><span class="crayon-v">Shantnu</span><span class="crayon-sy">\</span><span class="crayon-v">Desktop</span><span class="crayon-sy">\</span><span class="crayon-e">Data </span><span class="crayon-v">Sources</span><span class="crayon-sy">\</span><span class="crayon-v">maildir</span><span class="crayon-sy">\</span><span class="crayon-v">lay</span><span class="crayon-o">-</span><span class="crayon-i">k</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'all_documents'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'business'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'calendar'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'compaq'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'deleted_items'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5bd0ae96ab837042595938-5"><span class="crayon-h"> </span><span class="crayon-s">'discussion_threads'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'elizabeth'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'enron'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'family'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'inbox'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'notes_inbox'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'sec_panel'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'sent'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'sent_items'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'_sent</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab837042595938-6"><span class="crayon-s">'</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-cn">0</span></div><div class="crayon-line" id="crayon-5bd0ae96ab837042595938-7"><span class="crayon-v">C</span><span class="crayon-o">:</span><span class="crayon-sy">\</span><span class="crayon-v">Users</span><span class="crayon-sy">\</span><span class="crayon-v">Shantnu</span><span class="crayon-sy">\</span><span class="crayon-v">Desktop</span><span class="crayon-sy">\</span><span class="crayon-e">Data </span><span class="crayon-v">Sources</span><span class="crayon-sy">\</span><span class="crayon-v">maildir</span><span class="crayon-sy">\</span><span class="crayon-v">lay</span><span class="crayon-o">-</span><span class="crayon-v">k</span><span class="crayon-sy">\</span><span class="crayon-v">all</span><span class="crayon-sy">_</span>documents<span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-cn">1127</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab837042595938-8"><span class="crayon-v">C</span><span class="crayon-o">:</span><span class="crayon-sy">\</span><span class="crayon-v">Users</span><span class="crayon-sy">\</span><span class="crayon-v">Shantnu</span><span class="crayon-sy">\</span><span class="crayon-v">Desktop</span><span class="crayon-sy">\</span><span class="crayon-e">Data </span><span class="crayon-v">Sources</span><span class="crayon-sy">\</span><span class="crayon-v">maildir</span><span class="crayon-sy">\</span><span class="crayon-v">lay</span><span class="crayon-o">-</span><span class="crayon-v">k</span><span class="crayon-sy">\</span><span class="crayon-i">business</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-cn">2</span></div><div class="crayon-line" id="crayon-5bd0ae96ab837042595938-9"><span class="crayon-v">C</span><span class="crayon-o">:</span><span class="crayon-sy">\</span><span class="crayon-v">Users</span><span class="crayon-sy">\</span><span class="crayon-v">Shantnu</span><span class="crayon-sy">\</span><span class="crayon-v">Desktop</span><span class="crayon-sy">\</span><span class="crayon-e">Data </span><span class="crayon-v">Sources</span><span class="crayon-sy">\</span><span class="crayon-v">maildir</span><span class="crayon-sy">\</span><span class="crayon-v">lay</span><span class="crayon-o">-</span><span class="crayon-v">k</span><span class="crayon-sy">\</span><span class="crayon-i">calendar</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-cn">8</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab837042595938-10"><span class="crayon-v">C</span><span class="crayon-o">:</span><span class="crayon-sy">\</span><span class="crayon-v">Users</span><span class="crayon-sy">\</span><span class="crayon-v">Shantnu</span><span class="crayon-sy">\</span><span class="crayon-v">Desktop</span><span class="crayon-sy">\</span><span class="crayon-e">Data </span><span class="crayon-v">Sources</span><span class="crayon-sy">\</span><span class="crayon-v">maildir</span><span class="crayon-sy">\</span><span class="crayon-v">lay</span><span class="crayon-o">-</span><span class="crayon-v">k</span><span class="crayon-sy">\</span><span class="crayon-i">compaq</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line" id="crayon-5bd0ae96ab837042595938-11"><span class="crayon-v">C</span><span class="crayon-o">:</span><span class="crayon-sy">\</span><span class="crayon-v">Users</span><span class="crayon-sy">\</span><span class="crayon-v">Shantnu</span><span class="crayon-sy">\</span><span class="crayon-v">Desktop</span><span class="crayon-sy">\</span><span class="crayon-e">Data </span><span class="crayon-v">Sources</span><span class="crayon-sy">\</span><span class="crayon-v">maildir</span><span class="crayon-sy">\</span><span class="crayon-v">lay</span><span class="crayon-o">-</span><span class="crayon-v">k</span><span class="crayon-sy">\</span><span class="crayon-v">deleted</span><span class="crayon-sy">_</span>items<span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-cn">1126</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0025 seconds] -->
<p></p>
<p>This will print the directory, sub directory and length of files (I&#8217;m not printing the actual files, as that messes the output, but the <em>os.walk</em> function actually returns each file it finds).</p>
<p>This is it for the first example. It was very short, but it shows us how we can loop over all the files in the email set. Now, change the root directory, so that instead of pointing to the <em>kay-l</em> folder, it points to the main one, and run the code again.</p>
<p>You will see it takes a fair time to run. If just printing the directories and files takes so long, how long would analysing them take?</p>
<p>Next, we learn how to open the emails.</p>
<h2>Opening the Emails in Python</h2>
<p>&nbsp;</p>
<p><iframe width="800" height="450" src="https://player.vimeo.com/video/151171512?title=0&amp;byline=0&amp;portrait=0" frameborder="0" webkitallowfullscreen="webkitallowfullscreen" mozallowfullscreen="mozallowfullscreen" allowfullscreen="allowfullscreen"></iframe></p>
<p>We work with <em>enron2.py</em>.</p>
<p>Go to the <em>lay-k</em> folder, then <em>all_documents</em>, and open file <em>1</em>.</p>
<p>Have a look at the Mime structure.</p>
<p>Originally, I was going to parse the file by hand (using regexes). I even wrote some code for it, but it was hundreds of lines long.</p>
<p>I searched around till I found a good library to open emails in Python, and this reduced the code from hundreds to tens of lines.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae96ab83b960026763" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
from email.parser import Parser</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae96ab83b960026763-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae96ab83b960026763-1"><span class="crayon-e">from </span><span class="crayon-v">email</span><span class="crayon-sy">.</span><span class="crayon-e">parser </span><span class="crayon-e">import </span><span class="crayon-v">Parser</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p></p>
<p>The <em>email.parser</em> is the library we want.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae96ab840267963536" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
file_to_read = "C:\\Users\\Shantnu\\Desktop\\Data Sources\\maildir\\lay-k\\all_documents\\1"</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae96ab840267963536-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae96ab840267963536-1"><span class="crayon-v">file_to_read</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"C:\\Users\\Shantnu\\Desktop\\Data Sources\\maildir\\lay-k\\all_documents\\1"</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p></p>
<p>Again, put a link to the file you want to read. Windows users, remember to use double slashes. This is the same file you viewed earlier. Let&#8217;s open the file:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae96ab843190939240" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
with open(file_to_read, "r") as f:
    data = f.read()</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae96ab843190939240-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab843190939240-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae96ab843190939240-1"><span class="crayon-e">with </span><span class="crayon-e">open</span><span class="crayon-sy">(</span><span class="crayon-v">file_to_read</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"r"</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">as</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab843190939240-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">data</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-e">read</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p></p>
<p>We now create an email parser instance:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae96ab845746276155" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
email = Parser().parsestr(data)</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae96ab845746276155-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae96ab845746276155-1"><span class="crayon-v">email</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">Parser</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">parsestr</span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p></p>
<p>Once that is done, getting the <em>to</em>, <em>from</em>, <em>subject</em> etc fields is fairly easy.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae96ab848595208405" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
print("\nTo: " , email['to'])
print("\n From: " , email['from'])

print("\n Subject: " , email['subject'])


To:  mmilken@knowledgeu.com

 From:  rosalee.fleming@enron.com

 Subject:  Re: testing</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae96ab848595208405-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab848595208405-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae96ab848595208405-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab848595208405-4">4</div><div class="crayon-num" data-line="crayon-5bd0ae96ab848595208405-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab848595208405-6">6</div><div class="crayon-num" data-line="crayon-5bd0ae96ab848595208405-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab848595208405-8">8</div><div class="crayon-num" data-line="crayon-5bd0ae96ab848595208405-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab848595208405-10">10</div><div class="crayon-num" data-line="crayon-5bd0ae96ab848595208405-11">11</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae96ab848595208405-1"><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-s">"\nTo: "</span><span class="crayon-h"> </span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">email</span><span class="crayon-sy">[</span><span class="crayon-s">'to'</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab848595208405-2"><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-s">"\n From: "</span><span class="crayon-h"> </span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">email</span><span class="crayon-sy">[</span><span class="crayon-s">'from'</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae96ab848595208405-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab848595208405-4"><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-s">"\n Subject: "</span><span class="crayon-h"> </span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">email</span><span class="crayon-sy">[</span><span class="crayon-s">'subject'</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae96ab848595208405-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab848595208405-6">&nbsp;</div><div class="crayon-line" id="crayon-5bd0ae96ab848595208405-7"><span class="crayon-st">To</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">mmilken</span><span class="crayon-sy">@</span><span class="crayon-v">knowledgeu</span><span class="crayon-sy">.</span><span class="crayon-e">com</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab848595208405-8">&nbsp;</div><div class="crayon-line" id="crayon-5bd0ae96ab848595208405-9"><span class="crayon-e"> </span><span class="crayon-v">From</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">rosalee</span><span class="crayon-sy">.</span><span class="crayon-v">fleming</span><span class="crayon-sy">@</span><span class="crayon-v">enron</span><span class="crayon-sy">.</span><span class="crayon-e">com</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab848595208405-10">&nbsp;</div><div class="crayon-line" id="crayon-5bd0ae96ab848595208405-11"><span class="crayon-e"> </span><span class="crayon-v">Subject</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">Re</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">testing</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0007 seconds] -->
<p></p>
<p>The only thing slightly confusing is how to get the body. You need to call a function for that:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae96ab84b534174112" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
print("\n \n Body: " , email.get_payload())

 Body:  Hi -

We did receive the e-mail.

Rosalee for Ken Lay





"Michael Milken" &lt;mmilken@knowledgeu.com&gt; on 07/02/99 10:21:40 AM
To: Kenneth Lay/Corp/Enron@Enron
cc:
Subject: testing</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae96ab84b534174112-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab84b534174112-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae96ab84b534174112-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab84b534174112-4">4</div><div class="crayon-num" data-line="crayon-5bd0ae96ab84b534174112-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab84b534174112-6">6</div><div class="crayon-num" data-line="crayon-5bd0ae96ab84b534174112-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab84b534174112-8">8</div><div class="crayon-num" data-line="crayon-5bd0ae96ab84b534174112-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab84b534174112-10">10</div><div class="crayon-num" data-line="crayon-5bd0ae96ab84b534174112-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab84b534174112-12">12</div><div class="crayon-num" data-line="crayon-5bd0ae96ab84b534174112-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab84b534174112-14">14</div><div class="crayon-num" data-line="crayon-5bd0ae96ab84b534174112-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab84b534174112-16">16</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae96ab84b534174112-1"><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-s">"\n \n Body: "</span><span class="crayon-h"> </span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">email</span><span class="crayon-sy">.</span><span class="crayon-e">get_payload</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab84b534174112-2">&nbsp;</div><div class="crayon-line" id="crayon-5bd0ae96ab84b534174112-3"><span class="crayon-h"> </span><span class="crayon-v">Body</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">Hi</span><span class="crayon-h"> </span><span class="crayon-o">-</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab84b534174112-4">&nbsp;</div><div class="crayon-line" id="crayon-5bd0ae96ab84b534174112-5"><span class="crayon-e">We </span><span class="crayon-e">did </span><span class="crayon-e">receive </span><span class="crayon-i">the</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-o">-</span><span class="crayon-v">mail</span><span class="crayon-sy">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab84b534174112-6">&nbsp;</div><div class="crayon-line" id="crayon-5bd0ae96ab84b534174112-7"><span class="crayon-e">Rosalee </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">Ken </span><span class="crayon-i">Lay</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab84b534174112-8">&nbsp;</div><div class="crayon-line" id="crayon-5bd0ae96ab84b534174112-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab84b534174112-10">&nbsp;</div><div class="crayon-line" id="crayon-5bd0ae96ab84b534174112-11">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab84b534174112-12">&nbsp;</div><div class="crayon-line" id="crayon-5bd0ae96ab84b534174112-13"><span class="crayon-s">"Michael Milken"</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-v">mmilken</span><span class="crayon-sy">@</span><span class="crayon-v">knowledgeu</span><span class="crayon-sy">.</span><span class="crayon-v">com</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-i">on</span><span class="crayon-h"> </span><span class="crayon-cn">07</span><span class="crayon-o">/</span><span class="crayon-cn">02</span><span class="crayon-o">/</span><span class="crayon-cn">99</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-o">:</span><span class="crayon-cn">21</span><span class="crayon-o">:</span><span class="crayon-cn">40</span><span class="crayon-h"> </span><span class="crayon-e">AM</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab84b534174112-14"><span class="crayon-st">To</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">Kenneth </span><span class="crayon-v">Lay</span><span class="crayon-o">/</span><span class="crayon-v">Corp</span><span class="crayon-o">/</span><span class="crayon-v">Enron</span><span class="crayon-sy">@</span><span class="crayon-e">Enron</span></div><div class="crayon-line" id="crayon-5bd0ae96ab84b534174112-15"><span class="crayon-v">cc</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab84b534174112-16"><span class="crayon-v">Subject</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">testing</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0009 seconds] -->
<p></p>
<p>Okay, now that we know how to loop over every single file in the dataset, and open emails, let&#8217;s combine the two. We will see who sent and received the most emails. We will also do some basic text analysis of Kenneth Lays emails.</p>
<h2>Analyse the Emails</h2>
<p><iframe width="800" height="450" src="https://player.vimeo.com/video/151171513?title=0&amp;byline=0&amp;portrait=0" frameborder="0" webkitallowfullscreen="webkitallowfullscreen" mozallowfullscreen="mozallowfullscreen" allowfullscreen="allowfullscreen"></iframe></p>
<p>The file is <em>Enron3.py</em>.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae96ab84e735419000" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
import os
from email.parser import Parser
rootdir = "C:\\Users\\Shantnu\\Desktop\\Data Sources\\maildir\\lay-k\\family"</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae96ab84e735419000-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab84e735419000-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae96ab84e735419000-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae96ab84e735419000-1"><span class="crayon-e">import </span><span class="crayon-e">os</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab84e735419000-2"><span class="crayon-e">from </span><span class="crayon-v">email</span><span class="crayon-sy">.</span><span class="crayon-e">parser </span><span class="crayon-e">import </span><span class="crayon-e">Parser</span></div><div class="crayon-line" id="crayon-5bd0ae96ab84e735419000-3"><span class="crayon-v">rootdir</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"C:\\Users\\Shantnu\\Desktop\\Data Sources\\maildir\\lay-k\\family"</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p></p>
<p>We import what we need. This time, we are working in the <em>lay-k&#92;family</em> folder, as it contains the fewest files, and will allow us to run our script quickly.</p>
<p>I have written a function to extract the data from the emails. Let&#8217;s look at the whole function, and then we&#8217;ll study it line by line:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae96ab851676012471" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
def email_analyse(inputfile, to_email_list, from_email_list, email_body):
    with open(inputfile, "r") as f:
        data = f.read()

    email = Parser().parsestr(data)

    to_email_list.append(email['to'])
    from_email_list.append(email['from'])

    email_body.append(email.get_payload())</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae96ab851676012471-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab851676012471-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae96ab851676012471-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab851676012471-4">4</div><div class="crayon-num" data-line="crayon-5bd0ae96ab851676012471-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab851676012471-6">6</div><div class="crayon-num" data-line="crayon-5bd0ae96ab851676012471-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab851676012471-8">8</div><div class="crayon-num" data-line="crayon-5bd0ae96ab851676012471-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab851676012471-10">10</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae96ab851676012471-1"><span class="crayon-e">def </span><span class="crayon-e">email_analyse</span><span class="crayon-sy">(</span><span class="crayon-v">inputfile</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">to_email_list</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">from_email_list</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">email_body</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab851676012471-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">with </span><span class="crayon-e">open</span><span class="crayon-sy">(</span><span class="crayon-v">inputfile</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"r"</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">as</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5bd0ae96ab851676012471-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">data</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-e">read</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab851676012471-4">&nbsp;</div><div class="crayon-line" id="crayon-5bd0ae96ab851676012471-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">email</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">Parser</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">parsestr</span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab851676012471-6">&nbsp;</div><div class="crayon-line" id="crayon-5bd0ae96ab851676012471-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">to_email_list</span><span class="crayon-sy">.</span><span class="crayon-e">append</span><span class="crayon-sy">(</span><span class="crayon-v">email</span><span class="crayon-sy">[</span><span class="crayon-s">'to'</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab851676012471-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">from_email_list</span><span class="crayon-sy">.</span><span class="crayon-e">append</span><span class="crayon-sy">(</span><span class="crayon-v">email</span><span class="crayon-sy">[</span><span class="crayon-s">'from'</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae96ab851676012471-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab851676012471-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">email_body</span><span class="crayon-sy">.</span><span class="crayon-e">append</span><span class="crayon-sy">(</span><span class="crayon-v">email</span><span class="crayon-sy">.</span><span class="crayon-e">get_payload</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0010 seconds] -->
<p></p>
<p>Okay, so the function is:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae96ab854546841728" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
def email_analyse(inputfile, to_email_list, from_email_list, email_body):</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae96ab854546841728-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae96ab854546841728-1"><span class="crayon-e">def </span><span class="crayon-e">email_analyse</span><span class="crayon-sy">(</span><span class="crayon-v">inputfile</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">to_email_list</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">from_email_list</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">email_body</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p></p>
<p><em>email_analyse()</em> takes in 4 parameters: the input email file, a list of all <em>To</em> emails, a list for <em>From</em> emails, and a list that contains the body(text) of the email.</p>
<p>The first thing to do is open the file, and parse the email with our parser:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae96ab857063120280" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
    with open(inputfile, "r") as f:
        data = f.read()

    email = Parser().parsestr(data)</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae96ab857063120280-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab857063120280-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae96ab857063120280-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab857063120280-4">4</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae96ab857063120280-1"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">with </span><span class="crayon-e">open</span><span class="crayon-sy">(</span><span class="crayon-v">inputfile</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"r"</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">as</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab857063120280-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">data</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-e">read</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae96ab857063120280-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab857063120280-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">email</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">Parser</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">parsestr</span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<p></p>
<p>Now that we have created our email instance, we can read the different fields and store them in the lists:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae96ab859946208669" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
    to_email_list.append(email['to'])
    from_email_list.append(email['from'])

    email_body.append(email.get_payload())</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae96ab859946208669-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab859946208669-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae96ab859946208669-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab859946208669-4">4</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae96ab859946208669-1"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">to_email_list</span><span class="crayon-sy">.</span><span class="crayon-e">append</span><span class="crayon-sy">(</span><span class="crayon-v">email</span><span class="crayon-sy">[</span><span class="crayon-s">'to'</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab859946208669-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">from_email_list</span><span class="crayon-sy">.</span><span class="crayon-e">append</span><span class="crayon-sy">(</span><span class="crayon-v">email</span><span class="crayon-sy">[</span><span class="crayon-s">'from'</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae96ab859946208669-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab859946208669-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">email_body</span><span class="crayon-sy">.</span><span class="crayon-e">append</span><span class="crayon-sy">(</span><span class="crayon-v">email</span><span class="crayon-sy">.</span><span class="crayon-e">get_payload</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0006 seconds] -->
<p></p>
<p>We append the 3 fields to their respective lists. So that the <em>email[&#8216;to&#8217;]</em> is appended to the <em>to_email_list</em>.</p>
<p>These lists are passed in, which means that they will be modified and returned. So that each time you call this function, it will add to the list, and the list will grow each time the function is called.</p>
<p>Now we come to the main code:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae96ab85c754590811" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
to_email_list = []
from_email_list = []
email_body = []</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae96ab85c754590811-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab85c754590811-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae96ab85c754590811-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae96ab85c754590811-1"><span class="crayon-v">to_email_list</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab85c754590811-2"><span class="crayon-v">from_email_list</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5bd0ae96ab85c754590811-3"><span class="crayon-v">email_body</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p></p>
<p>We create the 3 empty lists that will be passed to our function.</p>
<p>Next, we call the <em>os.walk()</em> function we saw earlier:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae96ab861336941126" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
for directory, subdirectory, filenames in  os.walk(rootdir):
    for filename in filenames:
        email_analyse(os.path.join(directory, filename), to_email_list, from_email_list, email_body )</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae96ab861336941126-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab861336941126-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae96ab861336941126-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae96ab861336941126-1"><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-v">directory</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">subdirectory</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">filenames </span><span class="crayon-st">in</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-e">walk</span><span class="crayon-sy">(</span><span class="crayon-v">rootdir</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab861336941126-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">filename </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">filenames</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5bd0ae96ab861336941126-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">email_analyse</span><span class="crayon-sy">(</span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">join</span><span class="crayon-sy">(</span><span class="crayon-v">directory</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">filename</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">to_email_list</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">from_email_list</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">email</span><span class="crayon-sy">_</span>body<span class="crayon-h"> </span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0007 seconds] -->
<p></p>
<p>The code is fairly easy. We just loop over all the directories and files, and call our <em>email_analyse</em> function each time. The part you might not get is:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae96ab864561381660" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
os.path.join(directory, filename)</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae96ab864561381660-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae96ab864561381660-1"><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">join</span><span class="crayon-sy">(</span><span class="crayon-v">directory</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">filename</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p></p>
<p>We are doing it this way, because we want the complete path to the file. Normally, <em>filename</em> will just contain the name, like <em>1</em>, <em>2</em> etc. But for our <em>open()</em> function, we need the whole path.</p>
<p>So the way the code works is, it loops over every single file in the directory and opens it, extracts the 3 fields we want, and returns them in the list. So far, so easy.</p>
<p>There is a problem with the code.</p>
<p>To show you why, we will write our lists to file:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae96ab867418941011" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
with open("to_email_list.txt", "w") as f:
    for to_email in to_email_list:
        if to_email:
            f.write(to_email)
            f.write("\n")</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae96ab867418941011-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab867418941011-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae96ab867418941011-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab867418941011-4">4</div><div class="crayon-num" data-line="crayon-5bd0ae96ab867418941011-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae96ab867418941011-1"><span class="crayon-e">with </span><span class="crayon-e">open</span><span class="crayon-sy">(</span><span class="crayon-s">"to_email_list.txt"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"w"</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">as</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab867418941011-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">to_email </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">to_email_list</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5bd0ae96ab867418941011-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">to_email</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab867418941011-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-e">write</span><span class="crayon-sy">(</span><span class="crayon-v">to_email</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae96ab867418941011-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-e">write</span><span class="crayon-sy">(</span><span class="crayon-s">"\n"</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0010 seconds] -->
<p></p>
<p>We loop over the <em>to_email_list</em>, and write each element to file. Some of these elements maybe <em>None</em> due to parsing problems, or corrupt emails, which is why we check this:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae96ab869929508332" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
if to_email:</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae96ab869929508332-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae96ab869929508332-1"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">to_email</span><span class="crayon-o">:</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p></p>
<p>I am writing a newline (<em>\n</em>) after each email, so that each email is written to a separate line in the file.</p>
<p>Similarly for the other lists:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae96ab86c067426949" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
with open("from_email_list.txt", "w") as f:
    for from_email in from_email_list:
        if from_email:
            f.write(from_email)
            f.write("\n")        

with open("email_body.txt", "w") as f:
    for email_bod in email_body:
        if email_bod:
            f.write(email_bod)
            f.write("\n")</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae96ab86c067426949-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab86c067426949-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae96ab86c067426949-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab86c067426949-4">4</div><div class="crayon-num" data-line="crayon-5bd0ae96ab86c067426949-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab86c067426949-6">6</div><div class="crayon-num" data-line="crayon-5bd0ae96ab86c067426949-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab86c067426949-8">8</div><div class="crayon-num" data-line="crayon-5bd0ae96ab86c067426949-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab86c067426949-10">10</div><div class="crayon-num" data-line="crayon-5bd0ae96ab86c067426949-11">11</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae96ab86c067426949-1"><span class="crayon-e">with </span><span class="crayon-e">open</span><span class="crayon-sy">(</span><span class="crayon-s">"from_email_list.txt"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"w"</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">as</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab86c067426949-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">from_email </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">from_email_list</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5bd0ae96ab86c067426949-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">from_email</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab86c067426949-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-e">write</span><span class="crayon-sy">(</span><span class="crayon-v">from_email</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae96ab86c067426949-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-e">write</span><span class="crayon-sy">(</span><span class="crayon-s">"\n"</span><span class="crayon-sy">)</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab86c067426949-6">&nbsp;</div><div class="crayon-line" id="crayon-5bd0ae96ab86c067426949-7"><span class="crayon-e">with </span><span class="crayon-e">open</span><span class="crayon-sy">(</span><span class="crayon-s">"email_body.txt"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"w"</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">as</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab86c067426949-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">email_bod </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">email_body</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5bd0ae96ab86c067426949-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">email_bod</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab86c067426949-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-e">write</span><span class="crayon-sy">(</span><span class="crayon-v">email_bod</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae96ab86c067426949-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-e">write</span><span class="crayon-sy">(</span><span class="crayon-s">"\n"</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0018 seconds] -->
<p></p>
<p>Let&#8217;s see the files we created. Ignore the body text email for now. Let&#8217;s open <em>from_email_.txt</em>:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae96ab86f534129883" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
beau@rrhinvestments.com
beau@rrhinvestments.com
mrslinda@lplpi.com
mrslinda@lplpi.com
mrslinda@lplpi.com
nlay@att.net
nlay@att.net
sally.keepers@enron.com</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae96ab86f534129883-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab86f534129883-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae96ab86f534129883-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab86f534129883-4">4</div><div class="crayon-num" data-line="crayon-5bd0ae96ab86f534129883-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab86f534129883-6">6</div><div class="crayon-num" data-line="crayon-5bd0ae96ab86f534129883-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab86f534129883-8">8</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae96ab86f534129883-1"><span class="crayon-v">beau</span><span class="crayon-sy">@</span><span class="crayon-v">rrhinvestments</span><span class="crayon-sy">.</span><span class="crayon-e">com</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab86f534129883-2"><span class="crayon-v">beau</span><span class="crayon-sy">@</span><span class="crayon-v">rrhinvestments</span><span class="crayon-sy">.</span><span class="crayon-e">com</span></div><div class="crayon-line" id="crayon-5bd0ae96ab86f534129883-3"><span class="crayon-v">mrslinda</span><span class="crayon-sy">@</span><span class="crayon-v">lplpi</span><span class="crayon-sy">.</span><span class="crayon-e">com</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab86f534129883-4"><span class="crayon-v">mrslinda</span><span class="crayon-sy">@</span><span class="crayon-v">lplpi</span><span class="crayon-sy">.</span><span class="crayon-e">com</span></div><div class="crayon-line" id="crayon-5bd0ae96ab86f534129883-5"><span class="crayon-v">mrslinda</span><span class="crayon-sy">@</span><span class="crayon-v">lplpi</span><span class="crayon-sy">.</span><span class="crayon-e">com</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab86f534129883-6"><span class="crayon-v">nlay</span><span class="crayon-sy">@</span><span class="crayon-v">att</span><span class="crayon-sy">.</span><span class="crayon-e">net</span></div><div class="crayon-line" id="crayon-5bd0ae96ab86f534129883-7"><span class="crayon-v">nlay</span><span class="crayon-sy">@</span><span class="crayon-v">att</span><span class="crayon-sy">.</span><span class="crayon-e">net</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab86f534129883-8"><span class="crayon-v">sally</span><span class="crayon-sy">.</span><span class="crayon-v">keepers</span><span class="crayon-sy">@</span><span class="crayon-v">enron</span><span class="crayon-sy">.</span><span class="crayon-v">com</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0011 seconds] -->
<p></p>
<p>That is correct. One email per line.</p>
<p>Let&#8217;s open the <em>to_email.txt</em>:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae96ab872870555733" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
kenneth.lay@enron.com
kenneth.lay@enron.com
kenneth.lay@enron.com
klay@enron.com, poppopindc@aol.com, dherrold@enlineresources.com, 
    nlay@worldnet.att.net, lizard_ar@yahoo.com, 
    marlenen@rowefurniture.com, aka@zdimensional.com, 
    rnegri@mindspring.com, bourneb@umsystem.edu, sharon@travelpark.com, 
    jessi020674@aol.com, jimemerson@hotmail.com, 


......... snipped ...................</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae96ab872870555733-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab872870555733-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae96ab872870555733-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab872870555733-4">4</div><div class="crayon-num" data-line="crayon-5bd0ae96ab872870555733-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab872870555733-6">6</div><div class="crayon-num" data-line="crayon-5bd0ae96ab872870555733-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab872870555733-8">8</div><div class="crayon-num" data-line="crayon-5bd0ae96ab872870555733-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab872870555733-10">10</div><div class="crayon-num" data-line="crayon-5bd0ae96ab872870555733-11">11</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae96ab872870555733-1"><span class="crayon-v">kenneth</span><span class="crayon-sy">.</span><span class="crayon-v">lay</span><span class="crayon-sy">@</span><span class="crayon-v">enron</span><span class="crayon-sy">.</span><span class="crayon-e">com</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab872870555733-2"><span class="crayon-v">kenneth</span><span class="crayon-sy">.</span><span class="crayon-v">lay</span><span class="crayon-sy">@</span><span class="crayon-v">enron</span><span class="crayon-sy">.</span><span class="crayon-e">com</span></div><div class="crayon-line" id="crayon-5bd0ae96ab872870555733-3"><span class="crayon-v">kenneth</span><span class="crayon-sy">.</span><span class="crayon-v">lay</span><span class="crayon-sy">@</span><span class="crayon-v">enron</span><span class="crayon-sy">.</span><span class="crayon-e">com</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab872870555733-4"><span class="crayon-v">klay</span><span class="crayon-sy">@</span><span class="crayon-v">enron</span><span class="crayon-sy">.</span><span class="crayon-v">com</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">poppopindc</span><span class="crayon-sy">@</span><span class="crayon-v">aol</span><span class="crayon-sy">.</span><span class="crayon-v">com</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">dherrold</span><span class="crayon-sy">@</span><span class="crayon-v">enlineresources</span><span class="crayon-sy">.</span><span class="crayon-v">com</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5bd0ae96ab872870555733-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">nlay</span><span class="crayon-sy">@</span><span class="crayon-v">worldnet</span><span class="crayon-sy">.</span><span class="crayon-v">att</span><span class="crayon-sy">.</span><span class="crayon-v">net</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">lizard_ar</span><span class="crayon-sy">@</span><span class="crayon-v">yahoo</span><span class="crayon-sy">.</span><span class="crayon-v">com</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab872870555733-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">marlenen</span><span class="crayon-sy">@</span><span class="crayon-v">rowefurniture</span><span class="crayon-sy">.</span><span class="crayon-v">com</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">aka</span><span class="crayon-sy">@</span><span class="crayon-v">zdimensional</span><span class="crayon-sy">.</span><span class="crayon-v">com</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5bd0ae96ab872870555733-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">rnegri</span><span class="crayon-sy">@</span><span class="crayon-v">mindspring</span><span class="crayon-sy">.</span><span class="crayon-v">com</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">bourneb</span><span class="crayon-sy">@</span><span class="crayon-v">umsystem</span><span class="crayon-sy">.</span><span class="crayon-v">edu</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">sharon</span><span class="crayon-sy">@</span><span class="crayon-v">travelpark</span><span class="crayon-sy">.</span><span class="crayon-v">com</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab872870555733-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">jessi020674</span><span class="crayon-sy">@</span><span class="crayon-v">aol</span><span class="crayon-sy">.</span><span class="crayon-v">com</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">jimemerson</span><span class="crayon-sy">@</span><span class="crayon-v">hotmail</span><span class="crayon-sy">.</span><span class="crayon-v">com</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5bd0ae96ab872870555733-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab872870555733-10">&nbsp;</div><div class="crayon-line" id="crayon-5bd0ae96ab872870555733-11"><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-i">snipped</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0033 seconds] -->
<p></p>
<p>The first three lines are correct, but in the fourth one, there are a dozen emails in one line. Our code didn&#8217;t work. Why not?</p>
<p>In the <em>lay-k/family</em> folder, open up the file <em>4</em>.</p>
<p><a href="/wp-content/uploads/2016/01/enron1.png" rel="attachment wp-att-2111"><img src="/wp-content/uploads/2016/01/enron1.png" alt="enron1" class="aligncenter wp-image-2111" height="328" width="714" srcset="/wp-content/uploads/2016/01/enron1.png 933w, /wp-content/uploads/2016/01/enron1-300x138.png 300w, /wp-content/uploads/2016/01/enron1-768x353.png 768w" sizes="(max-width: 714px) 85vw, 714px" /></a></p>
<p>You will see that the <em>To</em> field contains dozens of email addresses. When we parse that file, all those email addresses are written as one entry in the list, when each should be added separately.</p>
<h2>Fixing our Code</h2>
<p><iframe width="800" height="450" src="https://player.vimeo.com/video/151257636?title=0&amp;byline=0&amp;portrait=0" frameborder="0" webkitallowfullscreen="webkitallowfullscreen" mozallowfullscreen="mozallowfullscreen" allowfullscreen="allowfullscreen"></iframe></p>
<p>Files: <em>Enron4.py</em> and <em>Enron5.py</em>. The latter is a version of the former that works on the whole dataset, and so has the write to file code removed, to prevent the script taking days to finish.</p>
<p>The video goes into detail on how and why I made the choices I did. In the transcript, I will only give the final version of the code.</p>
<p>Most of the code is similar to the last example, so I will only show the new code.</p>
<p>In the function <em>email_analyse</em>, we add this code:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae96ab875740595425" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
if email['to']:
        email_to = email['to']
        email_to = email_to.replace("\n", "")
        email_to = email_to.replace("\t", "")
        email_to = email_to.replace(" ", "")</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae96ab875740595425-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab875740595425-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae96ab875740595425-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab875740595425-4">4</div><div class="crayon-num" data-line="crayon-5bd0ae96ab875740595425-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae96ab875740595425-1"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">email</span><span class="crayon-sy">[</span><span class="crayon-s">'to'</span><span class="crayon-sy">]</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab875740595425-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">email_to</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">email</span><span class="crayon-sy">[</span><span class="crayon-s">'to'</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5bd0ae96ab875740595425-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">email_to</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">email_to</span><span class="crayon-sy">.</span><span class="crayon-e">replace</span><span class="crayon-sy">(</span><span class="crayon-s">"\n"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab875740595425-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">email_to</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">email_to</span><span class="crayon-sy">.</span><span class="crayon-e">replace</span><span class="crayon-sy">(</span><span class="crayon-s">"\t"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae96ab875740595425-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">email_to</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">email_to</span><span class="crayon-sy">.</span><span class="crayon-e">replace</span><span class="crayon-sy">(</span><span class="crayon-s">" "</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0014 seconds] -->
<p></p>
<p>Like I said earlier, some of the fields are empty (due to data corruption, old Mime formats that can&#8217;t be parsed, we don&#8217;t know). So we check if the <em>email[&#8216;to&#8217;]</em> field exists.</p>
<p>If it does, we remove all the newline characters (<em>\n</em>), all the tabs (<em>\t</em>) and empty spaces. This is to ensure the code is parsed correctly. So after our replacing, something like:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae96ab87a257444483" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
klay@enron.com, poppopindc@aol.com, dherrold@enlineresources.com, 
    nlay@worldnet.att.net, lizard_ar@yahoo.com, 
    marlenen@rowefurniture.com, aka@zdimensional.com,</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae96ab87a257444483-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab87a257444483-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae96ab87a257444483-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae96ab87a257444483-1"><span class="crayon-v">klay</span><span class="crayon-sy">@</span><span class="crayon-v">enron</span><span class="crayon-sy">.</span><span class="crayon-v">com</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">poppopindc</span><span class="crayon-sy">@</span><span class="crayon-v">aol</span><span class="crayon-sy">.</span><span class="crayon-v">com</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">dherrold</span><span class="crayon-sy">@</span><span class="crayon-v">enlineresources</span><span class="crayon-sy">.</span><span class="crayon-v">com</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab87a257444483-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">nlay</span><span class="crayon-sy">@</span><span class="crayon-v">worldnet</span><span class="crayon-sy">.</span><span class="crayon-v">att</span><span class="crayon-sy">.</span><span class="crayon-v">net</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">lizard_ar</span><span class="crayon-sy">@</span><span class="crayon-v">yahoo</span><span class="crayon-sy">.</span><span class="crayon-v">com</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5bd0ae96ab87a257444483-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">marlenen</span><span class="crayon-sy">@</span><span class="crayon-v">rowefurniture</span><span class="crayon-sy">.</span><span class="crayon-v">com</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">aka</span><span class="crayon-sy">@</span><span class="crayon-v">zdimensional</span><span class="crayon-sy">.</span><span class="crayon-v">com</span><span class="crayon-sy">,</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0013 seconds] -->
<p></p>
<p>will become</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae96ab87d438817780" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
klay@enron.com,poppopindc@aol.com,dherrold@enlineresources.com,nlay@worldnet.att.net,lizard_ar@yahoo.com,marlenen@rowefurniture.com,aka@zdimensional.com,</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae96ab87d438817780-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae96ab87d438817780-1"><span class="crayon-v">klay</span><span class="crayon-sy">@</span><span class="crayon-v">enron</span><span class="crayon-sy">.</span><span class="crayon-v">com</span><span class="crayon-sy">,</span><span class="crayon-v">poppopindc</span><span class="crayon-sy">@</span><span class="crayon-v">aol</span><span class="crayon-sy">.</span><span class="crayon-v">com</span><span class="crayon-sy">,</span><span class="crayon-v">dherrold</span><span class="crayon-sy">@</span><span class="crayon-v">enlineresources</span><span class="crayon-sy">.</span><span class="crayon-v">com</span><span class="crayon-sy">,</span><span class="crayon-v">nlay</span><span class="crayon-sy">@</span><span class="crayon-v">worldnet</span><span class="crayon-sy">.</span><span class="crayon-v">att</span><span class="crayon-sy">.</span><span class="crayon-v">net</span><span class="crayon-sy">,</span><span class="crayon-v">lizard_ar</span><span class="crayon-sy">@</span><span class="crayon-v">yahoo</span><span class="crayon-sy">.</span><span class="crayon-v">com</span><span class="crayon-sy">,</span><span class="crayon-v">marlenen</span><span class="crayon-sy">@</span><span class="crayon-v">rowefurniture</span><span class="crayon-sy">.</span><span class="crayon-v">com</span><span class="crayon-sy">,</span><span class="crayon-v">aka</span><span class="crayon-sy">@</span><span class="crayon-v">zdimensional</span><span class="crayon-sy">.</span><span class="crayon-v">com</span><span class="crayon-sy">,</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0012 seconds] -->
<p></p>
<p>All special characters are gone. We can now extract all the individual emails:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae96ab87f099736299" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
email_to = email_to.split(",")</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae96ab87f099736299-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae96ab87f099736299-1"><span class="crayon-v">email_to</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">email_to</span><span class="crayon-sy">.</span><span class="crayon-e">split</span><span class="crayon-sy">(</span><span class="crayon-s">","</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p></p>
<p>This will return a list with all the emails in the file (as the emails are separated by a comma). Note that if the file only had one email, the code will still work, as it will return a list with just one element.</p>
<p>We now loop over the list and append it to the <em>to_email_list</em>:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae96ab882316527260" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
for email_to_1 in email_to:
            to_email_list.append(email_to_1)</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae96ab882316527260-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab882316527260-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae96ab882316527260-1"><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">email_to_1 </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">email_to</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab882316527260-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">to_email_list</span><span class="crayon-sy">.</span><span class="crayon-e">append</span><span class="crayon-sy">(</span><span class="crayon-v">email_to_1</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p></p>
<p>The rest of the function is the same.</p>
<p>In the main code, we remove the code to write to a file, as we don&#8217;t need it. Instead, we want to count the emails, to find out who the top 10 most popular addresses are.</p>
<p>We will use the <em>Counter</em> library for this.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae96ab885895223531" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
print(Counter(to_email_list).most_common(10))</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae96ab885895223531-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae96ab885895223531-1"><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-e">Counter</span><span class="crayon-sy">(</span><span class="crayon-v">to_email_list</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">most_common</span><span class="crayon-sy">(</span><span class="crayon-cn">10</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p></p>
<p>We convert the <em>to_email_list</em> to Counter object. This will count all the unique emails in the list. When then call the <em>most_common()</em> function to get the ten most common emails.</p>
<p>The final code is:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae96ab888893748147" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
print("\nTo email adresses: \n")
print(Counter(to_email_list).most_common(10))

print("\nFrom email adresses: \n")
print(Counter(from_email_list).most_common(10))</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae96ab888893748147-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab888893748147-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae96ab888893748147-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab888893748147-4">4</div><div class="crayon-num" data-line="crayon-5bd0ae96ab888893748147-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae96ab888893748147-1"><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-s">"\nTo email adresses: \n"</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab888893748147-2"><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-e">Counter</span><span class="crayon-sy">(</span><span class="crayon-v">to_email_list</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">most_common</span><span class="crayon-sy">(</span><span class="crayon-cn">10</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae96ab888893748147-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab888893748147-4"><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-s">"\nFrom email adresses: \n"</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae96ab888893748147-5"><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-e">Counter</span><span class="crayon-sy">(</span><span class="crayon-v">from_email_list</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">most_common</span><span class="crayon-sy">(</span><span class="crayon-cn">10</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<p></p>
<p>Remember, we are still in the lay-k (or Kenneth Lay&#8217;s) folder. The result is:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae96ab88a397144099" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
To email adresses:

[('kenneth.lay@enron.com', 2039), ('klay@enron.com', 1903), ('jeff.skilling@enron.com', 372), ('mark.koenig@enron.com',
313), ('mark.frevert@enron.com', 304), ('greg.whalley@enron.com', 304), ('steven.kean@enron.com', 278), ('mike.mcconnell
@enron.com', 261), ('jeffrey.mcmahon@enron.com', 251), ('john.sherriff@enron.com', 244)]

From email adresses:

[('rosalee.fleming@enron.com', 856), ('brown_mary_jo@lilly.com', 82), ('leonardo.pacheco@enron.com', 78), ('savont@email
.msn.com', 66), ('tori.wells@enron.com', 58), ('elizabeth.davis@compaq.com', 50), ('no.address@enron.com', 47), ('kather
ine.brown@enron.com', 47), ('mrslinda@lplpi.com', 40), ('lizard_ar@yahoo.com', 36)]</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae96ab88a397144099-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab88a397144099-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae96ab88a397144099-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab88a397144099-4">4</div><div class="crayon-num" data-line="crayon-5bd0ae96ab88a397144099-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab88a397144099-6">6</div><div class="crayon-num" data-line="crayon-5bd0ae96ab88a397144099-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab88a397144099-8">8</div><div class="crayon-num" data-line="crayon-5bd0ae96ab88a397144099-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab88a397144099-10">10</div><div class="crayon-num" data-line="crayon-5bd0ae96ab88a397144099-11">11</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae96ab88a397144099-1"><span class="crayon-st">To</span><span class="crayon-h"> </span><span class="crayon-e">email </span><span class="crayon-v">adresses</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab88a397144099-2">&nbsp;</div><div class="crayon-line" id="crayon-5bd0ae96ab88a397144099-3"><span class="crayon-sy">[</span><span class="crayon-sy">(</span><span class="crayon-s">'kenneth.lay@enron.com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2039</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'klay@enron.com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1903</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'jeff.skilling@enron.com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">372</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'mark.koenig@enron.com'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab88a397144099-4"><span class="crayon-cn">313</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'mark.frevert@enron.com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">304</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'greg.whalley@enron.com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">304</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'steven.kean@enron.com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">278</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'mike.mcconnell</span></div><div class="crayon-line" id="crayon-5bd0ae96ab88a397144099-5"><span class="crayon-s">@enron.com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">261</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'jeffrey.mcmahon@enron.com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">251</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'john.sherriff@enron.com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">244</span><span class="crayon-sy">)</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab88a397144099-6">&nbsp;</div><div class="crayon-line" id="crayon-5bd0ae96ab88a397144099-7"><span class="crayon-e">From </span><span class="crayon-e">email </span><span class="crayon-v">adresses</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab88a397144099-8">&nbsp;</div><div class="crayon-line" id="crayon-5bd0ae96ab88a397144099-9"><span class="crayon-sy">[</span><span class="crayon-sy">(</span><span class="crayon-s">'rosalee.fleming@enron.com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">856</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'brown_mary_jo@lilly.com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">82</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'leonardo.pacheco@enron.com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">78</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'savont@email</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab88a397144099-10"><span class="crayon-s">.msn.com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">66</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'tori.wells@enron.com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">58</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'elizabeth.davis@compaq.com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">50</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'no.address@enron.com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">47</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'kather</span></div><div class="crayon-line" id="crayon-5bd0ae96ab88a397144099-11"><span class="crayon-s">ine.brown@enron.com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">47</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'mrslinda@lplpi.com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">40</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'lizard_ar@yahoo.com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">36</span><span class="crayon-sy">)</span><span class="crayon-sy">]</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0018 seconds] -->
<p></p>
<p>Most of the emails were sent with Lay&#8217;s own email address (as we are looking at his data). It seemed he had two email addreses: <em>kenneth.lay@enron.com</em> and <em>klay@enron.com</em></p>
<p>The most emails he received were from Rosalee Fleming.</p>
<p>If you look at Enron5.py, it&#8217;s the same file, but the root directory is the whole email set. This means it will take longer to run. I have removed the write to file functions, as otherwise the code takes a whole day or two to run. If you run this file, it will find the most common to and fromÂ  emails in the whole company.</p>
<p>This is the result:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae96ab88e178724813" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
To:
[('richard.shapiro@enron.com', 15149), ('jeff.dasovich@enron.com', 14207), ('tana.jones@enron.com', 12828), ('steven.kea
n@enron.com', 12754), ('sara.shackleton@enron.com', 11433), ('james.steffes@enron.com', 10347), ('mark.taylor@enron.com'
, 9787), ('pete.davis@enron.com', 9281), ('susan.mara@enron.com', 9064), ('paul.kaufman@enron.com', 8522)]



From:
[('kay.mann@enron.com', 16735), ('vince.kaminski@enron.com', 14368), ('jeff.dasovich@enron.com', 11411), ('pete.davis@en
ron.com', 9149), ('chris.germany@enron.com', 8801), ('sara.shackleton@enron.com', 8777), ('enron.announcements@enron.com
', 8587), ('tana.jones@enron.com', 8490), ('steven.kean@enron.com', 6759), ('kate.symes@enron.com', 5438)]</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae96ab88e178724813-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab88e178724813-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae96ab88e178724813-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab88e178724813-4">4</div><div class="crayon-num" data-line="crayon-5bd0ae96ab88e178724813-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab88e178724813-6">6</div><div class="crayon-num" data-line="crayon-5bd0ae96ab88e178724813-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab88e178724813-8">8</div><div class="crayon-num" data-line="crayon-5bd0ae96ab88e178724813-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab88e178724813-10">10</div><div class="crayon-num" data-line="crayon-5bd0ae96ab88e178724813-11">11</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae96ab88e178724813-1"><span class="crayon-st">To</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab88e178724813-2"><span class="crayon-sy">[</span><span class="crayon-sy">(</span><span class="crayon-s">'richard.shapiro@enron.com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">15149</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'jeff.dasovich@enron.com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">14207</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'tana.jones@enron.com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">12828</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'steven.kea</span></div><div class="crayon-line" id="crayon-5bd0ae96ab88e178724813-3"><span class="crayon-s">n@enron.com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">12754</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'sara.shackleton@enron.com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">11433</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'james.steffes@enron.com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">10347</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'mark.taylor@enron.com'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab88e178724813-4"><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">9787</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'pete.davis@enron.com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">9281</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'susan.mara@enron.com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">9064</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'paul.kaufman@enron.com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">8522</span><span class="crayon-sy">)</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5bd0ae96ab88e178724813-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab88e178724813-6">&nbsp;</div><div class="crayon-line" id="crayon-5bd0ae96ab88e178724813-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab88e178724813-8"><span class="crayon-v">From</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5bd0ae96ab88e178724813-9"><span class="crayon-sy">[</span><span class="crayon-sy">(</span><span class="crayon-s">'kay.mann@enron.com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">16735</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'vince.kaminski@enron.com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">14368</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'jeff.dasovich@enron.com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">11411</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'pete.davis@en</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab88e178724813-10"><span class="crayon-s">ron.com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">9149</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'chris.germany@enron.com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">8801</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'sara.shackleton@enron.com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">8777</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'enron.announcements@enron.com</span></div><div class="crayon-line" id="crayon-5bd0ae96ab88e178724813-11"><span class="crayon-s">'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">8587</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'tana.jones@enron.com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">8490</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'steven.kean@enron.com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">6759</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'kate.symes@enron.com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">5438</span><span class="crayon-sy">)</span><span class="crayon-sy">]</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0019 seconds] -->
<p></p>
<p>You can Google these people to know who they were. In the <em>To</em> list, the top person is Richard Shapiro. He was the Vice President and lobbyist (&#8220;bribery guy&#8221;) for Enron. A lot of his emails are about handing dollars to politicians, and getting favourable laws passed. The fact that he received the most emails shows he was in touch with everything that was happening.</p>
<p>The highest <em>From</em> field, which is emails received from, is Kay Mann, who was the head of legal for Enron. The fact that she sent so many emails is ironical, seeing as how Enron was breaking every law in the book (keep in mind that most employees, including Kay Mann, were innocent. Only the top executives were guilty, and most went to prison).</p>
<p>But I still found this fact very funny. A company with such a active legal department, and yet the executives ignored (or didn&#8217;t care) about the law at all.</p>
<p>Right, to the final analysis.</p>
<h2>Most Common Words in Kenneth Lay&#8217;s emails</h2>
<p><iframe width="800" height="450" src="https://player.vimeo.com/video/151257635?title=0&amp;byline=0&amp;portrait=0" frameborder="0" webkitallowfullscreen="webkitallowfullscreen" mozallowfullscreen="mozallowfullscreen" allowfullscreen="allowfullscreen"></iframe></p>
<p>Make sure you&#8217;ve done the NLTK intro (and its part 2) before tackling this.</p>
<p>If you remember, we wrote all of K Lay&#8217;s emails to a file. Let&#8217;s see if we can analyse that.</p>
<p>I&#8217;ve renamed the file <em>email_body.txt</em> to <em>ken_lay_emails.txt</em>.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae96ab893353421790" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
import nltk
from nltk.tokenize import word_tokenize
from nltk.corpus import stopwords</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae96ab893353421790-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab893353421790-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae96ab893353421790-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae96ab893353421790-1"><span class="crayon-e">import </span><span class="crayon-e">nltk</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab893353421790-2"><span class="crayon-e">from </span><span class="crayon-v">nltk</span><span class="crayon-sy">.</span><span class="crayon-e">tokenize </span><span class="crayon-e">import </span><span class="crayon-e">word_tokenize</span></div><div class="crayon-line" id="crayon-5bd0ae96ab893353421790-3"><span class="crayon-e">from </span><span class="crayon-v">nltk</span><span class="crayon-sy">.</span><span class="crayon-e">corpus </span><span class="crayon-e">import </span><span class="crayon-v">stopwords</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p></p>
<p>We import our nltk libraries.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae96ab896405655653" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
with open("ken_lay_emails.txt", "r") as f:
    data = f.read()</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae96ab896405655653-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab896405655653-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae96ab896405655653-1"><span class="crayon-e">with </span><span class="crayon-e">open</span><span class="crayon-sy">(</span><span class="crayon-s">"ken_lay_emails.txt"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"r"</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">as</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab896405655653-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">data</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-e">read</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p></p>
<p>We read the file.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae96ab898009725430" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
words= word_tokenize(data)

useful_words = [word  for word in words if word not in stopwords.words('English')]</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae96ab898009725430-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab898009725430-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae96ab898009725430-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae96ab898009725430-1"><span class="crayon-v">words</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">word_tokenize</span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab898009725430-2">&nbsp;</div><div class="crayon-line" id="crayon-5bd0ae96ab898009725430-3"><span class="crayon-v">useful_words</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-t">word</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-t">word</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-e">words </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-t">word</span><span class="crayon-h"> </span><span class="crayon-st">not</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">stopwords</span><span class="crayon-sy">.</span><span class="crayon-e">words</span><span class="crayon-sy">(</span><span class="crayon-s">'English'</span><span class="crayon-sy">)</span><span class="crayon-sy">]</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<p></p>
<p>Next we tokenize it, and remove all the stop words.</p>
<p>Finally, we find the frequency of words:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae96ab89b735225450" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
frequency = nltk.FreqDist(useful_words)

print(frequency.most_common(100))</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae96ab89b735225450-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab89b735225450-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae96ab89b735225450-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae96ab89b735225450-1"><span class="crayon-v">frequency</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">nltk</span><span class="crayon-sy">.</span><span class="crayon-e">FreqDist</span><span class="crayon-sy">(</span><span class="crayon-v">useful_words</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab89b735225450-2">&nbsp;</div><div class="crayon-line" id="crayon-5bd0ae96ab89b735225450-3"><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-v">frequency</span><span class="crayon-sy">.</span><span class="crayon-e">most_common</span><span class="crayon-sy">(</span><span class="crayon-cn">100</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p></p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae96ab89e984378088" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
[(',', 82443), ('.', 59781), ('--', 27631), ('?', 26239), ('&gt;', 22136), (':', 21640), 
('@', 20084), ('Enron', 14536), ('I', 13970), ("'s", 10955), ("''", 10811), 
(')', 10030), ('(', 9479), ('&lt;', 7817), ('-', 7340), ('The', 7138), (';', 5981), 
('company', 5943), ('``', 5721), ('employees', 5234), ('$', 4969), ('energy', 4437), 
('To', 4020), ('made', 3994), ('=20', 3921), ('would', 3843), ('California', 3734),
 ('Lay', 3468), ('consumers', 3441), ('Ken', 3402), ('http', 3213), ('Please', 3200), 
('We', 3051), ('&amp;', 3048), ('million', 2866), ('!', 2678), ('stock', 2670), ('Mr.', 2621), ('pay', 2491), ('...', 2444)
, ('funds', 2393), ('retirement', 2329), ('bills', 2298), ('bankruptcy', 2297), ('millions', 2294),
 ('donate', 2260), ('declared', 2250), ("n't", 2217), ('year', 2201), ('As', 2199), ('New', 2190), ('ENRON', 2182), ('help', 2154),
 ('information', 2095), ('know', 2086), ('last', 2060), ('time', 2039), ('*', 2036), ('well', 1998), ('If', 1933), ('us', 1911), 
('many', 1899), ("'", 1879), ('please', 1869), ('new', 1821), ('provide', 1818), ('This', 1789), ('Subject', 1783), ('2000', 1763), ('like', 1749),
 ('business', 1706), ('meeting', 1701), ('%', 1678), ('Houston', 1658), ('York', 1558), ('2001', 1544), ('keep', 1521), ('=', 1521), ('ECT', 1519),
 ("'m", 1517), ('also', 1516), ('efforts', 1504), ('And', 1488), ('In', 1475), ('one', 1458), ('enron.com', 1449), ('money', 1426), ('state', 1423),
 ('set', 1422), ('Sincerely', 1398), ('call', 1385), ('100', 1373), ('October', 1363), ('result', 1362), ('largest', 1354), ('may', 1353), 
('plans', 1352), ('Times', 1351), ('A', 1297), ('Communications', 1294)]</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae96ab89e984378088-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab89e984378088-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae96ab89e984378088-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab89e984378088-4">4</div><div class="crayon-num" data-line="crayon-5bd0ae96ab89e984378088-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab89e984378088-6">6</div><div class="crayon-num" data-line="crayon-5bd0ae96ab89e984378088-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab89e984378088-8">8</div><div class="crayon-num" data-line="crayon-5bd0ae96ab89e984378088-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab89e984378088-10">10</div><div class="crayon-num" data-line="crayon-5bd0ae96ab89e984378088-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab89e984378088-12">12</div><div class="crayon-num" data-line="crayon-5bd0ae96ab89e984378088-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae96ab89e984378088-14">14</div><div class="crayon-num" data-line="crayon-5bd0ae96ab89e984378088-15">15</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae96ab89e984378088-1"><span class="crayon-sy">[</span><span class="crayon-sy">(</span><span class="crayon-s">','</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">82443</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'.'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">59781</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'--'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">27631</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'?'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">26239</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'&gt;'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">22136</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">':'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">21640</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab89e984378088-2"><span class="crayon-sy">(</span><span class="crayon-s">'@'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">20084</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'Enron'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">14536</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'I'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">13970</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">"'s"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">10955</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">"''"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">10811</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5bd0ae96ab89e984378088-3"><span class="crayon-sy">(</span><span class="crayon-s">')'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">10030</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'('</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">9479</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'&lt;'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">7817</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'-'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">7340</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'The'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">7138</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">';'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">5981</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab89e984378088-4"><span class="crayon-sy">(</span><span class="crayon-s">'company'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">5943</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'``'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">5721</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'employees'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">5234</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'$'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">4969</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'energy'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">4437</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5bd0ae96ab89e984378088-5"><span class="crayon-sy">(</span><span class="crayon-s">'To'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">4020</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'made'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">3994</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'=20'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">3921</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'would'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">3843</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'California'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">3734</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab89e984378088-6"><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'Lay'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">3468</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'consumers'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">3441</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'Ken'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">3402</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'http'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">3213</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'Please'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">3200</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5bd0ae96ab89e984378088-7"><span class="crayon-sy">(</span><span class="crayon-s">'We'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">3051</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'&amp;'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">3048</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'million'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2866</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'!'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2678</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'stock'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2670</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'Mr.'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2621</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'pay'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2491</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'...'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2444</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab89e984378088-8"><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'funds'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2393</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'retirement'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2329</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'bills'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2298</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'bankruptcy'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2297</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'millions'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2294</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5bd0ae96ab89e984378088-9"><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'donate'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2260</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'declared'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2250</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">"n't"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2217</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'year'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2201</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'As'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2199</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'New'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2190</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'ENRON'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2182</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'help'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2154</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab89e984378088-10"><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'information'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2095</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'know'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2086</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'last'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2060</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'time'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2039</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'*'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2036</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'well'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1998</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'If'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1933</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'us'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1911</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5bd0ae96ab89e984378088-11"><span class="crayon-sy">(</span><span class="crayon-s">'many'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1899</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">"'"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1879</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'please'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1869</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'new'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1821</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'provide'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1818</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'This'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1789</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'Subject'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1783</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'2000'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1763</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'like'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1749</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab89e984378088-12"><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'business'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1706</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'meeting'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1701</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'%'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1678</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'Houston'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1658</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'York'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1558</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'2001'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1544</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'keep'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1521</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'='</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1521</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'ECT'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1519</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5bd0ae96ab89e984378088-13"><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">"'m"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1517</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'also'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1516</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'efforts'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1504</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'And'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1488</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'In'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1475</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'one'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1458</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'enron.com'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1449</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'money'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1426</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'state'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1423</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae96ab89e984378088-14"><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'set'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1422</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'Sincerely'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1398</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'call'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1385</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'100'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1373</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'October'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1363</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'result'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1362</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'largest'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1354</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'may'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1353</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5bd0ae96ab89e984378088-15"><span class="crayon-sy">(</span><span class="crayon-s">'plans'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1352</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'Times'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1351</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'A'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1297</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'Communications'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1294</span><span class="crayon-sy">)</span><span class="crayon-sy">]</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0125 seconds] -->
<p></p>
<p>Some words like <em>communication</em> and <em>energy</em> are expected, as that&#8217;s what Enron did.</p>
<p>But I kept seeing <em>million</em>, <em>millions</em> and interestingly, <strong>bankruptcy</strong>.</p>
<p>The word California was mentioned 3734 times. The company had some (bad, I think) history there.</p>
<p>Finally, the word <em>meeting</em> was mentioned 1700 times. K Lay sure was a busy man.</p>
<p>And that&#8217;s it. This was a quick intro to the Enron corpus.</p>
<p>While doing this analysis, I was struck by how long it took to analyse the whole thing. Combining all the words in all the emails took a whole day for me (of course, the final file was almost a gigabyte in size).</p>
<p>This led me to believe I should introduce lessons on multi-processing earlier than I was planing. We&#8217;ll come back to the Enron email corpus again in the future.</p>
	</div><!-- .entry-content -->

	
</article><!-- #post-## -->

	</main><!-- .site-main -->

	
</div><!-- .content-area -->


	<aside id="secondary" class="sidebar widget-area" role="complementary">
		<section id="search-4" class="widget widget_search">
<form role="search" method="get" class="search-form" action="/">
	<label>
		<span class="screen-reader-text">Search for:</span>
		<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s" />
	</label>
	<button type="submit" class="search-submit"><span class="screen-reader-text">Search</span></button>
</form>
</section><section id="text-4" class="widget widget_text"><h2 class="widget-title">WARNING</h2>			<div class="textwidget"><p>This site is now in maintenance mode. <a href="/maintenance-mode/">Please see here for details</a></p>
<p>&nbsp;</p>
<p><strong>Tldr</strong>: I am no longer working actively on the site, though I will keep it online as it is still helping a lot of people.</p>
</div>
		</section>	</aside><!-- .sidebar .widget-area -->

		</div><!-- .site-content -->

		<footer id="colophon" class="site-footer" role="contentinfo">
							<nav class="main-navigation" role="navigation" aria-label="Footer Primary Menu">
					<div class="menu-main-container"><ul id="menu-main-1" class="primary-menu"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-52"><a href="/articles/">Articles</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1533"><a href="/about/">About</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-35"><a href="/contact/">Contact</a></li>
</ul></div>				</nav><!-- .main-navigation -->
			
			
			<div class="site-info">
								<span class="site-title"><a href="/" rel="home">Python For Engineers</a></span>
								<a href="https://wordpress.org/" class="imprint">
					Proudly powered by WordPress				</a>
			</div><!-- .site-info -->
		</footer><!-- .site-footer -->
	</div><!-- .site-inner -->
</div><!-- .site -->

<script type='text/javascript' src='/wp-content/themes/twentysixteen/js/skip-link-focus-fix.js?ver=20160816'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var screenReaderText = {"expand":"expand child menu","collapse":"collapse child menu"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/themes/twentysixteen/js/functions.js?ver=20160816'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var tve_dash_front = {"ajaxurl":"http:\/\/pythonforengineers.com\/wp-admin\/admin-ajax.php","force_ajax_send":"","is_crawler":"1"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/thrive-visual-editor/thrive-dashboard/js/dist/frontend.min.js?ver=2.0.45'></script>
<script type='text/javascript' src='/wp-includes/js/wp-embed.min.js?ver=4.9.8'></script>
</body>
</html>
