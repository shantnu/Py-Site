<!DOCTYPE html>
<html lang="en-US" class="no-js">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="profile" href="http://gmpg.org/xfn/11">
		<script>(function(html){html.className = html.className.replace(/\bno-js\b/,'js')})(document.documentElement);</script>
<title>Image and Video Processing in Python &#8211; Python For Engineers</title>
<link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Python For Engineers &raquo; Feed" href="/feed/" />
<link rel="alternate" type="application/rss+xml" title="Python For Engineers &raquo; Comments Feed" href="/comments/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/pythonforengineers.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.9.8"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56760,9792,65039],[55358,56760,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='crayon-css'  href='/wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-theme-github-css'  href='/wp-content/plugins/crayon-syntax-highlighter/themes/github/github.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-font-monaco-css'  href='/wp-content/plugins/crayon-syntax-highlighter/fonts/monaco.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='twentysixteen-fonts-css'  href='https://fonts.googleapis.com/css?family=Merriweather%3A400%2C700%2C900%2C400italic%2C700italic%2C900italic%7CMontserrat%3A400%2C700%7CInconsolata%3A400&#038;subset=latin%2Clatin-ext' type='text/css' media='all' />
<link rel='stylesheet' id='genericons-css'  href='/wp-content/themes/twentysixteen/genericons/genericons.css?ver=3.4.1' type='text/css' media='all' />
<link rel='stylesheet' id='twentysixteen-style-css'  href='/wp-content/themes/twentysixteen/style.css?ver=4.9.8' type='text/css' media='all' />
<!--[if lt IE 10]>
<link rel='stylesheet' id='twentysixteen-ie-css'  href='http://pythonforengineers.com/wp-content/themes/twentysixteen/css/ie.css?ver=20160816' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentysixteen-ie8-css'  href='http://pythonforengineers.com/wp-content/themes/twentysixteen/css/ie8.css?ver=20160816' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 8]>
<link rel='stylesheet' id='twentysixteen-ie7-css'  href='http://pythonforengineers.com/wp-content/themes/twentysixteen/css/ie7.css?ver=20160816' type='text/css' media='all' />
<![endif]-->
<script type='text/javascript' src='/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"http:\/\/pythonforengineers.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js?ver=_2.7.2_beta'></script>
<!--[if lt IE 9]>
<script type='text/javascript' src='http://pythonforengineers.com/wp-content/themes/twentysixteen/js/html5.js?ver=3.7.3'></script>
<![endif]-->
<link rel='https://api.w.org/' href='/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd" />
<meta name="generator" content="WordPress 4.9.8" />
<link rel="canonical" href="/image-and-video-processing-in-python/" />
<link rel='shortlink' href='/?p=2981' />
<link rel="alternate" type="application/json+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2Fimage-and-video-processing-in-python%2F" />
<link rel="alternate" type="text/xml+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2Fimage-and-video-processing-in-python%2F&#038;format=xml" />
		<style type="text/css" id="wp-custom-css">
			.site-info { display: None}		</style>
	</head>

<body class="page-template-default page page-id-2981">
<div id="page" class="site">
	<div class="site-inner">
		<a class="skip-link screen-reader-text" href="#content">Skip to content</a>

		<header id="masthead" class="site-header" role="banner">
			<div class="site-header-main">
				<div class="site-branding">
					
											<p class="site-title"><a href="/" rel="home">Python For Engineers</a></p>
									</div><!-- .site-branding -->

									<button id="menu-toggle" class="menu-toggle">Menu</button>

					<div id="site-header-menu" class="site-header-menu">
													<nav id="site-navigation" class="main-navigation" role="navigation" aria-label="Primary Menu">
								<div class="menu-main-container"><ul id="menu-main" class="primary-menu"><li id="menu-item-52" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-52"><a href="/articles/">Articles</a></li>
<li id="menu-item-1533" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1533"><a href="/about/">About</a></li>
<li id="menu-item-35" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-35"><a href="/contact/">Contact</a></li>
</ul></div>							</nav><!-- .main-navigation -->
						
											</div><!-- .site-header-menu -->
							</div><!-- .site-header-main -->

					</header><!-- .site-header -->

		<div id="content" class="site-content">

<div id="primary" class="content-area">
	<main id="main" class="site-main" role="main">
		
<article id="post-2981" class="post-2981 page type-page status-publish hentry">
	<header class="entry-header">
		<h1 class="entry-title">Image and Video Processing in Python</h1>	</header><!-- .entry-header -->

	
	<div class="entry-content">
		<p><a href="/python-for-scientists-and-engineers/"><strong>Intro: Start here</strong></a></p>
<p><a href="/installing-the-libraries-required-for-the-book/"><strong>Installing the libraries required for the book</strong></a></p>
<p><strong>Beginners Start Here:</strong><a href="/create-a-word-counter-in-python/"><strong> </strong></a></p>
<p style="padding-left: 30px;"><a href="/create-a-word-counter-in-python/"><strong>Create a Word Counter in Python</strong></a></p>
<p style="padding-left: 30px;"><a href="/an-introduction-to-numpy-and-matplotlib/"><strong>An introduction to Numpy and Matplotlib</strong></a></p>
<p style="padding-left: 30px;"><a href="/introduction-to-pandas/" target="_blank"><strong>Introduction to Pandas with Practical Examples (New)</strong></a></p>
<p><strong>Main Book</strong></p>
<p><a href="/image-and-video-processing-in-python/"><strong>Image and Video Processing in Python</strong></a></p>
<p><a href="/data-analysis-with-pandas/"><strong>Data Analysis with Pandas</strong></a></p>
<p><a href="/audio-and-digital-signal-processingdsp-in-python/"><strong>Audio and Digital Signal Processing (DSP)</strong></a></p>
<p><a href="/control-your-raspberry-pi-from-your-phone-tablet/"><strong>Control Your Raspberry Pi From Your Phone / Tablet</strong></a></p>
<p><strong>Machine Learning Section</strong></p>
<p style="padding-left: 30px;"><a href="/machine-learning-with-an-amazon-like-recommendation-engine/"><strong>Machine Learning with an Amazon like Recommendation Engine</strong></a></p>
<p><strong>Machine Learning New Stuff<br /></strong></p>
<p style="padding-left: 30px;"><strong> <a href="/machine-learning-for-complete-beginners/" target="_blank">Machine Learning For Complete Beginners:</a> </strong>Learn how to predict how many Titanic survivors using machine learning. No previous knowledge needed!</p>
<p style="padding-left: 30px;"><a href="/cross-validation-and-model-selection/" target="_blank"><strong>Cross Validation and Model Selection</strong></a>: In which we look at cross validation, and how to choose between different machine learning algorithms. Working with the Iris flower dataset and the Pima diabetes dataset.</p>
<p style="padding-left: 30px;"><strong>Natural Language Processing</strong></p>
<p style="padding-left: 30px;"><a href="/natural-language-processing-and-sentiment-analysis-with-python/"   target="_blank"><strong>0. Introduction to NLP and Sentiment Analysis</strong></a></p>
<p style="padding-left: 30px;"><strong><a href="/introduction-to-nltk-natural-language-processing-with-python/" target="_blank">1. Natural Language Processing with NTLK</a></strong></p>
<p style="padding-left: 30px;"><strong><a href="/intro-to-nltk-part-2/" target="_blank">2. Intro to NTLK, Part 2</a></strong></p>
<p style="padding-left: 30px;"><a href="/build-a-sentiment-analysis-app-with-movie-reviews/" target="_blank"><strong>3. Build a sentiment analysis program</strong></a></p>
<p style="padding-left: 30px;"><strong><a href="/practice-session-sentiment-analysis-with-twitter/" target="_blank">4. Sentiment Analysis with Twitter</a></strong></p>
<p style="padding-left: 30px;"><strong><span class="trail-end"><a href="/analysing-the-enron-email-corpus/"   target="_blank">5. Analysing the Enron Email Corpus</a></span></strong>: The Enron Email corpus has half a million files spread over 2.5 GB. When looking at data this size, the question is, where do you even start?</p>
<p style="padding-left: 30px;"><a href="/build-a-spam-filter/" target="_blank"><strong>6. Build a Spam Filter using the Enron Corpus</strong></a></p>
<hr /><hr />
<p style="padding-left: 30px;"></p>
<p><em>Note: For people without a GUI/X Server, David Dorff got a few of the examples working by saving the images instead of displaying them. See his <a href="https://gist.github.com/dataverger/bb9448906138722415b4da5f9d0e0b14">gist here</a>.</em></p>
<p><strong>A bit about the RGB model</strong></p>
<p>Computer graphics often use the <em>RBG</em> model, which stands for Red, Green and Blue. These are the three primary colors that can be used to create other colors. If you want an overview, <a href="http://en.wikipedia.org/wiki/RGB_color_model">Wikipedia </a>has a good one.</p>
<p>The main thing you need to know is that you can create different colors by combining these primary colors. RGB colors usually have values of 0-255, where 0 means the color isn&#8217;t present at all, and 255 means it&#8217;s present with full strength. So the Rgb values for the color red are:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b787fb081029699" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
255, 0 , 0
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b787fb081029699-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b787fb081029699-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b787fb081029699-1"><span class="crayon-cn">255</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-h"> </span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b787fb081029699-2">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p></p>
<p>So the first part is 255, which is Red. The other two are zero. This will create pure red.</p>
<p>You can create other colors by mixing these three. For example, pink is:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b78808812647792" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
255, 51, 255
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b78808812647792-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78808812647792-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b78808812647792-1"><span class="crayon-cn">255</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">51</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">255</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78808812647792-2">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p></p>
<p>Red part is 255, green  is 51 and blue is 255 again.</p>
<p>I found these values by Googling <em>rgb codes</em>, and opening one the dozens of results that come up.</p>
<p>The only other thing you need to know is OpenCv inverts this. So instead of RGB, you have BGR, or Blue, green, red.</p>
<h2>Display an image</h2>
<p>So we are going to start really simple. How to display an image on the screen.</p>
<p>You might be surprised at how hard even this simple thing is. Try to search for how to display an image with Python, and you won&#8217;t find many results. I had to find a complicated example and extract the code from that.</p>
<p>Fire up a Python prompt and type:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b7880e553266595" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
import cv2
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b7880e553266595-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b7880e553266595-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b7880e553266595-1"><span class="crayon-e">import </span><span class="crayon-i">cv2</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b7880e553266595-2">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
<p></p>
<p>If you see no problems, you&#8217;re good. Open the file <em>display.py</em></p>
<p>To our code:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b78813364269810" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
import cv2
import sys
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b78813364269810-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78813364269810-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae8b78813364269810-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b78813364269810-1"><span class="crayon-e">import </span><span class="crayon-e">cv2</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78813364269810-2"><span class="crayon-e">import </span><span class="crayon-i">sys</span></div><div class="crayon-line" id="crayon-5bd0ae8b78813364269810-3">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
<p></p>
<p>We import OpenCv and sys. sys will be used for reading from the command line.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b78817849901862" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
# Read the image. The first command line argument is the image
image = cv2.imread(sys.argv[1])
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b78817849901862-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78817849901862-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae8b78817849901862-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b78817849901862-1"><span class="crayon-p"># Read the image. The first command line argument is the image</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78817849901862-2"><span class="crayon-v">image</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">imread</span><span class="crayon-sy">(</span><span class="crayon-v">sys</span><span class="crayon-sy">.</span><span class="crayon-v">argv</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae8b78817849901862-3">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p></p>
<p>The function to read from an image into OpenCv is <em>imread()</em>. We give it the arugment of <em>sys.argv[1]</em>, which is just the first commandline argument. The image is read in a variable called <em>image</em>.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b7881c727827217" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
cv2.imshow("Image", image)
cv2.waitKey(0)
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b7881c727827217-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b7881c727827217-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae8b7881c727827217-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b7881c727827217-1"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">imshow</span><span class="crayon-sy">(</span><span class="crayon-s">"Image"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">image</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b7881c727827217-2"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">waitKey</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae8b7881c727827217-3">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p></p>
<p><em>imshow()</em> is the function that displays the image on the screen. The first value is the title of the window, the second is the image file we have previously read. <em>cv2.waitKey(0)</em> is required so that the image doesn&#8217;t close immediately. It will wait for a key press before closing the image.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b78821604380859" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
python display.py ship.jpg
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b78821604380859-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78821604380859-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b78821604380859-1"><span class="crayon-e">python </span><span class="crayon-v">display</span><span class="crayon-sy">.</span><span class="crayon-e">py </span><span class="crayon-v">ship</span><span class="crayon-sy">.</span><span class="crayon-i">jpg</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78821604380859-2">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p></p>
<p><img src="/wp-content/uploads/2017/04/image1.png" alt="" class="aligncenter size-full wp-image-2983" width="333" height="274" srcset="/wp-content/uploads/2017/04/image1.png 333w, /wp-content/uploads/2017/04/image1-300x247.png 300w" sizes="(max-width: 333px) 85vw, 333px" /></p>
<p>And you should see the image.</p>
<h2>Blur and grayscale</h2>
<p>Two important functions in image processing are blurring and grayscale. Many image processing operations take place on grayscale (or black and white) images, as they are simpler to process (having just two colors).</p>
<p>Similarly, blurring is also useful in edge detection, as we will see in later examples. Open the file <em>blur.py</em>.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b78826701449859" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
import cv2
import sys

# The first argument is the image
image = cv2.imread(sys.argv[1])</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b78826701449859-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78826701449859-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae8b78826701449859-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78826701449859-4">4</div><div class="crayon-num" data-line="crayon-5bd0ae8b78826701449859-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b78826701449859-1"><span class="crayon-e">import </span><span class="crayon-e">cv2</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78826701449859-2"><span class="crayon-e">import </span><span class="crayon-v">sys</span></div><div class="crayon-line" id="crayon-5bd0ae8b78826701449859-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78826701449859-4"><span class="crayon-p"># The first argument is the image</span></div><div class="crayon-line" id="crayon-5bd0ae8b78826701449859-5"><span class="crayon-v">image</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">imread</span><span class="crayon-sy">(</span><span class="crayon-v">sys</span><span class="crayon-sy">.</span><span class="crayon-v">argv</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>This is the same as before.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b7882b789121027" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
#convert to grayscale
gray_image = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b7882b789121027-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b7882b789121027-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae8b7882b789121027-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b7882b789121027-1"><span class="crayon-p">#convert to grayscale</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b7882b789121027-2"><span class="crayon-v">gray_image</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">cvtColor</span><span class="crayon-sy">(</span><span class="crayon-v">image</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-v">COLOR_BGR2GRAY</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae8b7882b789121027-3">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p></p>
<p>First, we convert the image to gray. The function that does that is <em>cvtColor()</em>. The first argument is the image to be converted, the second is the color mode. <em>COLOR_BGR2GRAY</em> stands  for <em>Blue Green Red to Gray</em>.</p>
<p>You must have heard of the RGB color scheme. OpenCv does it the other way round- so blue is first, then green, then red.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b78830048559462" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
#blur it
blurred_image = cv2.GaussianBlur(image, (7,7), 0)
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b78830048559462-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78830048559462-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae8b78830048559462-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b78830048559462-1"><span class="crayon-p">#blur it</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78830048559462-2"><span class="crayon-v">blurred_image</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">GaussianBlur</span><span class="crayon-sy">(</span><span class="crayon-v">image</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-cn">7</span><span class="crayon-sy">,</span><span class="crayon-cn">7</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae8b78830048559462-3">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p></p>
<p>If you have ever used Photoshop (or its ugly cousin Gimp), you may have heard of the Gaussian blur. It is the most popular function to blur images, as it offers good blurring at fairly fast speed. That&#8217;s what we&#8217;ll use.</p>
<p>The first argument is the image itself.</p>
<p>The second argument is the window size. Gaussian Blur works over a small window, and blurs all the pixels in that window (by averaging their values). The larger the window, the more blurring will be done, but the code will also be slower. I&#8217;m choosing a window of <em>(7,7)</em> pixels, which is a box 7 pixels long and 7 pixels wide. The last value is not important, so I&#8217;m setting it to the default<em>(0)</em>.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b78834559646269" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
# Show all 3 images
cv2.imshow("Original Image", image)
cv2.imshow("Gray Image", gray_image)
cv2.imshow("Blurred Image", blurred_image)

cv2.waitKey(0)
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b78834559646269-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78834559646269-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae8b78834559646269-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78834559646269-4">4</div><div class="crayon-num" data-line="crayon-5bd0ae8b78834559646269-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78834559646269-6">6</div><div class="crayon-num" data-line="crayon-5bd0ae8b78834559646269-7">7</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b78834559646269-1"><span class="crayon-p"># Show all 3 images</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78834559646269-2"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">imshow</span><span class="crayon-sy">(</span><span class="crayon-s">"Original Image"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">image</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae8b78834559646269-3"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">imshow</span><span class="crayon-sy">(</span><span class="crayon-s">"Gray Image"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">gray_image</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78834559646269-4"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">imshow</span><span class="crayon-sy">(</span><span class="crayon-s">"Blurred Image"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">blurred_image</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae8b78834559646269-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78834559646269-6"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">waitKey</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae8b78834559646269-7">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<p></p>
<p>And now we show all images.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b7883a119011851" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
python blur.py ship.jpg
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b7883a119011851-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b7883a119011851-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b7883a119011851-1"><span class="crayon-e">python </span><span class="crayon-v">blur</span><span class="crayon-sy">.</span><span class="crayon-e">py </span><span class="crayon-v">ship</span><span class="crayon-sy">.</span><span class="crayon-i">jpg</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b7883a119011851-2">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p></p>
<p><img src="/wp-content/uploads/2017/04/image2.png" alt="" class="aligncenter size-full wp-image-2984" width="1027" height="280" srcset="/wp-content/uploads/2017/04/image2.png 1027w, /wp-content/uploads/2017/04/image2-300x82.png 300w, /wp-content/uploads/2017/04/image2-768x209.png 768w, /wp-content/uploads/2017/04/image2-1024x279.png 1024w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px" /></p>
<h2>Edge detection</h2>
<p>Edge detection is a very useful function in image processing. Edge detection means detecting where the edges of an object in an image are. The algorithm looks for things like change in color, brightness etc to find the edges.</p>
<p>The most pioneering work in this domain was done by John Canny, and his algorithm is still the most popular. You don&#8217;t need to understand how the algorithms work under the hood to use them, but if you are interested in learning more, Wikipedia has good summaries:</p>
<p>&lt;http://en.wikipedia.org/wiki/Edge_detection&gt;</p>
<p>&lt;http://en.wikipedia.org/wiki/Canny_edge_detector&gt;</p>
<p>We will jump straight into the code. Open edge_detect.py.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b7883f091487262" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
import cv2
import sys

# The first argument is the image
image = cv2.imread(sys.argv[1])

#convert to grayscale
gray_image = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)

#blur it
blurred_image = cv2.GaussianBlur(gray_image, (7,7), 0)

cv2.imshow("Orignal Image", image)
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b7883f091487262-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b7883f091487262-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae8b7883f091487262-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b7883f091487262-4">4</div><div class="crayon-num" data-line="crayon-5bd0ae8b7883f091487262-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b7883f091487262-6">6</div><div class="crayon-num" data-line="crayon-5bd0ae8b7883f091487262-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b7883f091487262-8">8</div><div class="crayon-num" data-line="crayon-5bd0ae8b7883f091487262-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b7883f091487262-10">10</div><div class="crayon-num" data-line="crayon-5bd0ae8b7883f091487262-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b7883f091487262-12">12</div><div class="crayon-num" data-line="crayon-5bd0ae8b7883f091487262-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b7883f091487262-14">14</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b7883f091487262-1"><span class="crayon-e">import </span><span class="crayon-e">cv2</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b7883f091487262-2"><span class="crayon-e">import </span><span class="crayon-v">sys</span></div><div class="crayon-line" id="crayon-5bd0ae8b7883f091487262-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b7883f091487262-4"><span class="crayon-p"># The first argument is the image</span></div><div class="crayon-line" id="crayon-5bd0ae8b7883f091487262-5"><span class="crayon-v">image</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">imread</span><span class="crayon-sy">(</span><span class="crayon-v">sys</span><span class="crayon-sy">.</span><span class="crayon-v">argv</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b7883f091487262-6">&nbsp;</div><div class="crayon-line" id="crayon-5bd0ae8b7883f091487262-7"><span class="crayon-p">#convert to grayscale</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b7883f091487262-8"><span class="crayon-v">gray_image</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">cvtColor</span><span class="crayon-sy">(</span><span class="crayon-v">image</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-v">COLOR_BGR2GRAY</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae8b7883f091487262-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b7883f091487262-10"><span class="crayon-p">#blur it</span></div><div class="crayon-line" id="crayon-5bd0ae8b7883f091487262-11"><span class="crayon-v">blurred_image</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">GaussianBlur</span><span class="crayon-sy">(</span><span class="crayon-v">gray_image</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-cn">7</span><span class="crayon-sy">,</span><span class="crayon-cn">7</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b7883f091487262-12">&nbsp;</div><div class="crayon-line" id="crayon-5bd0ae8b7883f091487262-13"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">imshow</span><span class="crayon-sy">(</span><span class="crayon-s">"Orignal Image"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">image</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b7883f091487262-14">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0008 seconds] -->
<p></p>
<p>All this should be familiar, as it is similar to the last section.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b78843296644618" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
canny = cv2.Canny(blurred_image, 10, 30)
cv2.imshow("Canny with low thresholds", canny)
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b78843296644618-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78843296644618-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae8b78843296644618-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b78843296644618-1"><span class="crayon-v">canny</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">Canny</span><span class="crayon-sy">(</span><span class="crayon-v">blurred_image</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">30</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78843296644618-2"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">imshow</span><span class="crayon-sy">(</span><span class="crayon-s">"Canny with low thresholds"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">canny</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae8b78843296644618-3">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p></p>
<p>The function for Canny edge detection is, unsurprisingly, called <em>Canny()</em>. It takes three  arguments. The first is the image. The second and third are the lower and upper thresholds respectively.</p>
<p>The Canny edge detector detects edges by looking in the difference of pixel intensities. Now, I could spend hours explaining what that means, or I could just show you. So bear with me for a moment. For the first example above, I&#8217;m using low thresholds of <em>10, 30</em>, which means a lot of thresholds will be detected.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b78848115554176" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
canny2 = cv2.Canny(blurred_image, 50, 150)
cv2.imshow("Canny with high thresholds", canny2)
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b78848115554176-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78848115554176-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae8b78848115554176-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b78848115554176-1"><span class="crayon-v">canny2</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">Canny</span><span class="crayon-sy">(</span><span class="crayon-v">blurred_image</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">50</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">150</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78848115554176-2"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">imshow</span><span class="crayon-sy">(</span><span class="crayon-s">"Canny with high thresholds"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">canny2</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae8b78848115554176-3">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p></p>
<p>In this second example, we will use higher thresholds. Let&#8217;s see what that means.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b7884d619010298" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
python edge_detect.py ship.jpg
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b7884d619010298-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b7884d619010298-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b7884d619010298-1"><span class="crayon-e">python </span><span class="crayon-v">edge_detect</span><span class="crayon-sy">.</span><span class="crayon-e">py </span><span class="crayon-v">ship</span><span class="crayon-sy">.</span><span class="crayon-i">jpg</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b7884d619010298-2">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p></p>
<p><img src="/wp-content/uploads/2017/04/image3.png" alt="" class="aligncenter size-full wp-image-2985" width="1030" height="281" srcset="/wp-content/uploads/2017/04/image3.png 1030w, /wp-content/uploads/2017/04/image3-300x82.png 300w, /wp-content/uploads/2017/04/image3-768x210.png 768w, /wp-content/uploads/2017/04/image3-1024x279.png 1024w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px" /></p>
<p>The leftmost is the original image. The middle is the one with low thresholds. You can see it detected a lot of edges. Look inside the ship. The algorithm detected the windows of the ship, as well as a small hatch near the front. But it also detected a lot of unnecessary details in the sea. The rightmost image has the high thresholds. It didn&#8217;t detect the unneeded info in the sea, but it also failed to detect the windows in the ship.</p>
<p>So how will you choose the thresholds? One thing I will say repeatedly in this chapter- there are no fixed answers. Try different values till you find ones you like. This is because the values will depend on your application and the type of images you are working with.</p>
<p>Before I close this section, a bit of info about the image. I took the photo in Southampton when on a river cruise. The ship is at the exact place where the Titanic sailed from. That parking spot costs £1000 a day (around $1500). Still cheap for a £30 million ship.</p>
<h2>Count objects</h2>
<p>Okay, now that we can detect the edges of an object, we can do useful stuff with it. Like detect objects. Let&#8217;s start.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b78852247302389" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
import cv2
import sys


# Read the image
image = cv2.imread(sys.argv[1])


#convert to grayscale
gray_image = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)

#blur it
blurred_image = cv2.GaussianBlur(gray_image, (7,7), 0)

# Show both our images
cv2.imshow("Original image", image)
cv2.imshow("Blurred image", blurred_image)

# Run the Canny edge detector
canny = cv2.Canny(blurred_image, 30, 100)
cv2.imshow("Canny", canny)</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b78852247302389-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78852247302389-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae8b78852247302389-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78852247302389-4">4</div><div class="crayon-num" data-line="crayon-5bd0ae8b78852247302389-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78852247302389-6">6</div><div class="crayon-num" data-line="crayon-5bd0ae8b78852247302389-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78852247302389-8">8</div><div class="crayon-num" data-line="crayon-5bd0ae8b78852247302389-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78852247302389-10">10</div><div class="crayon-num" data-line="crayon-5bd0ae8b78852247302389-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78852247302389-12">12</div><div class="crayon-num" data-line="crayon-5bd0ae8b78852247302389-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78852247302389-14">14</div><div class="crayon-num" data-line="crayon-5bd0ae8b78852247302389-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78852247302389-16">16</div><div class="crayon-num" data-line="crayon-5bd0ae8b78852247302389-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78852247302389-18">18</div><div class="crayon-num" data-line="crayon-5bd0ae8b78852247302389-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78852247302389-20">20</div><div class="crayon-num" data-line="crayon-5bd0ae8b78852247302389-21">21</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b78852247302389-1"><span class="crayon-e">import </span><span class="crayon-e">cv2</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78852247302389-2"><span class="crayon-e">import </span><span class="crayon-v">sys</span></div><div class="crayon-line" id="crayon-5bd0ae8b78852247302389-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78852247302389-4">&nbsp;</div><div class="crayon-line" id="crayon-5bd0ae8b78852247302389-5"><span class="crayon-p"># Read the image</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78852247302389-6"><span class="crayon-v">image</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">imread</span><span class="crayon-sy">(</span><span class="crayon-v">sys</span><span class="crayon-sy">.</span><span class="crayon-v">argv</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae8b78852247302389-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78852247302389-8">&nbsp;</div><div class="crayon-line" id="crayon-5bd0ae8b78852247302389-9"><span class="crayon-p">#convert to grayscale</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78852247302389-10"><span class="crayon-v">gray_image</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">cvtColor</span><span class="crayon-sy">(</span><span class="crayon-v">image</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-v">COLOR_BGR2GRAY</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae8b78852247302389-11">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78852247302389-12"><span class="crayon-p">#blur it</span></div><div class="crayon-line" id="crayon-5bd0ae8b78852247302389-13"><span class="crayon-v">blurred_image</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">GaussianBlur</span><span class="crayon-sy">(</span><span class="crayon-v">gray_image</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-cn">7</span><span class="crayon-sy">,</span><span class="crayon-cn">7</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78852247302389-14">&nbsp;</div><div class="crayon-line" id="crayon-5bd0ae8b78852247302389-15"><span class="crayon-p"># Show both our images</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78852247302389-16"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">imshow</span><span class="crayon-sy">(</span><span class="crayon-s">"Original image"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">image</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae8b78852247302389-17"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">imshow</span><span class="crayon-sy">(</span><span class="crayon-s">"Blurred image"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">blurred_image</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78852247302389-18">&nbsp;</div><div class="crayon-line" id="crayon-5bd0ae8b78852247302389-19"><span class="crayon-p"># Run the Canny edge detector</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78852247302389-20"><span class="crayon-v">canny</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">Canny</span><span class="crayon-sy">(</span><span class="crayon-v">blurred_image</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">30</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">100</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae8b78852247302389-21"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">imshow</span><span class="crayon-sy">(</span><span class="crayon-s">"Canny"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">canny</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0012 seconds] -->
<p></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>This code is the same as before. We have detected the edges in the image and the blurred image.</p>
<p><img src="/wp-content/uploads/2017/04/image4.jpg" alt="" class="aligncenter size-full wp-image-2986" width="252" height="355" srcset="/wp-content/uploads/2017/04/image4.jpg 252w, /wp-content/uploads/2017/04/image4-213x300.jpg 213w" sizes="(max-width: 252px) 85vw, 252px" /></p>
<p><img src="/wp-content/uploads/2017/04/image5.jpg" alt="" class="aligncenter size-full wp-image-2987" width="252" height="355" srcset="/wp-content/uploads/2017/04/image5.jpg 252w, /wp-content/uploads/2017/04/image5-213x300.jpg 213w" sizes="(max-width: 252px) 85vw, 252px" /></p>
<p>Now, we are going to find the contours (which is just a fancy word for edges) in the image. If you are wondering why we need to do that, since we can clearly see the edges in the image above, it&#8217;s because the code isn&#8217;t aware of it. The code below finds the edges programatically:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b78857325256638" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
im, contours, hierarchy= cv2.findContours(canny, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b78857325256638-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78857325256638-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b78857325256638-1"><span class="crayon-v">im</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">contours</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">hierarchy</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">findContours</span><span class="crayon-sy">(</span><span class="crayon-v">canny</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-v">RETR_EXTERNAL</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-v">CHAIN_APPROX_SIMPLE</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78857325256638-2">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p></p>
<p>The <em>findContours()</em> finds the contours in the given image. The first option is the output of the canny edge detector. <em>RETR_EXTERNAL</em> tells OpenCv to only find the outermost edges (as you can find contours within contours). The second arguments tells OpenCv to use the simple approximation.</p>
<p>The function returns three values: The image, a list of contours found, and the hierarchy (which we&#8217;ll ignore. It is used if you have many contours embedded within others).</p>
<p>The <em>contours</em> return value is a simple list that contains the number of contours found. Taking the length of it will give us number of objects found.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b7885c963328349" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
print("Number of objects found = ", len(contours))
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b7885c963328349-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b7885c963328349-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b7885c963328349-1"><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-s">"Number of objects found = "</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">len</span><span class="crayon-sy">(</span><span class="crayon-v">contours</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b7885c963328349-2">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p></p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b78861718936409" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
cv2.drawContours(image, contours, -1, (0,255,0), 2)
cv2.imshow("objects Found", image)
cv2.waitKey(0)
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b78861718936409-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78861718936409-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae8b78861718936409-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78861718936409-4">4</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b78861718936409-1"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">drawContours</span><span class="crayon-sy">(</span><span class="crayon-v">image</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">contours</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-cn">255</span><span class="crayon-sy">,</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78861718936409-2"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">imshow</span><span class="crayon-sy">(</span><span class="crayon-s">"objects Found"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">image</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae8b78861718936409-3"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">waitKey</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78861718936409-4">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<p></p>
<p>Finally, we use the <em>drawContours()</em> function. The first argument is the image we want to draw on. The second is the contours we found in the last function. The 3rd is -1, to say that we want all contours to be drawn (we can choose to only draw certain contours). The fourth is the color, green in this case, and the last is the thickness.</p>
<p>Finally, we show the image.</p>
<p><img src="/wp-content/uploads/2017/04/image6.jpg" alt="" class="aligncenter size-full wp-image-2988" width="252" height="355" srcset="/wp-content/uploads/2017/04/image6.jpg 252w, /wp-content/uploads/2017/04/image6-213x300.jpg 213w" sizes="(max-width: 252px) 85vw, 252px" /><br />
<img src="/wp-content/uploads/2017/04/image7.jpg" alt="" class="aligncenter size-full wp-image-2989" width="252" height="355" srcset="/wp-content/uploads/2017/04/image7.jpg 252w, /wp-content/uploads/2017/04/image7-213x300.jpg 213w" sizes="(max-width: 252px) 85vw, 252px" /></p>
<p>If you want to use your own images, make sure they are not too high quality. In the first attempt, I was using Hd quality images, and opencv was detecting carpet swirls as objects. It also detected shadows as objects (including my own). Though blurring is supposed to get rid of this, if the photo is of very high quality, you will need to do a lot of blurring.</p>
<p>Also, make sure you have a plain background. If you have fancy tiles or something in the background, that will be detected too.</p>
<h2>Face Detection</h2>
<p><strong>Face detection with OpenCV</strong></p>
<p>OpenCV uses machine learning algorithms to search for faces within a picture. For something as complicated as a face, there isn’t one simple test that will tell you if it found a face or not. Instead, there are thousands of small patterns/features that must be matched. The algorithms break the task of identifying the face into thousands of smaller, bite-sized tasks, each of which is easy to solve. These tasks are also called classifiers.</p>
<p>For something like a face, you might have 6,000 or more classifiers, all of which must match for a face to be detected (within error limits, of course). But therein lies the problem: For face detection, the algorithm starts at the top left of a picture and moves down across small blocks of data, looking at each block, constantly asking, “Is this a face? … Is this a face? … Is this a face?” Since there are 6,000 or more tests per block, you might have millions of calculations to do, which will grind your computer to a halt.</p>
<p><img src="/wp-content/uploads/2017/04/face1.jpg" alt="" class="aligncenter size-full wp-image-2990" width="1123" height="794" srcset="/wp-content/uploads/2017/04/face1.jpg 1123w, /wp-content/uploads/2017/04/face1-300x212.jpg 300w, /wp-content/uploads/2017/04/face1-768x543.jpg 768w, /wp-content/uploads/2017/04/face1-1024x724.jpg 1024w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px" /></p>
<p>The image above is a rough example of how face detection works. The algorithm breaks the image into small blocks of pixels, and does the face detection on each.</p>
<p>To get around this, OpenCV uses cascades. What’s a cascade? The best answer can be found from the dictionary: A waterfall or series of waterfalls</p>
<p>Like a series of waterfalls, the OpenCV cascade breaks the problem of detecting faces into multiple stages. For each block, it does a very rough and quick test. If that passes, it does a slightly more detailed test, and so on.</p>
<p><img src="/wp-content/uploads/2017/04/face2.jpg" alt="" class="aligncenter size-full wp-image-2991" width="1123" height="794" srcset="/wp-content/uploads/2017/04/face2.jpg 1123w, /wp-content/uploads/2017/04/face2-300x212.jpg 300w, /wp-content/uploads/2017/04/face2-768x543.jpg 768w, /wp-content/uploads/2017/04/face2-1024x724.jpg 1024w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px" /></p>
<p>The algorithm may have 30-50 of these stages or cascades, and it will only detect a face if all stages pass. The advantage is that the majority of the pictures will return negative during the first few stages, which means the algorithm won’t waste time testing all 6,000 features on it. Instead of taking hours, face detection can now be done in real time.</p>
<p><strong>Cascades in practice</strong></p>
<p>Though the theory may sound complicated, in practice it is quite easy. The cascades themselves are just a bunch of XML files that contain OpenCV data used to detect objects. You initialize your code with the cascade you want, and then it does the work for you.</p>
<p>Since face detection is such a common case, OpenCV comes with a number of built-in cascades for detecting everything from faces to eyes to hands and legs. There are even cascades for non-human things. For example, if you run a banana shop and want to track people stealing bananas, <a href="http://coding-robin.de/2013/07/22/train-your-own-opencv-haar-classifier.html">this guy</a> has built one for that!</p>
<h2>Understanding the code</h2>
<p>Let’s break down the actual code, face_detect.py.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b78867644169046" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
# Get user supplied values
imagePath = sys.argv[1]
cascPath = "haarcascade_frontalface_default.xml"
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b78867644169046-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78867644169046-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae8b78867644169046-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78867644169046-4">4</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b78867644169046-1"><span class="crayon-p"># Get user supplied values</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78867644169046-2"><span class="crayon-v">imagePath</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">sys</span><span class="crayon-sy">.</span><span class="crayon-v">argv</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5bd0ae8b78867644169046-3"><span class="crayon-v">cascPath</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"haarcascade_frontalface_default.xml"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78867644169046-4">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p></p>
<p>You first pass in the image and cascade names as command-line arguments. We’ll use the Abba image as well as the default cascade for detecting faces provided by OpenCV.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b7886c480653463" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
# Create the haar cascade
face_cascade &amp;lt;span class="pl-k"&amp;gt;=&amp;lt;/span&amp;gt; cv2.CascadeClassifier(cascasdepath)
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b7886c480653463-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b7886c480653463-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae8b7886c480653463-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b7886c480653463-1"><span class="crayon-p"># Create the haar cascade</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b7886c480653463-2"><span class="crayon-v">face_cascade</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-e">span </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"pl-k"</span><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-o">=&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-o">/</span><span class="crayon-v">span</span><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">CascadeClassifier</span><span class="crayon-sy">(</span><span class="crayon-v">cascasdepath</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae8b7886c480653463-3">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p></p>
<p>Now we create the cascade and initialize it with our face cascade. This loads the face cascade into memory so it’s ready for use. Remember, the cascade is just an XML file that contains the data to detect faces.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b78871301302324" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
# Read the image
image = cv2.imread(imagePath)
gray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b78871301302324-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78871301302324-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae8b78871301302324-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78871301302324-4">4</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b78871301302324-1"><span class="crayon-p"># Read the image</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78871301302324-2"><span class="crayon-v">image</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">imread</span><span class="crayon-sy">(</span><span class="crayon-v">imagePath</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae8b78871301302324-3"><span class="crayon-v">gray</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">cvtColor</span><span class="crayon-sy">(</span><span class="crayon-v">image</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-v">COLOR_BGR2GRAY</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78871301302324-4">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p></p>
<p>Here we read the image and convert it to grayscale. Many operations in OpenCv are done in grayscale.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b78876167401850" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
# Detect faces in the image
faces = face_cascade.detectMultiScale(
    gray,
    scaleFactor = 1.2,
    minNeighbors = 5,
    minSize = (30,30)

    )</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b78876167401850-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78876167401850-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae8b78876167401850-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78876167401850-4">4</div><div class="crayon-num" data-line="crayon-5bd0ae8b78876167401850-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78876167401850-6">6</div><div class="crayon-num" data-line="crayon-5bd0ae8b78876167401850-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78876167401850-8">8</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b78876167401850-1"><span class="crayon-p"># Detect faces in the image</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78876167401850-2"><span class="crayon-v">faces</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">face_cascade</span><span class="crayon-sy">.</span><span class="crayon-e">detectMultiScale</span><span class="crayon-sy">(</span></div><div class="crayon-line" id="crayon-5bd0ae8b78876167401850-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">gray</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78876167401850-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">scaleFactor</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1.2</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5bd0ae8b78876167401850-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">minNeighbors</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78876167401850-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">minSize</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-cn">30</span><span class="crayon-sy">,</span><span class="crayon-cn">30</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae8b78876167401850-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78876167401850-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<p></p>
<p>&nbsp;</p>
<p>This function detects the actual face – and is the key part of our code, so let’s go over the options.</p>
<p>The detectMultiScale function is a general function that detects objects. Since we are calling it on the face cascade, that’s what it detects. The first option is the grayscale image.</p>
<p>The second is the scaleFactor. Since some faces may be closer to the camera, they would appear bigger than those faces in the back. The scale factor compensates for this.</p>
<p>The detection algorithm uses a moving window to detect objects. minNeighbors defines how many objects are detected near the current one before it declares the face found. minSize, meanwhile, gives the size of each window.</p>
<p>I took commonly used values for these fields. In real life, you would experiment with different values for the window size, scale factor, etc., until you find one that best works for you.</p>
<p>The function returns a list of rectangles where it believes it found a face. Next, we will loop over where it thinks it found something.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b7887b653789505" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
print("Found {0} faces!".format(len(faces)))

# Draw a rectangle around the faces
for (x, y, w, h) in faces:
    cv2.rectangle(image, (x, y), (x+w, y+h), (0, 255, 0), 2)</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b7887b653789505-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b7887b653789505-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae8b7887b653789505-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b7887b653789505-4">4</div><div class="crayon-num" data-line="crayon-5bd0ae8b7887b653789505-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b7887b653789505-1"><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-s">"Found {0} faces!"</span><span class="crayon-sy">.</span><span class="crayon-e">format</span><span class="crayon-sy">(</span><span class="crayon-e">len</span><span class="crayon-sy">(</span><span class="crayon-v">faces</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b7887b653789505-2">&nbsp;</div><div class="crayon-line" id="crayon-5bd0ae8b7887b653789505-3"><span class="crayon-p"># Draw a rectangle around the faces</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b7887b653789505-4"><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">x</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">y</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">w</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">h</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">faces</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5bd0ae8b7887b653789505-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">rectangle</span><span class="crayon-sy">(</span><span class="crayon-v">image</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">x</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">y</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">x</span><span class="crayon-o">+</span><span class="crayon-v">w</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">y</span><span class="crayon-o">+</span><span class="crayon-v">h</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">255</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0009 seconds] -->
<p></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>This function returns 4 values: the x and y location of the rectangle, and the rectangle’s width and height (w , h).</p>
<p>We use these values to draw a rectangle using the built-in rectangle() function.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b78880516451342" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
cv2.imshow("Faces found" ,image)
cv2.waitKey(0)
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b78880516451342-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78880516451342-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae8b78880516451342-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b78880516451342-1"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">imshow</span><span class="crayon-sy">(</span><span class="crayon-s">"Faces found"</span><span class="crayon-h"> </span><span class="crayon-sy">,</span><span class="crayon-v">image</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78880516451342-2"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">waitKey</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae8b78880516451342-3">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p></p>
<p>In the end, we display the image, and wait for the user to press a key.<br />
Checking the results</p>
<p>Let’s test against the Abba photo:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b78885504534752" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
$ python face_detect.py abba.png
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b78885504534752-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78885504534752-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b78885504534752-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">python </span><span class="crayon-v">face_detect</span><span class="crayon-sy">.</span><span class="crayon-e">py </span><span class="crayon-v">abba</span><span class="crayon-sy">.</span><span class="crayon-i">png</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78885504534752-2">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p></p>
<p><img src="/wp-content/uploads/2017/04/abba.jpg" alt="" class="aligncenter size-full wp-image-2992" width="500" height="426" srcset="/wp-content/uploads/2017/04/abba.jpg 500w, /wp-content/uploads/2017/04/abba-300x256.jpg 300w" sizes="(max-width: 500px) 85vw, 500px" /></p>
<p><img src="/wp-content/uploads/2017/04/image8.jpg" alt="" class="aligncenter size-full wp-image-2993" width="507" height="455" srcset="/wp-content/uploads/2017/04/image8.jpg 507w, /wp-content/uploads/2017/04/image8-300x269.jpg 300w" sizes="(max-width: 507px) 85vw, 507px" /></p>
<p>That worked. How about another photo:</p>
<p><img src="/wp-content/uploads/2017/04/little_mix.jpg" alt="" class="aligncenter size-full wp-image-2994" width="640" height="539" srcset="/wp-content/uploads/2017/04/little_mix.jpg 640w, /wp-content/uploads/2017/04/little_mix-300x253.jpg 300w" sizes="(max-width: 640px) 85vw, 640px" /></p>
<p><img src="/wp-content/uploads/2017/04/image9.jpg" alt="" class="aligncenter size-full wp-image-2995" width="647" height="568" srcset="/wp-content/uploads/2017/04/image9.jpg 647w, /wp-content/uploads/2017/04/image9-300x263.jpg 300w" sizes="(max-width: 647px) 85vw, 647px" /></p>
<p>That… is not a face. Let’s try again. I changed the parameters and found that setting the scaleFactor to 1.2 got rid of the wrong face.</p>
<p><img src="/wp-content/uploads/2017/04/image10.jpg" alt="" class="aligncenter size-full wp-image-2996" width="647" height="568" srcset="/wp-content/uploads/2017/04/image10.jpg 647w, /wp-content/uploads/2017/04/image10-300x263.jpg 300w" sizes="(max-width: 647px) 85vw, 647px" /></p>
<p>What happened? Well, the first photo was taken fairly close up with a high quality camera. The second one seems to have been taken from afar and possibly from a mobile phone. This is why the scaleFactor had to be modified. As I said, you’ll have to tweak the algorithm on a case by case basis to avoid false positives.</p>
<p>Be warned though that since this is based on machine learning, the results will never be 100% accurate. You will get good enough results in most cases, but occasionally the algorithm will identify incorrect objects as faces.</p>
<h2>Extending to a webcam</h2>
<p>So what if you want to use a webcam? OpenCV grabs each frame from the webcam and you can then detect faces by processing each frame. You do the same processing as you do with a single image, except this time you do it frame by frame. This will require a lot of processing, though. I saw close to 90% CPU usage on my laptop.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b7888a377177855" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
import cv2
import sys

cascPath = "haarcascade_frontalface_default.xml"
face_cascade &amp;lt;span class="pl-k"&amp;gt;=&amp;lt;/span&amp;gt; cv2.CascadeClassifier(cascasdepath)
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b7888a377177855-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b7888a377177855-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae8b7888a377177855-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b7888a377177855-4">4</div><div class="crayon-num" data-line="crayon-5bd0ae8b7888a377177855-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b7888a377177855-6">6</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b7888a377177855-1"><span class="crayon-e">import </span><span class="crayon-e">cv2</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b7888a377177855-2"><span class="crayon-e">import </span><span class="crayon-e">sys</span></div><div class="crayon-line" id="crayon-5bd0ae8b7888a377177855-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b7888a377177855-4"><span class="crayon-v">cascPath</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"haarcascade_frontalface_default.xml"</span></div><div class="crayon-line" id="crayon-5bd0ae8b7888a377177855-5"><span class="crayon-v">face_cascade</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-e">span </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"pl-k"</span><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-o">=&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-o">/</span><span class="crayon-v">span</span><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">CascadeClassifier</span><span class="crayon-sy">(</span><span class="crayon-v">cascasdepath</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b7888a377177855-6">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<p></p>
<p>This should be familiar to you. We are creating a face cascade, as we did in the image example.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b7888f233861637" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
if len(sys.argv) &lt; 2:
    video_capture = cv2.VideoCapture(0)
else:
    video_capture = cv2.VideoCapture(sys.argv[1])</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b7888f233861637-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b7888f233861637-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae8b7888f233861637-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b7888f233861637-4">4</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b7888f233861637-1"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-e">len</span><span class="crayon-sy">(</span><span class="crayon-v">sys</span><span class="crayon-sy">.</span><span class="crayon-v">argv</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b7888f233861637-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">video_capture</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">VideoCapture</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae8b7888f233861637-3"><span class="crayon-st">else</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b7888f233861637-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">video_capture</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">VideoCapture</span><span class="crayon-sy">(</span><span class="crayon-v">sys</span><span class="crayon-sy">.</span><span class="crayon-v">argv</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<p></p>
<p>&nbsp;</p>
<p>This line sets the video source to the default webcam (<em>VideoCapture(0)</em> always points to the default webcam) if no video file is specified. Else, it loads the file.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b78894271540137" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
while True:
    # Capture frame-by-frame
    ret, image = video_capture.read()</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b78894271540137-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78894271540137-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae8b78894271540137-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b78894271540137-1"><span class="crayon-st">while</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78894271540137-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p"># Capture frame-by-frame</span></div><div class="crayon-line" id="crayon-5bd0ae8b78894271540137-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">ret</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">image</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">video_capture</span><span class="crayon-sy">.</span><span class="crayon-e">read</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p></p>
<p>&nbsp;</p>
<p>Here, we capture the video. The read() function reads one frame from the video source, which in this example is the webcam. This returns:</p>
<ul>
<li>The actual video frame read (one frame on each loop)<br />
*  A return code</li>
</ul>
<p>The return code tells us if we have run out of frames, which will happen if we are reading from a file. This doesn’t matter when reading from the webcam, since we can read forever.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b78898481138896" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
    ret, image = video_capture.read()

    if not ret:
        break

    gray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)

    faces = face_cascade.detectMultiScale(
        gray,
        scaleFactor = 1.2,
        minNeighbors = 5,
        minSize = (30,30)

        )

    #print("The number of faces found = ", len(faces))

    for (x,y,w,h) in faces:
        cv2.rectangle(image, (x,y), (x+h, y+h), (0, 255, 0), 2)

    cv2.imshow("Faces found", image)</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b78898481138896-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78898481138896-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae8b78898481138896-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78898481138896-4">4</div><div class="crayon-num" data-line="crayon-5bd0ae8b78898481138896-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78898481138896-6">6</div><div class="crayon-num" data-line="crayon-5bd0ae8b78898481138896-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78898481138896-8">8</div><div class="crayon-num" data-line="crayon-5bd0ae8b78898481138896-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78898481138896-10">10</div><div class="crayon-num" data-line="crayon-5bd0ae8b78898481138896-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78898481138896-12">12</div><div class="crayon-num" data-line="crayon-5bd0ae8b78898481138896-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78898481138896-14">14</div><div class="crayon-num" data-line="crayon-5bd0ae8b78898481138896-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78898481138896-16">16</div><div class="crayon-num" data-line="crayon-5bd0ae8b78898481138896-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78898481138896-18">18</div><div class="crayon-num" data-line="crayon-5bd0ae8b78898481138896-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b78898481138896-20">20</div><div class="crayon-num" data-line="crayon-5bd0ae8b78898481138896-21">21</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b78898481138896-1"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">ret</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">image</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">video_capture</span><span class="crayon-sy">.</span><span class="crayon-e">read</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78898481138896-2">&nbsp;</div><div class="crayon-line" id="crayon-5bd0ae8b78898481138896-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-st">not</span><span class="crayon-h"> </span><span class="crayon-v">ret</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78898481138896-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">break</span></div><div class="crayon-line" id="crayon-5bd0ae8b78898481138896-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78898481138896-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">gray</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">cvtColor</span><span class="crayon-sy">(</span><span class="crayon-v">image</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-v">COLOR_BGR2GRAY</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae8b78898481138896-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78898481138896-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">faces</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">face_cascade</span><span class="crayon-sy">.</span><span class="crayon-e">detectMultiScale</span><span class="crayon-sy">(</span></div><div class="crayon-line" id="crayon-5bd0ae8b78898481138896-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">gray</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78898481138896-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">scaleFactor</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1.2</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5bd0ae8b78898481138896-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">minNeighbors</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78898481138896-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">minSize</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-cn">30</span><span class="crayon-sy">,</span><span class="crayon-cn">30</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae8b78898481138896-13">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78898481138896-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae8b78898481138896-15">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78898481138896-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#print("The number of faces found = ", len(faces))</span></div><div class="crayon-line" id="crayon-5bd0ae8b78898481138896-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78898481138896-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">x</span><span class="crayon-sy">,</span><span class="crayon-v">y</span><span class="crayon-sy">,</span><span class="crayon-v">w</span><span class="crayon-sy">,</span><span class="crayon-v">h</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">faces</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5bd0ae8b78898481138896-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">rectangle</span><span class="crayon-sy">(</span><span class="crayon-v">image</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">x</span><span class="crayon-sy">,</span><span class="crayon-v">y</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">x</span><span class="crayon-o">+</span><span class="crayon-v">h</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">y</span><span class="crayon-o">+</span><span class="crayon-v">h</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">255</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b78898481138896-20">&nbsp;</div><div class="crayon-line" id="crayon-5bd0ae8b78898481138896-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">imshow</span><span class="crayon-sy">(</span><span class="crayon-s">"Faces found"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">image</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0017 seconds] -->
<p></p>
<p>&nbsp;</p>
<p>Again, this code should be familiar as it&#8217;s the same as before. We are merely searching for the face in our captured frame.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b7889d360758127" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
if cv2.waitKey(1) &amp; 0xFF == ord('q'):
    break</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b7889d360758127-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b7889d360758127-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b7889d360758127-1"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">waitKey</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-h"> </span><span class="crayon-cn">0xFF</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-e">ord</span><span class="crayon-sy">(</span><span class="crayon-s">'q'</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b7889d360758127-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">break</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p></p>
<p>&nbsp;</p>
<p>We wait for the ‘q’ key to be pressed. If it is, we exit the script.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b788a2589222497" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
# When everything is done, release the capture
video_capture.release()
cv2.destroyAllWindows()
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b788a2589222497-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788a2589222497-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae8b788a2589222497-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788a2589222497-4">4</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b788a2589222497-1"><span class="crayon-p"># When everything is done, release the capture</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788a2589222497-2"><span class="crayon-v">video_capture</span><span class="crayon-sy">.</span><span class="crayon-e">release</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae8b788a2589222497-3"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">destroyAllWindows</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788a2589222497-4">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p></p>
<p>Here, we are just cleaning up.</p>
<p>If you want to use the webcam:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b788a6277833206" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
python webcam_face_detect.py
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b788a6277833206-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788a6277833206-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b788a6277833206-1"><span class="crayon-e">python </span><span class="crayon-v">webcam_face_detect</span><span class="crayon-sy">.</span><span class="crayon-i">py</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788a6277833206-2">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
<p></p>
<p>If you want to check for video:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b788aa599801607" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
python webcam_face_detect.py webcam.mp4

</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b788aa599801607-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788aa599801607-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae8b788aa599801607-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b788aa599801607-1"><span class="crayon-e">python </span><span class="crayon-v">webcam_face_detect</span><span class="crayon-sy">.</span><span class="crayon-e">py </span><span class="crayon-v">webcam</span><span class="crayon-sy">.</span><span class="crayon-i">mp4</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788aa599801607-2">&nbsp;</div><div class="crayon-line" id="crayon-5bd0ae8b788aa599801607-3">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p></p>
<p>This will play the file I provided. It may not work unless you have a video decoder like Ffmpeg installed.</p>
<p><img src="/wp-content/uploads/2017/04/image11.jpg" alt="" class="aligncenter size-full wp-image-2997" width="648" height="571" srcset="/wp-content/uploads/2017/04/image11.jpg 648w, /wp-content/uploads/2017/04/image11-300x264.jpg 300w" sizes="(max-width: 648px) 85vw, 648px" /></p>
<p>So, that’s me with a passport sized photo in my hand. And you can see that the algorithm tracks both the real me and the photo me.</p>
<p>Like I said in the last section, machine learning based algorithms are rarely 100% accurate. We aren’t at the stage where Robocop driving his motorcycle at 100 mph can track criminals using low quality CCTV cameras… yet.</p>
<h2>Motion detection</h2>
<p>We&#8217;ll use our webcam example, and extend it so it can detect motion.</p>
<p>How do you detect motion? You take two consecutive frames, and find the difference between them. If the difference is minor, that means no motion occurred. If you find a large difference between frames, then motion must have occurred.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b788af721578898" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
#!/usr/bin/python

import cv2
import sys
import numpy as np

if len(sys.argv) &lt; 2:
    video_capture = cv2.VideoCapture(0)
else:
    video_capture = cv2.VideoCapture(sys.argv[1])</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b788af721578898-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788af721578898-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae8b788af721578898-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788af721578898-4">4</div><div class="crayon-num" data-line="crayon-5bd0ae8b788af721578898-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788af721578898-6">6</div><div class="crayon-num" data-line="crayon-5bd0ae8b788af721578898-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788af721578898-8">8</div><div class="crayon-num" data-line="crayon-5bd0ae8b788af721578898-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788af721578898-10">10</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b788af721578898-1"><span class="crayon-p">#!/usr/bin/python</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788af721578898-2">&nbsp;</div><div class="crayon-line" id="crayon-5bd0ae8b788af721578898-3"><span class="crayon-e">import </span><span class="crayon-e">cv2</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788af721578898-4"><span class="crayon-e">import </span><span class="crayon-e">sys</span></div><div class="crayon-line" id="crayon-5bd0ae8b788af721578898-5"><span class="crayon-e">import </span><span class="crayon-e">numpy </span><span class="crayon-st">as</span><span class="crayon-h"> </span><span class="crayon-e">np</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788af721578898-6">&nbsp;</div><div class="crayon-line" id="crayon-5bd0ae8b788af721578898-7"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-e">len</span><span class="crayon-sy">(</span><span class="crayon-v">sys</span><span class="crayon-sy">.</span><span class="crayon-v">argv</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788af721578898-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">video_capture</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">VideoCapture</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae8b788af721578898-9"><span class="crayon-st">else</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788af721578898-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">video_capture</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">VideoCapture</span><span class="crayon-sy">(</span><span class="crayon-v">sys</span><span class="crayon-sy">.</span><span class="crayon-v">argv</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0007 seconds] -->
<p></p>
<p>&nbsp;</p>
<p>This code is the same as before. We are creating a video capture instance.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b788b4272157611" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
# Read two frames, last and current, and convert current to gray.
ret, last_frame = video_capture.read()
ret, current_frame = video_capture.read()
gray = cv2.cvtColor(current_frame, cv2.COLOR_BGR2GRAY)</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b788b4272157611-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788b4272157611-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae8b788b4272157611-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788b4272157611-4">4</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b788b4272157611-1"><span class="crayon-p"># Read two frames, last and current, and convert current to gray.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788b4272157611-2"><span class="crayon-v">ret</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">last_frame</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">video_capture</span><span class="crayon-sy">.</span><span class="crayon-e">read</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae8b788b4272157611-3"><span class="crayon-v">ret</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">current_frame</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">video_capture</span><span class="crayon-sy">.</span><span class="crayon-e">read</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788b4272157611-4"><span class="crayon-v">gray</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">cvtColor</span><span class="crayon-sy">(</span><span class="crayon-v">current_frame</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-v">COLOR_BGR2GRAY</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0006 seconds] -->
<p></p>
<p>&nbsp;</p>
<p>Here we read two frames and convert the current to gray. You may notice we are doing this outside the while loop. This is because we want two consecutive frames captured before the main loop starts. We call them <em>last_frame</em> and <em>current_frame</em>. Why do we need two? So that we can see the difference between them.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b788b9864862643" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
```
i = 0
while(True):
    # We want two frames- last and current, so that we can calculate the different between them.
    # Store the current frame as last_frame, and then read a new one
    last_frame = current_frame
```</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b788b9864862643-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788b9864862643-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae8b788b9864862643-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788b9864862643-4">4</div><div class="crayon-num" data-line="crayon-5bd0ae8b788b9864862643-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788b9864862643-6">6</div><div class="crayon-num" data-line="crayon-5bd0ae8b788b9864862643-7">7</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b788b9864862643-1"><span class="crayon-sy">`</span><span class="crayon-sy">`</span><span class="crayon-sy">`</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788b9864862643-2"><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span></div><div class="crayon-line" id="crayon-5bd0ae8b788b9864862643-3"><span class="crayon-st">while</span><span class="crayon-sy">(</span><span class="crayon-t">True</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788b9864862643-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p"># We want two frames- last and current, so that we can calculate the different between them.</span></div><div class="crayon-line" id="crayon-5bd0ae8b788b9864862643-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p"># Store the current frame as last_frame, and then read a new one</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788b9864862643-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">last_frame</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">current</span><span class="crayon-sy">_</span>frame</div><div class="crayon-line" id="crayon-5bd0ae8b788b9864862643-7"><span class="crayon-sy">`</span><span class="crayon-sy">`</span><span class="crayon-sy">`</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<p></p>
<p>We enter our while loop now, and the first thing we do is store the <em>current_frame</em> as the last frame. That&#8217;s because we are going to read a new frame, and each loop iteration, the <em>current_frame</em> from last iteration will become the <em>last_frame</em> of this iteration.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b788be658849700" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
ret, current_frame = video_capture.read()
gray = cv2.cvtColor(current_frame, cv2.COLOR_BGR2GRAY)
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b788be658849700-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788be658849700-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae8b788be658849700-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b788be658849700-1"><span class="crayon-v">ret</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">current_frame</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">video_capture</span><span class="crayon-sy">.</span><span class="crayon-e">read</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788be658849700-2"><span class="crayon-v">gray</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">cvtColor</span><span class="crayon-sy">(</span><span class="crayon-v">current_frame</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-v">COLOR_BGR2GRAY</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae8b788be658849700-3">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<p></p>
<p>We read a new frame and convert it to grayscale.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b788c2880052553" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
# Find the absolute difference between frames
diff = cv2.absdiff(last_frame, current_frame)
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b788c2880052553-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788c2880052553-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae8b788c2880052553-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b788c2880052553-1"><span class="crayon-p"># Find the absolute difference between frames</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788c2880052553-2"><span class="crayon-v">diff</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">absdiff</span><span class="crayon-sy">(</span><span class="crayon-v">last_frame</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">current_frame</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae8b788c2880052553-3">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p></p>
<p>We use the inbuilt <em>absdiff()</em> to find the absolute difference between consecutive frames.</p>
<p>Now, I have some code that will show us what the difference is. Before that, you must understand that OpenCv video and image frames are just numpy arrays that contain the values of all the pixels in the image or video. If you want, you can do something like to print the whole array.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b788c7290822234" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
print(current_frame)

[[[10 35  5]
[ 9 34  4]
[13 32  8]
...,
[87 66 68]
[87 70 62]
[86 69 61]]

[[12 34  9]
[12 34  9]
[19 31  8]
...,
[87 66 68]
[86 69 61]
[86 69 61]]

[[14 32 10]
[14 32 10]
[21 30  9]
...,
[85 68 65]
[86 69 61]
[86 69 61]]
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b788c7290822234-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788c7290822234-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae8b788c7290822234-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788c7290822234-4">4</div><div class="crayon-num" data-line="crayon-5bd0ae8b788c7290822234-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788c7290822234-6">6</div><div class="crayon-num" data-line="crayon-5bd0ae8b788c7290822234-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788c7290822234-8">8</div><div class="crayon-num" data-line="crayon-5bd0ae8b788c7290822234-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788c7290822234-10">10</div><div class="crayon-num" data-line="crayon-5bd0ae8b788c7290822234-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788c7290822234-12">12</div><div class="crayon-num" data-line="crayon-5bd0ae8b788c7290822234-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788c7290822234-14">14</div><div class="crayon-num" data-line="crayon-5bd0ae8b788c7290822234-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788c7290822234-16">16</div><div class="crayon-num" data-line="crayon-5bd0ae8b788c7290822234-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788c7290822234-18">18</div><div class="crayon-num" data-line="crayon-5bd0ae8b788c7290822234-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788c7290822234-20">20</div><div class="crayon-num" data-line="crayon-5bd0ae8b788c7290822234-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788c7290822234-22">22</div><div class="crayon-num" data-line="crayon-5bd0ae8b788c7290822234-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788c7290822234-24">24</div><div class="crayon-num" data-line="crayon-5bd0ae8b788c7290822234-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788c7290822234-26">26</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b788c7290822234-1"><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-v">current_frame</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788c7290822234-2">&nbsp;</div><div class="crayon-line" id="crayon-5bd0ae8b788c7290822234-3"><span class="crayon-sy">[</span><span class="crayon-sy">[</span><span class="crayon-sy">[</span><span class="crayon-cn">10</span><span class="crayon-h"> </span><span class="crayon-cn">35</span> <span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788c7290822234-4"><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-cn">9</span><span class="crayon-h"> </span><span class="crayon-cn">34</span> <span class="crayon-h"> </span><span class="crayon-cn">4</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5bd0ae8b788c7290822234-5"><span class="crayon-sy">[</span><span class="crayon-cn">13</span><span class="crayon-h"> </span><span class="crayon-cn">32</span> <span class="crayon-h"> </span><span class="crayon-cn">8</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788c7290822234-6"><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5bd0ae8b788c7290822234-7"><span class="crayon-sy">[</span><span class="crayon-cn">87</span><span class="crayon-h"> </span><span class="crayon-cn">66</span><span class="crayon-h"> </span><span class="crayon-cn">68</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788c7290822234-8"><span class="crayon-sy">[</span><span class="crayon-cn">87</span><span class="crayon-h"> </span><span class="crayon-cn">70</span><span class="crayon-h"> </span><span class="crayon-cn">62</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5bd0ae8b788c7290822234-9"><span class="crayon-sy">[</span><span class="crayon-cn">86</span><span class="crayon-h"> </span><span class="crayon-cn">69</span><span class="crayon-h"> </span><span class="crayon-cn">61</span><span class="crayon-sy">]</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788c7290822234-10">&nbsp;</div><div class="crayon-line" id="crayon-5bd0ae8b788c7290822234-11"><span class="crayon-sy">[</span><span class="crayon-sy">[</span><span class="crayon-cn">12</span><span class="crayon-h"> </span><span class="crayon-cn">34</span> <span class="crayon-h"> </span><span class="crayon-cn">9</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788c7290822234-12"><span class="crayon-sy">[</span><span class="crayon-cn">12</span><span class="crayon-h"> </span><span class="crayon-cn">34</span> <span class="crayon-h"> </span><span class="crayon-cn">9</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5bd0ae8b788c7290822234-13"><span class="crayon-sy">[</span><span class="crayon-cn">19</span><span class="crayon-h"> </span><span class="crayon-cn">31</span> <span class="crayon-h"> </span><span class="crayon-cn">8</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788c7290822234-14"><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5bd0ae8b788c7290822234-15"><span class="crayon-sy">[</span><span class="crayon-cn">87</span><span class="crayon-h"> </span><span class="crayon-cn">66</span><span class="crayon-h"> </span><span class="crayon-cn">68</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788c7290822234-16"><span class="crayon-sy">[</span><span class="crayon-cn">86</span><span class="crayon-h"> </span><span class="crayon-cn">69</span><span class="crayon-h"> </span><span class="crayon-cn">61</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5bd0ae8b788c7290822234-17"><span class="crayon-sy">[</span><span class="crayon-cn">86</span><span class="crayon-h"> </span><span class="crayon-cn">69</span><span class="crayon-h"> </span><span class="crayon-cn">61</span><span class="crayon-sy">]</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788c7290822234-18">&nbsp;</div><div class="crayon-line" id="crayon-5bd0ae8b788c7290822234-19"><span class="crayon-sy">[</span><span class="crayon-sy">[</span><span class="crayon-cn">14</span><span class="crayon-h"> </span><span class="crayon-cn">32</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788c7290822234-20"><span class="crayon-sy">[</span><span class="crayon-cn">14</span><span class="crayon-h"> </span><span class="crayon-cn">32</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5bd0ae8b788c7290822234-21"><span class="crayon-sy">[</span><span class="crayon-cn">21</span><span class="crayon-h"> </span><span class="crayon-cn">30</span> <span class="crayon-h"> </span><span class="crayon-cn">9</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788c7290822234-22"><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5bd0ae8b788c7290822234-23"><span class="crayon-sy">[</span><span class="crayon-cn">85</span><span class="crayon-h"> </span><span class="crayon-cn">68</span><span class="crayon-h"> </span><span class="crayon-cn">65</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788c7290822234-24"><span class="crayon-sy">[</span><span class="crayon-cn">86</span><span class="crayon-h"> </span><span class="crayon-cn">69</span><span class="crayon-h"> </span><span class="crayon-cn">61</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5bd0ae8b788c7290822234-25"><span class="crayon-sy">[</span><span class="crayon-cn">86</span><span class="crayon-h"> </span><span class="crayon-cn">69</span><span class="crayon-h"> </span><span class="crayon-cn">61</span><span class="crayon-sy">]</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788c7290822234-26">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0017 seconds] -->
<p></p>
<p>The above is just a snippet-you can see the array is huge.</p>
<p>What I will do is just print the average of the array.</p>
<p>I have some code that I&#8217;ve commented out. It prints the values of the average of the current_frame and the difference. I only print once every ten times, to avoid too much data on the screen.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b788cd183043998" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
# Uncomment the below to see the difference values
'''
i += 1
if i % 10 == 0:
i = 0
print np.mean(current_frame)
print np.mean(diff)
'''
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b788cd183043998-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788cd183043998-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae8b788cd183043998-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788cd183043998-4">4</div><div class="crayon-num" data-line="crayon-5bd0ae8b788cd183043998-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788cd183043998-6">6</div><div class="crayon-num" data-line="crayon-5bd0ae8b788cd183043998-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788cd183043998-8">8</div><div class="crayon-num" data-line="crayon-5bd0ae8b788cd183043998-9">9</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b788cd183043998-1"><span class="crayon-p"># Uncomment the below to see the difference values</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788cd183043998-2"><span class="crayon-s">''</span><span class="crayon-s">'</span></div><div class="crayon-line" id="crayon-5bd0ae8b788cd183043998-3"><span class="crayon-s">i += 1</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788cd183043998-4"><span class="crayon-s">if i % 10 == 0:</span></div><div class="crayon-line" id="crayon-5bd0ae8b788cd183043998-5"><span class="crayon-s">i = 0</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788cd183043998-6"><span class="crayon-s">print np.mean(current_frame)</span></div><div class="crayon-line" id="crayon-5bd0ae8b788cd183043998-7"><span class="crayon-s">print np.mean(diff)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788cd183043998-8"><span class="crayon-s">'</span><span class="crayon-s">''</span></div><div class="crayon-line" id="crayon-5bd0ae8b788cd183043998-9">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p></p>
<p>Here is some sample output:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b788d2745627398" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
Current frame =  83.9231391059
Diff =  5.06139973958
Current frame =  84.3319932726
Diff =  4.31867404514
Current frame =  88.6718229167
Diff =  0.461206597222
Current frame =  88.5050021701
Diff =  0.156022135417
Current frame =  89.7750976562
Diff =  2.8298578559
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b788d2745627398-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788d2745627398-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae8b788d2745627398-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788d2745627398-4">4</div><div class="crayon-num" data-line="crayon-5bd0ae8b788d2745627398-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788d2745627398-6">6</div><div class="crayon-num" data-line="crayon-5bd0ae8b788d2745627398-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788d2745627398-8">8</div><div class="crayon-num" data-line="crayon-5bd0ae8b788d2745627398-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788d2745627398-10">10</div><div class="crayon-num" data-line="crayon-5bd0ae8b788d2745627398-11">11</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b788d2745627398-1"><span class="crayon-e">Current </span><span class="crayon-v">frame</span><span class="crayon-h"> </span><span class="crayon-o">=</span> <span class="crayon-h"> </span><span class="crayon-cn">83.9231391059</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788d2745627398-2"><span class="crayon-v">Diff</span><span class="crayon-h"> </span><span class="crayon-o">=</span> <span class="crayon-h"> </span><span class="crayon-cn">5.06139973958</span></div><div class="crayon-line" id="crayon-5bd0ae8b788d2745627398-3"><span class="crayon-e">Current </span><span class="crayon-v">frame</span><span class="crayon-h"> </span><span class="crayon-o">=</span> <span class="crayon-h"> </span><span class="crayon-cn">84.3319932726</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788d2745627398-4"><span class="crayon-v">Diff</span><span class="crayon-h"> </span><span class="crayon-o">=</span> <span class="crayon-h"> </span><span class="crayon-cn">4.31867404514</span></div><div class="crayon-line" id="crayon-5bd0ae8b788d2745627398-5"><span class="crayon-e">Current </span><span class="crayon-v">frame</span><span class="crayon-h"> </span><span class="crayon-o">=</span> <span class="crayon-h"> </span><span class="crayon-cn">88.6718229167</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788d2745627398-6"><span class="crayon-v">Diff</span><span class="crayon-h"> </span><span class="crayon-o">=</span> <span class="crayon-h"> </span><span class="crayon-cn">0.461206597222</span></div><div class="crayon-line" id="crayon-5bd0ae8b788d2745627398-7"><span class="crayon-e">Current </span><span class="crayon-v">frame</span><span class="crayon-h"> </span><span class="crayon-o">=</span> <span class="crayon-h"> </span><span class="crayon-cn">88.5050021701</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788d2745627398-8"><span class="crayon-v">Diff</span><span class="crayon-h"> </span><span class="crayon-o">=</span> <span class="crayon-h"> </span><span class="crayon-cn">0.156022135417</span></div><div class="crayon-line" id="crayon-5bd0ae8b788d2745627398-9"><span class="crayon-e">Current </span><span class="crayon-v">frame</span><span class="crayon-h"> </span><span class="crayon-o">=</span> <span class="crayon-h"> </span><span class="crayon-cn">89.7750976562</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788d2745627398-10"><span class="crayon-v">Diff</span><span class="crayon-h"> </span><span class="crayon-o">=</span> <span class="crayon-h"> </span><span class="crayon-cn">2.8298578559</span></div><div class="crayon-line" id="crayon-5bd0ae8b788d2745627398-11">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0008 seconds] -->
<p></p>
<p>The above is without motion. With motion:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b788d6347635896" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
Current frame =  82.5932790799
Diff =  7.46467230903
</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b788d6347635896-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788d6347635896-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae8b788d6347635896-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b788d6347635896-1"><span class="crayon-e">Current </span><span class="crayon-v">frame</span><span class="crayon-h"> </span><span class="crayon-o">=</span> <span class="crayon-h"> </span><span class="crayon-cn">82.5932790799</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788d6347635896-2"><span class="crayon-v">Diff</span><span class="crayon-h"> </span><span class="crayon-o">=</span> <span class="crayon-h"> </span><span class="crayon-cn">7.46467230903</span></div><div class="crayon-line" id="crayon-5bd0ae8b788d6347635896-3">&nbsp;</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p></p>
<p>As you can see, the average of the difference frame is very little when you aren&#8217;t moving. Try it yourself (if you have a webcam). Sit silently for a few seconds, and you will see the difference is 1.0 or less. Start moving around, and it will jump to 10 or even more.</p>
<p>That&#8217;s how I got the values I&#8217;m going to use- by experimentation:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b788db482822728" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
    # If difference is greater than a threshold, that means motion detected.
    if np.mean(diff) &gt; 10:
        print("Achtung! Motion detected.")</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b788db482822728-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788db482822728-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae8b788db482822728-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b788db482822728-1"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p"># If difference is greater than a threshold, that means motion detected.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788db482822728-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">np</span><span class="crayon-sy">.</span><span class="crayon-e">mean</span><span class="crayon-sy">(</span><span class="crayon-v">diff</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5bd0ae8b788db482822728-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-s">"Achtung! Motion detected."</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p></p>
<p>&nbsp;</p>
<p>If the average difference is greater than 10 (a value I got by experiment), I take it to mean motion has been detected, and print the warning.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bd0ae8b788e0614947060" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
# Display the resulting frame
cv2.imshow('Video',diff)
if cv2.waitKey(1) &amp; 0xFF == ord('q'):
    break
# When everything done, release the capture
video_capture.release()
cv2.destroyAllWindows()</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bd0ae8b788e0614947060-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788e0614947060-2">2</div><div class="crayon-num" data-line="crayon-5bd0ae8b788e0614947060-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788e0614947060-4">4</div><div class="crayon-num" data-line="crayon-5bd0ae8b788e0614947060-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bd0ae8b788e0614947060-6">6</div><div class="crayon-num" data-line="crayon-5bd0ae8b788e0614947060-7">7</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bd0ae8b788e0614947060-1"><span class="crayon-p"># Display the resulting frame</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788e0614947060-2"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">imshow</span><span class="crayon-sy">(</span><span class="crayon-s">'Video'</span><span class="crayon-sy">,</span><span class="crayon-v">diff</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae8b788e0614947060-3"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">waitKey</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-h"> </span><span class="crayon-cn">0xFF</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-e">ord</span><span class="crayon-sy">(</span><span class="crayon-s">'q'</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788e0614947060-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">break</span></div><div class="crayon-line" id="crayon-5bd0ae8b788e0614947060-5"><span class="crayon-p"># When everything done, release the capture</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bd0ae8b788e0614947060-6"><span class="crayon-v">video_capture</span><span class="crayon-sy">.</span><span class="crayon-e">release</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bd0ae8b788e0614947060-7"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">destroyAllWindows</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0006 seconds] -->
<p></p>
<p>&nbsp;</p>
<p>Finally, we display our difference image and exit.</p>
<p><img src="/wp-content/uploads/2017/04/image12.jpg" alt="" class="aligncenter size-full wp-image-2999" width="847" height="637" srcset="/wp-content/uploads/2017/04/image12.jpg 847w, /wp-content/uploads/2017/04/image12-300x226.jpg 300w, /wp-content/uploads/2017/04/image12-768x578.jpg 768w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px" /><br />
<img src="/wp-content/uploads/2017/04/image13.jpg" alt="" class="aligncenter size-full wp-image-2998" width="646" height="509" srcset="/wp-content/uploads/2017/04/image13.jpg 646w, /wp-content/uploads/2017/04/image13-300x236.jpg 300w" sizes="(max-width: 646px) 85vw, 646px" /><br />
Here is another example taken from my webcam. In the first image, I&#8217;m just sitting there. In the second one, I move a little:</p>
<p><img src="/wp-content/uploads/2017/04/motion1.jpg" alt="" class="aligncenter size-full wp-image-3000" width="656" height="520" srcset="/wp-content/uploads/2017/04/motion1.jpg 656w, /wp-content/uploads/2017/04/motion1-300x238.jpg 300w" sizes="(max-width: 656px) 85vw, 656px" /></p>
<p style="text-align: center;"><em>No movement, hence the image is black</em></p>
<p style="text-align: center;"><img src="/wp-content/uploads/2017/04/motion2.jpg" alt="" class="aligncenter size-full wp-image-3001" width="653" height="514" srcset="/wp-content/uploads/2017/04/motion2.jpg 653w, /wp-content/uploads/2017/04/motion2-300x236.jpg 300w" sizes="(max-width: 653px) 85vw, 653px" /><em>As soon as I move, the camera detects it</em></p>
	</div><!-- .entry-content -->

	
</article><!-- #post-## -->

	</main><!-- .site-main -->

	
</div><!-- .content-area -->


	<aside id="secondary" class="sidebar widget-area" role="complementary">
		<section id="search-4" class="widget widget_search">
<form role="search" method="get" class="search-form" action="/">
	<label>
		<span class="screen-reader-text">Search for:</span>
		<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s" />
	</label>
	<button type="submit" class="search-submit"><span class="screen-reader-text">Search</span></button>
</form>
</section><section id="text-4" class="widget widget_text"><h2 class="widget-title">WARNING</h2>			<div class="textwidget"><p>This site is now in maintenance mode. <a href="/maintenance-mode/">Please see here for details</a></p>
<p>&nbsp;</p>
<p><strong>Tldr</strong>: I am no longer working actively on the site, though I will keep it online as it is still helping a lot of people.</p>
</div>
		</section>	</aside><!-- .sidebar .widget-area -->

		</div><!-- .site-content -->

		<footer id="colophon" class="site-footer" role="contentinfo">
							<nav class="main-navigation" role="navigation" aria-label="Footer Primary Menu">
					<div class="menu-main-container"><ul id="menu-main-1" class="primary-menu"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-52"><a href="/articles/">Articles</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1533"><a href="/about/">About</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-35"><a href="/contact/">Contact</a></li>
</ul></div>				</nav><!-- .main-navigation -->
			
			
			<div class="site-info">
								<span class="site-title"><a href="/" rel="home">Python For Engineers</a></span>
								<a href="https://wordpress.org/" class="imprint">
					Proudly powered by WordPress				</a>
			</div><!-- .site-info -->
		</footer><!-- .site-footer -->
	</div><!-- .site-inner -->
</div><!-- .site -->

<script type='text/javascript' src='/wp-content/themes/twentysixteen/js/skip-link-focus-fix.js?ver=20160816'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var screenReaderText = {"expand":"expand child menu","collapse":"collapse child menu"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/themes/twentysixteen/js/functions.js?ver=20160816'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var tve_dash_front = {"ajaxurl":"http:\/\/pythonforengineers.com\/wp-admin\/admin-ajax.php","force_ajax_send":"","is_crawler":"1"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/thrive-visual-editor/thrive-dashboard/js/dist/frontend.min.js?ver=2.0.45'></script>
<script type='text/javascript' src='/wp-includes/js/wp-embed.min.js?ver=4.9.8'></script>
</body>
</html>
