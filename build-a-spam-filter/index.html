<!DOCTYPE html>
<html lang="en-US" class="no-js">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="profile" href="http://gmpg.org/xfn/11">
		<script>(function(html){html.className = html.className.replace(/\bno-js\b/,'js')})(document.documentElement);</script>
<title>Build a Spam Filter &#8211; Python For Engineers</title>
<link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Python For Engineers &raquo; Feed" href="/feed/" />
<link rel="alternate" type="application/rss+xml" title="Python For Engineers &raquo; Comments Feed" href="/comments/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/pythonforengineers.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.9.8"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56760,9792,65039],[55358,56760,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='crayon-css'  href='/wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-theme-github-css'  href='/wp-content/plugins/crayon-syntax-highlighter/themes/github/github.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-font-monaco-css'  href='/wp-content/plugins/crayon-syntax-highlighter/fonts/monaco.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='twentysixteen-fonts-css'  href='https://fonts.googleapis.com/css?family=Merriweather%3A400%2C700%2C900%2C400italic%2C700italic%2C900italic%7CMontserrat%3A400%2C700%7CInconsolata%3A400&#038;subset=latin%2Clatin-ext' type='text/css' media='all' />
<link rel='stylesheet' id='genericons-css'  href='/wp-content/themes/twentysixteen/genericons/genericons.css?ver=3.4.1' type='text/css' media='all' />
<link rel='stylesheet' id='twentysixteen-style-css'  href='/wp-content/themes/twentysixteen/style.css?ver=4.9.8' type='text/css' media='all' />
<!--[if lt IE 10]>
<link rel='stylesheet' id='twentysixteen-ie-css'  href='http://pythonforengineers.com/wp-content/themes/twentysixteen/css/ie.css?ver=20160816' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentysixteen-ie8-css'  href='http://pythonforengineers.com/wp-content/themes/twentysixteen/css/ie8.css?ver=20160816' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 8]>
<link rel='stylesheet' id='twentysixteen-ie7-css'  href='http://pythonforengineers.com/wp-content/themes/twentysixteen/css/ie7.css?ver=20160816' type='text/css' media='all' />
<![endif]-->
<script type='text/javascript' src='/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"http:\/\/pythonforengineers.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js?ver=_2.7.2_beta'></script>
<!--[if lt IE 9]>
<script type='text/javascript' src='http://pythonforengineers.com/wp-content/themes/twentysixteen/js/html5.js?ver=3.7.3'></script>
<![endif]-->
<link rel='https://api.w.org/' href='/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd" />
<meta name="generator" content="WordPress 4.9.8" />
<link rel="canonical" href="/build-a-spam-filter/" />
<link rel='shortlink' href='/?p=2123' />
<link rel="alternate" type="application/json+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2Fbuild-a-spam-filter%2F" />
<link rel="alternate" type="text/xml+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2Fbuild-a-spam-filter%2F&#038;format=xml" />
</head>

<body class="page-template-default page page-id-2123">
<div id="page" class="site">
	<div class="site-inner">
		<a class="skip-link screen-reader-text" href="#content">Skip to content</a>

		<header id="masthead" class="site-header" role="banner">
			<div class="site-header-main">
				<div class="site-branding">
					
											<p class="site-title"><a href="/" rel="home">Python For Engineers</a></p>
									</div><!-- .site-branding -->

									<button id="menu-toggle" class="menu-toggle">Menu</button>

					<div id="site-header-menu" class="site-header-menu">
													<nav id="site-navigation" class="main-navigation" role="navigation" aria-label="Primary Menu">
								<div class="menu-main-container"><ul id="menu-main" class="primary-menu"><li id="menu-item-52" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-52"><a href="/articles/">Articles</a></li>
<li id="menu-item-1533" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1533"><a href="/about/">About</a></li>
<li id="menu-item-35" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-35"><a href="/contact/">Contact</a></li>
</ul></div>							</nav><!-- .main-navigation -->
						
											</div><!-- .site-header-menu -->
							</div><!-- .site-header-main -->

					</header><!-- .site-header -->

		<div id="content" class="site-content">

<div id="primary" class="content-area">
	<main id="main" class="site-main" role="main">
		
<article id="post-2123" class="post-2123 page type-page status-publish hentry">
	<header class="entry-header">
		<h1 class="entry-title">Build a Spam Filter</h1>	</header><!-- .entry-header -->

	
	<div class="entry-content">
		<p>In this lesson, we will try to build a spam filter using the Enron email dataset.</p>
<p><strong>Pre-Requisites:</strong></p>
<p><a href="/introduction-to-nltk-natural-language-processing-with-python/">Introduction to Natural Language Processing with NTLK</a></p>
<p><a href="/intro-to-nltk-part-2/">Intro to NTLK, Part 2</a></p>
<p><a href="/build-a-sentiment-analysis-app-with-movie-reviews/">Build a sentiment analysis program </a></p>
<p><span class="trail-end"><a href="/analysing-the-enron-email-corpus/">Analysing the Enron Email Corpus</a></span></p>
<p>So this is the first guided practice session I&#8217;m trying. The aim is, I&#8217;ll give you hints on how to complete the lessons, same as I give in practice sessions. But I&#8217;ll also give you the solution in the next video.</p>
<p>You can only look at the solution videos if you want, but I recommend trying to solve the problem yourself first. If you have completed all the pre-requisites, the challenges should be easy.</p>
<p>The repo is <a href="https://github.com/shantnu/Enron-Spam">here</a>. <em>Enron Spam Practice.ipynb</em> is the file you will be working in, whileÂ <em>Enron Spam Solution.ipynb</em> contains the solutions.</p>
<h2>Challenge 1: Print all the directories and files</h2>
<p><iframe width="800" height="450" src="https://player.vimeo.com/video/151804607?title=0&amp;byline=0&amp;portrait=0" frameborder="0" webkitallowfullscreen="webkitallowfullscreen" mozallowfullscreen="mozallowfullscreen" allowfullscreen="allowfullscreen"></iframe></p>
<p>The first video introduces the Enron Spam dataset. Get it from here: <a href="http://www.aueb.gr/users/ion/data/enron-spam/">http://www.aueb.gr/users/ion/data/enron-spam/</a></p>
<p>Extract all into a folder called <em>Enron Spam</em>. You will need 7zip if you are on Windows. Spend some time studying how the emails are laid out. All the spam emails are in a folder called <em>spam</em>, while non-spam are in <em>ham</em>.</p>
<p>The first challenge is simply to print all the directories, sub directories and files in the folder. This should be quite simple, as it&#8217;s the first thing we did in the Enron example.</p>
<h2>Solution 1</h2>
<p><iframe width="800" height="450" src="https://player.vimeo.com/video/151804596?title=0&amp;byline=0&amp;portrait=0" frameborder="0" webkitallowfullscreen="webkitallowfullscreen" mozallowfullscreen="mozallowfullscreen" allowfullscreen="allowfullscreen"></iframe></p>
<p>The solution is quite simple.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bcf831bd7066847902800" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
rootdir = "C:\\Users\\Shantnu\\Desktop\\Data Sources\\Enron Spam"

for directories, subdirs, files in os.walk(rootdir):
    print(directories, subdirs, len(files))

C:\Users\Shantnu\Desktop\Data Sources\Enron Spam ['enron1', 'enron2', 'enron3', 'enron4', 'enron5', 'enron6'] 0
C:\Users\Shantnu\Desktop\Data Sources\Enron Spam\enron1 ['ham', 'spam'] 1
C:\Users\Shantnu\Desktop\Data Sources\Enron Spam\enron1\ham [] 3672
C:\Users\Shantnu\Desktop\Data Sources\Enron Spam\enron1\spam [] 1500
C:\Users\Shantnu\Desktop\Data Sources\Enron Spam\enron2 ['ham', 'spam'] 1

..... snipped ....</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bcf831bd7066847902800-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd7066847902800-2">2</div><div class="crayon-num" data-line="crayon-5bcf831bd7066847902800-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd7066847902800-4">4</div><div class="crayon-num" data-line="crayon-5bcf831bd7066847902800-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd7066847902800-6">6</div><div class="crayon-num" data-line="crayon-5bcf831bd7066847902800-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd7066847902800-8">8</div><div class="crayon-num" data-line="crayon-5bcf831bd7066847902800-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd7066847902800-10">10</div><div class="crayon-num" data-line="crayon-5bcf831bd7066847902800-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd7066847902800-12">12</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bcf831bd7066847902800-1"><span class="crayon-v">rootdir</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"C:\\Users\\Shantnu\\Desktop\\Data Sources\\Enron Spam"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd7066847902800-2">&nbsp;</div><div class="crayon-line" id="crayon-5bcf831bd7066847902800-3"><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-v">directories</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">subdirs</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">files </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-e">walk</span><span class="crayon-sy">(</span><span class="crayon-v">rootdir</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd7066847902800-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-v">directories</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">subdirs</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">len</span><span class="crayon-sy">(</span><span class="crayon-v">files</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bcf831bd7066847902800-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd7066847902800-6"><span class="crayon-v">C</span><span class="crayon-o">:</span><span class="crayon-sy">\</span><span class="crayon-v">Users</span><span class="crayon-sy">\</span><span class="crayon-v">Shantnu</span><span class="crayon-sy">\</span><span class="crayon-v">Desktop</span><span class="crayon-sy">\</span><span class="crayon-e">Data </span><span class="crayon-v">Sources</span><span class="crayon-sy">\</span><span class="crayon-e">Enron </span><span class="crayon-i">Spam</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'enron1'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'enron2'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'enron3'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'enron4'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'enron5'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'enron6'</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-cn">0</span></div><div class="crayon-line" id="crayon-5bcf831bd7066847902800-7"><span class="crayon-v">C</span><span class="crayon-o">:</span><span class="crayon-sy">\</span><span class="crayon-v">Users</span><span class="crayon-sy">\</span><span class="crayon-v">Shantnu</span><span class="crayon-sy">\</span><span class="crayon-v">Desktop</span><span class="crayon-sy">\</span><span class="crayon-e">Data </span><span class="crayon-v">Sources</span><span class="crayon-sy">\</span><span class="crayon-e">Enron </span><span class="crayon-v">Spam</span><span class="crayon-sy">\</span><span class="crayon-i">enron1</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'ham'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'spam'</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd7066847902800-8"><span class="crayon-v">C</span><span class="crayon-o">:</span><span class="crayon-sy">\</span><span class="crayon-v">Users</span><span class="crayon-sy">\</span><span class="crayon-v">Shantnu</span><span class="crayon-sy">\</span><span class="crayon-v">Desktop</span><span class="crayon-sy">\</span><span class="crayon-e">Data </span><span class="crayon-v">Sources</span><span class="crayon-sy">\</span><span class="crayon-e">Enron </span><span class="crayon-v">Spam</span><span class="crayon-sy">\</span><span class="crayon-v">enron1</span><span class="crayon-sy">\</span><span class="crayon-i">ham</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-cn">3672</span></div><div class="crayon-line" id="crayon-5bcf831bd7066847902800-9"><span class="crayon-v">C</span><span class="crayon-o">:</span><span class="crayon-sy">\</span><span class="crayon-v">Users</span><span class="crayon-sy">\</span><span class="crayon-v">Shantnu</span><span class="crayon-sy">\</span><span class="crayon-v">Desktop</span><span class="crayon-sy">\</span><span class="crayon-e">Data </span><span class="crayon-v">Sources</span><span class="crayon-sy">\</span><span class="crayon-e">Enron </span><span class="crayon-v">Spam</span><span class="crayon-sy">\</span><span class="crayon-v">enron1</span><span class="crayon-sy">\</span><span class="crayon-i">spam</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-cn">1500</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd7066847902800-10"><span class="crayon-v">C</span><span class="crayon-o">:</span><span class="crayon-sy">\</span><span class="crayon-v">Users</span><span class="crayon-sy">\</span><span class="crayon-v">Shantnu</span><span class="crayon-sy">\</span><span class="crayon-v">Desktop</span><span class="crayon-sy">\</span><span class="crayon-e">Data </span><span class="crayon-v">Sources</span><span class="crayon-sy">\</span><span class="crayon-e">Enron </span><span class="crayon-v">Spam</span><span class="crayon-sy">\</span><span class="crayon-i">enron2</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'ham'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'spam'</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line" id="crayon-5bcf831bd7066847902800-11">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd7066847902800-12"><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-i">snipped</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0023 seconds] -->
<p></p>
<h2>Challenge 2 Print only files in the Ham and Spam folder</h2>
<p>The video for this has been mixed with the last solutions video (from 3:55 onwards).</p>
<p>The challenge is: Instead of printing all files and folders, only print the files when we are in the <em>ham</em> or <em>spam</em> folder.</p>
<p>I give you a hint. The <em>os.path.split()</em> canÂ  be used to find out which directory you are in. Like so:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bcf831bd7074659175192" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
print(os.path.split("C:\\Users\\Shantnu\\Desktop\\Data Sources\\Enron Spam\\enron1\\ham"))
print(os.path.split("C:\\Users\\Shantnu\\Desktop\\Data Sources\\Enron Spam\\enron1\\ham")[0])
print(os.path.split("C:\\Users\\Shantnu\\Desktop\\Data Sources\\Enron Spam\\enron1\\ham")[1])

('C:\\Users\\Shantnu\\Desktop\\Data Sources\\Enron Spam\\enron1', 'ham')
C:\Users\Shantnu\Desktop\Data Sources\Enron Spam\enron1
ham</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bcf831bd7074659175192-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd7074659175192-2">2</div><div class="crayon-num" data-line="crayon-5bcf831bd7074659175192-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd7074659175192-4">4</div><div class="crayon-num" data-line="crayon-5bcf831bd7074659175192-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd7074659175192-6">6</div><div class="crayon-num" data-line="crayon-5bcf831bd7074659175192-7">7</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bcf831bd7074659175192-1"><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">split</span><span class="crayon-sy">(</span><span class="crayon-s">"C:\\Users\\Shantnu\\Desktop\\Data Sources\\Enron Spam\\enron1\\ham"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd7074659175192-2"><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">split</span><span class="crayon-sy">(</span><span class="crayon-s">"C:\\Users\\Shantnu\\Desktop\\Data Sources\\Enron Spam\\enron1\\ham"</span><span class="crayon-sy">)</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bcf831bd7074659175192-3"><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">split</span><span class="crayon-sy">(</span><span class="crayon-s">"C:\\Users\\Shantnu\\Desktop\\Data Sources\\Enron Spam\\enron1\\ham"</span><span class="crayon-sy">)</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd7074659175192-4">&nbsp;</div><div class="crayon-line" id="crayon-5bcf831bd7074659175192-5"><span class="crayon-sy">(</span><span class="crayon-s">'C:\\Users\\Shantnu\\Desktop\\Data Sources\\Enron Spam\\enron1'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'ham'</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd7074659175192-6"><span class="crayon-v">C</span><span class="crayon-o">:</span><span class="crayon-sy">\</span><span class="crayon-v">Users</span><span class="crayon-sy">\</span><span class="crayon-v">Shantnu</span><span class="crayon-sy">\</span><span class="crayon-v">Desktop</span><span class="crayon-sy">\</span><span class="crayon-e">Data </span><span class="crayon-v">Sources</span><span class="crayon-sy">\</span><span class="crayon-e">Enron </span><span class="crayon-v">Spam</span><span class="crayon-sy">\</span><span class="crayon-e">enron1</span></div><div class="crayon-line" id="crayon-5bcf831bd7074659175192-7"><span class="crayon-v">ham</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0008 seconds] -->
<p></p>
<p>The third example above shows you how to detect you are in the <em>ham</em> folder.</p>
<h2>Solution 2</h2>
<p><iframe width="800" height="450" src="https://player.vimeo.com/video/151804595?title=0&amp;byline=0&amp;portrait=0" frameborder="0" webkitallowfullscreen="webkitallowfullscreen" mozallowfullscreen="mozallowfullscreen" allowfullscreen="allowfullscreen"></iframe></p>
<p>We take the code we had before and modify it, so that we are checking if we are in the <em>ham</em> or <em>spam</em> folder.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bcf831bd7078876552343" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
# Same as before, but only print the ham and spam folders
for directories, subdirs, files in os.walk(rootdir):
    if (os.path.split(directories)[1]  == 'ham'):
        print(directories, subdirs, len(files))
    
    if (os.path.split(directories)[1]  == 'spam'):
        print(directories, subdirs, len(files))

directories, subdirs, len(files))

C:\Users\Shantnu\Desktop\Data Sources\Enron Spam\enron1\ham [] 3672
C:\Users\Shantnu\Desktop\Data Sources\Enron Spam\enron1\spam [] 1500
C:\Users\Shantnu\Desktop\Data Sources\Enron Spam\enron2\ham [] 4361
C:\Users\Shantnu\Desktop\Data Sources\Enron Spam\enron2\spam [] 1496

... snipped ...</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bcf831bd7078876552343-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd7078876552343-2">2</div><div class="crayon-num" data-line="crayon-5bcf831bd7078876552343-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd7078876552343-4">4</div><div class="crayon-num" data-line="crayon-5bcf831bd7078876552343-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd7078876552343-6">6</div><div class="crayon-num" data-line="crayon-5bcf831bd7078876552343-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd7078876552343-8">8</div><div class="crayon-num" data-line="crayon-5bcf831bd7078876552343-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd7078876552343-10">10</div><div class="crayon-num" data-line="crayon-5bcf831bd7078876552343-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd7078876552343-12">12</div><div class="crayon-num" data-line="crayon-5bcf831bd7078876552343-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd7078876552343-14">14</div><div class="crayon-num" data-line="crayon-5bcf831bd7078876552343-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd7078876552343-16">16</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bcf831bd7078876552343-1"><span class="crayon-p"># Same as before, but only print the ham and spam folders</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd7078876552343-2"><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-v">directories</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">subdirs</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">files </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-e">walk</span><span class="crayon-sy">(</span><span class="crayon-v">rootdir</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5bcf831bd7078876552343-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">split</span><span class="crayon-sy">(</span><span class="crayon-v">directories</span><span class="crayon-sy">)</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'ham'</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd7078876552343-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-v">directories</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">subdirs</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">len</span><span class="crayon-sy">(</span><span class="crayon-v">files</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bcf831bd7078876552343-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd7078876552343-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">split</span><span class="crayon-sy">(</span><span class="crayon-v">directories</span><span class="crayon-sy">)</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'spam'</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5bcf831bd7078876552343-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-v">directories</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">subdirs</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">len</span><span class="crayon-sy">(</span><span class="crayon-v">files</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd7078876552343-8">&nbsp;</div><div class="crayon-line" id="crayon-5bcf831bd7078876552343-9"><span class="crayon-v">directories</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">subdirs</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">len</span><span class="crayon-sy">(</span><span class="crayon-v">files</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd7078876552343-10">&nbsp;</div><div class="crayon-line" id="crayon-5bcf831bd7078876552343-11"><span class="crayon-v">C</span><span class="crayon-o">:</span><span class="crayon-sy">\</span><span class="crayon-v">Users</span><span class="crayon-sy">\</span><span class="crayon-v">Shantnu</span><span class="crayon-sy">\</span><span class="crayon-v">Desktop</span><span class="crayon-sy">\</span><span class="crayon-e">Data </span><span class="crayon-v">Sources</span><span class="crayon-sy">\</span><span class="crayon-e">Enron </span><span class="crayon-v">Spam</span><span class="crayon-sy">\</span><span class="crayon-v">enron1</span><span class="crayon-sy">\</span><span class="crayon-i">ham</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-cn">3672</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd7078876552343-12"><span class="crayon-v">C</span><span class="crayon-o">:</span><span class="crayon-sy">\</span><span class="crayon-v">Users</span><span class="crayon-sy">\</span><span class="crayon-v">Shantnu</span><span class="crayon-sy">\</span><span class="crayon-v">Desktop</span><span class="crayon-sy">\</span><span class="crayon-e">Data </span><span class="crayon-v">Sources</span><span class="crayon-sy">\</span><span class="crayon-e">Enron </span><span class="crayon-v">Spam</span><span class="crayon-sy">\</span><span class="crayon-v">enron1</span><span class="crayon-sy">\</span><span class="crayon-i">spam</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-cn">1500</span></div><div class="crayon-line" id="crayon-5bcf831bd7078876552343-13"><span class="crayon-v">C</span><span class="crayon-o">:</span><span class="crayon-sy">\</span><span class="crayon-v">Users</span><span class="crayon-sy">\</span><span class="crayon-v">Shantnu</span><span class="crayon-sy">\</span><span class="crayon-v">Desktop</span><span class="crayon-sy">\</span><span class="crayon-e">Data </span><span class="crayon-v">Sources</span><span class="crayon-sy">\</span><span class="crayon-e">Enron </span><span class="crayon-v">Spam</span><span class="crayon-sy">\</span><span class="crayon-v">enron2</span><span class="crayon-sy">\</span><span class="crayon-i">ham</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-cn">4361</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd7078876552343-14"><span class="crayon-v">C</span><span class="crayon-o">:</span><span class="crayon-sy">\</span><span class="crayon-v">Users</span><span class="crayon-sy">\</span><span class="crayon-v">Shantnu</span><span class="crayon-sy">\</span><span class="crayon-v">Desktop</span><span class="crayon-sy">\</span><span class="crayon-e">Data </span><span class="crayon-v">Sources</span><span class="crayon-sy">\</span><span class="crayon-e">Enron </span><span class="crayon-v">Spam</span><span class="crayon-sy">\</span><span class="crayon-v">enron2</span><span class="crayon-sy">\</span><span class="crayon-i">spam</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-cn">1496</span></div><div class="crayon-line" id="crayon-5bcf831bd7078876552343-15">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd7078876552343-16"><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-i">snipped</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0044 seconds] -->
<p></p>
<p>The key part is this:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bcf831bd707c190795128" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
 if (os.path.split(directories)[1]  == 'ham'):
        print(directories, subdirs, len(files))</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bcf831bd707c190795128-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd707c190795128-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bcf831bd707c190795128-1"><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">split</span><span class="crayon-sy">(</span><span class="crayon-v">directories</span><span class="crayon-sy">)</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'ham'</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd707c190795128-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-v">directories</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">subdirs</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">len</span><span class="crayon-sy">(</span><span class="crayon-v">files</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0009 seconds] -->
<p></p>
<p>This is where we are checking if we are in the right folder.</p>
<p>Why does it matter?</p>
<p>Because when we start reading the files, we want to make sure we are only reading them from the <em>spam</em> and <em>ham</em> folders.</p>
<h2>Challenge 3: Read all the files in the Ham and Spam folders</h2>
<p><iframe width="800" height="450" src="https://player.vimeo.com/video/151804597?title=0&amp;byline=0&amp;portrait=0" frameborder="0" webkitallowfullscreen="webkitallowfullscreen" mozallowfullscreen="mozallowfullscreen" allowfullscreen="allowfullscreen"></iframe></p>
<p>Now that you can print the files in the spam and ham folders, it&#8217;s time to go ahead and read all the files in those folders.</p>
<p>I&#8217;ve given you some code to start off:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bcf831bd7081290050990" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
ham_list = []
spam_list = []

# Same as before, but this time, read the files, and append them to the ham and spam list

# You WILL get a Unicode error for the spam part- either Google it, or look at my solution

print(ham_list[0])
print(spam_list[0])</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bcf831bd7081290050990-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd7081290050990-2">2</div><div class="crayon-num" data-line="crayon-5bcf831bd7081290050990-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd7081290050990-4">4</div><div class="crayon-num" data-line="crayon-5bcf831bd7081290050990-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd7081290050990-6">6</div><div class="crayon-num" data-line="crayon-5bcf831bd7081290050990-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd7081290050990-8">8</div><div class="crayon-num" data-line="crayon-5bcf831bd7081290050990-9">9</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bcf831bd7081290050990-1"><span class="crayon-v">ham_list</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd7081290050990-2"><span class="crayon-v">spam_list</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5bcf831bd7081290050990-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd7081290050990-4"><span class="crayon-p"># Same as before, but this time, read the files, and append them to the ham and spam list</span></div><div class="crayon-line" id="crayon-5bcf831bd7081290050990-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd7081290050990-6"><span class="crayon-p"># You WILL get a Unicode error for the spam part- either Google it, or look at my solution</span></div><div class="crayon-line" id="crayon-5bcf831bd7081290050990-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd7081290050990-8"><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-v">ham_list</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bcf831bd7081290050990-9"><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-v">spam_list</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0009 seconds] -->
<p></p>
<p>There is a ham_list and spam_list, and you have to store the content of the files in these lists.</p>
<p>I give you a warning: The spam files <strong>will</strong> throw you a <em>Unicode</em> error when you try to read them. You can either Google for the solution, or look at mine. A hint is: It&#8217;s a unicode problem (duh) which will only be seen on Python 3, not 2.</p>
<p>But I still recommend you give the challenge a try. Feel free to comment out the <em>spam</em> part of the code, as the two parts are similar anyway.</p>
<h2>Solution 3</h2>
<p><iframe width="800" height="450" src="https://player.vimeo.com/video/151804602?title=0&amp;byline=0&amp;portrait=0" frameborder="0" webkitallowfullscreen="webkitallowfullscreen" mozallowfullscreen="mozallowfullscreen" allowfullscreen="allowfullscreen"></iframe></p>
<p>Let&#8217;s look at the code in parts. First, the code to read the ham files:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bcf831bd7084403516521" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
for directories, subdirs, files in os.walk(rootdir):
    if (os.path.split(directories)[1]  == 'ham'):
        for filename in files:      
            with open(os.path.join(directories, filename)) as f:
                data = f.read()
                ham_list.append(data)</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bcf831bd7084403516521-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd7084403516521-2">2</div><div class="crayon-num" data-line="crayon-5bcf831bd7084403516521-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd7084403516521-4">4</div><div class="crayon-num" data-line="crayon-5bcf831bd7084403516521-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd7084403516521-6">6</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bcf831bd7084403516521-1"><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-v">directories</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">subdirs</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">files </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-e">walk</span><span class="crayon-sy">(</span><span class="crayon-v">rootdir</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd7084403516521-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">split</span><span class="crayon-sy">(</span><span class="crayon-v">directories</span><span class="crayon-sy">)</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'ham'</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5bcf831bd7084403516521-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">filename </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">files</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd7084403516521-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">with </span><span class="crayon-e">open</span><span class="crayon-sy">(</span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">join</span><span class="crayon-sy">(</span><span class="crayon-v">directories</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">filename</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">as</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5bcf831bd7084403516521-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">data</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-e">read</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd7084403516521-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">ham_list</span><span class="crayon-sy">.</span><span class="crayon-e">append</span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0017 seconds] -->
<p></p>
<p>It&#8217;s the same as before, except this part is new:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bcf831bd7087674015882" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
        for filename in files:      
            with open(os.path.join(directories, filename)) as f:
                data = f.read()
                ham_list.append(data)</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bcf831bd7087674015882-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd7087674015882-2">2</div><div class="crayon-num" data-line="crayon-5bcf831bd7087674015882-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd7087674015882-4">4</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bcf831bd7087674015882-1"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">filename </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">files</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd7087674015882-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">with </span><span class="crayon-e">open</span><span class="crayon-sy">(</span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">join</span><span class="crayon-sy">(</span><span class="crayon-v">directories</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">filename</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">as</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5bcf831bd7087674015882-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">data</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-e">read</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd7087674015882-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">ham_list</span><span class="crayon-sy">.</span><span class="crayon-e">append</span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0010 seconds] -->
<p></p>
<p>We loop over all the files, open each, read the text and append it to the ham_list. And we do the same for the spam list.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bcf831bd708a664323738" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
    if (os.path.split(directories)[1]  == 'spam'):
        for filename in files:
            with open(os.path.join(directories, filename)) as f:
                data = f.read()
                spam_list.append(data)</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bcf831bd708a664323738-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd708a664323738-2">2</div><div class="crayon-num" data-line="crayon-5bcf831bd708a664323738-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd708a664323738-4">4</div><div class="crayon-num" data-line="crayon-5bcf831bd708a664323738-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bcf831bd708a664323738-1"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">split</span><span class="crayon-sy">(</span><span class="crayon-v">directories</span><span class="crayon-sy">)</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'spam'</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd708a664323738-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">filename </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">files</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5bcf831bd708a664323738-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">with </span><span class="crayon-e">open</span><span class="crayon-sy">(</span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">join</span><span class="crayon-sy">(</span><span class="crayon-v">directories</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">filename</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">as</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd708a664323738-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">data</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-e">read</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bcf831bd708a664323738-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">spam_list</span><span class="crayon-sy">.</span><span class="crayon-e">append</span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0010 seconds] -->
<p></p>
<p>Run the code, and you will see the Unicode error. Why is that?</p>
<p>By putting in some extra debug, I found a few of the files throwing errors. One is the <em>2248.2004-09-23.GP.spam.txt</em> in the Enron1/spam folder. Open this in a text editor:</p>
<p><a href="/wp-content/uploads/2016/01/enronspam1.png" rel="attachment wp-att-2126"><img src="/wp-content/uploads/2016/01/enronspam1.png" alt="enronspam1" class="aligncenter size-full wp-image-2126" height="222" width="1301" srcset="/wp-content/uploads/2016/01/enronspam1.png 1301w, /wp-content/uploads/2016/01/enronspam1-300x51.png 300w, /wp-content/uploads/2016/01/enronspam1-768x131.png 768w, /wp-content/uploads/2016/01/enronspam1-1024x175.png 1024w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px" /></a></p>
<p>You will note the file has special characters in it. This means it&#8217;s not a pure text (which is not that surprising, as it is spam).</p>
<p>Python 2 would allow you to get away with this. Python 3 won&#8217;t.</p>
<p>The way around this is to specify the encoding. Here&#8217;s a page with some details: <a href="http://python-notes.curiousefficiency.org/en/latest/python3/text_file_processing.html">http://python-notes.curiousefficiency.org/en/latest/python3/text_file_processing.html</a></p>
<p>The link explains the unicode error you get. It also tells you you have to specify the encoding. There are several options, but the simplest one is <em>latin-1</em>. This is closest to what Python 2 did.</p>
<p>The <em>latin-1</em> encoding means Python will try its best to decode the text without throwing an error. The downside is, the data might be corrupted. However, this is spam, so we expect bad data. Also, we&#8217;ll have millions of words in the spam list, and even if 1-2 are corrupt, we can live with that.</p>
<p>So the way to stop Python throwing an error is to change this line to add an encoding:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bcf831bd708d530302696" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
with open(os.path.join(directories, filename), encoding="latin-1") as f:</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bcf831bd708d530302696-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bcf831bd708d530302696-1"><span class="crayon-e">with </span><span class="crayon-e">open</span><span class="crayon-sy">(</span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">join</span><span class="crayon-sy">(</span><span class="crayon-v">directories</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">filename</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">encoding</span><span class="crayon-o">=</span><span class="crayon-s">"latin-1"</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">as</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-o">:</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p></p>
<p>The code now works.</p>
<h2>Challenge 4 Prepare our data for the Naive Bayes filter</h2>
<p><iframe width="800" height="450" src="https://player.vimeo.com/video/151804598?title=0&amp;byline=0&amp;portrait=0" frameborder="0" webkitallowfullscreen="webkitallowfullscreen" mozallowfullscreen="mozallowfullscreen" allowfullscreen="allowfullscreen"></iframe></p>
<p>We will be using the Naive Bayes for our spam filter. If you have done the Nltk lessons, you know it expects the input in a particular format. That&#8217;s the goal of this challenge. I give you a few hints:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bcf831bd7092704974203" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
# Write a function , that when passed in words, will return a dictionary of the form

# {Word1: True, Word2: True, Words3: True}

# Removing stop words is optional

def create_word_features(words):
    pass</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bcf831bd7092704974203-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd7092704974203-2">2</div><div class="crayon-num" data-line="crayon-5bcf831bd7092704974203-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd7092704974203-4">4</div><div class="crayon-num" data-line="crayon-5bcf831bd7092704974203-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd7092704974203-6">6</div><div class="crayon-num" data-line="crayon-5bcf831bd7092704974203-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd7092704974203-8">8</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bcf831bd7092704974203-1"><span class="crayon-p"># Write a function , that when passed in words, will return a dictionary of the form</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd7092704974203-2">&nbsp;</div><div class="crayon-line" id="crayon-5bcf831bd7092704974203-3"><span class="crayon-p"># {Word1: True, Word2: True, Words3: True}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd7092704974203-4">&nbsp;</div><div class="crayon-line" id="crayon-5bcf831bd7092704974203-5"><span class="crayon-p"># Removing stop words is optional</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd7092704974203-6">&nbsp;</div><div class="crayon-line" id="crayon-5bcf831bd7092704974203-7"><span class="crayon-e">def </span><span class="crayon-e">create_word_features</span><span class="crayon-sy">(</span><span class="crayon-v">words</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd7092704974203-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pass</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p></p>
<p>So the first thing is to write a <em>create_word_features()</em> function. The second is to use this (with word tokenize):</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bcf831bd7095728864258" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
ham_list = []
spam_list = []

# Same as before, but this time:

# 1. Break the sentences into words using word_tokenize
# 2. Use the create_word_features() function you just wrote

print(ham_list[0])
print(spam_list[0])</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bcf831bd7095728864258-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd7095728864258-2">2</div><div class="crayon-num" data-line="crayon-5bcf831bd7095728864258-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd7095728864258-4">4</div><div class="crayon-num" data-line="crayon-5bcf831bd7095728864258-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd7095728864258-6">6</div><div class="crayon-num" data-line="crayon-5bcf831bd7095728864258-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd7095728864258-8">8</div><div class="crayon-num" data-line="crayon-5bcf831bd7095728864258-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd7095728864258-10">10</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bcf831bd7095728864258-1"><span class="crayon-v">ham_list</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd7095728864258-2"><span class="crayon-v">spam_list</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5bcf831bd7095728864258-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd7095728864258-4"><span class="crayon-p"># Same as before, but this time:</span></div><div class="crayon-line" id="crayon-5bcf831bd7095728864258-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd7095728864258-6"><span class="crayon-p"># 1. Break the sentences into words using word_tokenize</span></div><div class="crayon-line" id="crayon-5bcf831bd7095728864258-7"><span class="crayon-p"># 2. Use the create_word_features() function you just wrote</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd7095728864258-8">&nbsp;</div><div class="crayon-line" id="crayon-5bcf831bd7095728864258-9"><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-v">ham_list</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd7095728864258-10"><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-v">spam_list</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0006 seconds] -->
<p></p>
<h2>Solution 4</h2>
<p><iframe width="800" height="450" src="https://player.vimeo.com/video/151804743?title=0&amp;byline=0&amp;portrait=0" frameborder="0" webkitallowfullscreen="webkitallowfullscreen" mozallowfullscreen="mozallowfullscreen" allowfullscreen="allowfullscreen"></iframe></p>
<p>Since this stuff has been covered in the Ntlk tutorial, I will zip through it a bit.</p>
<p>First, the <em>create_word_features()</em>Â  function:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bcf831bd7098428814667" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
def create_word_features(words):
    my_dict = dict( [ (word, True) for word in words] )
    return my_dict

create_word_features(["the", "quick", "brown", "quick", "a", "fox"])

{'a': True, 'brown': True, 'fox': True, 'quick': True, 'the': True}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bcf831bd7098428814667-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd7098428814667-2">2</div><div class="crayon-num" data-line="crayon-5bcf831bd7098428814667-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd7098428814667-4">4</div><div class="crayon-num" data-line="crayon-5bcf831bd7098428814667-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd7098428814667-6">6</div><div class="crayon-num" data-line="crayon-5bcf831bd7098428814667-7">7</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bcf831bd7098428814667-1"><span class="crayon-e">def </span><span class="crayon-e">create_word_features</span><span class="crayon-sy">(</span><span class="crayon-v">words</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd7098428814667-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">my_dict</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">dict</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">word</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-t">word</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">words</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bcf831bd7098428814667-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">my_dict</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd7098428814667-4">&nbsp;</div><div class="crayon-line" id="crayon-5bcf831bd7098428814667-5"><span class="crayon-e">create_word_features</span><span class="crayon-sy">(</span><span class="crayon-sy">[</span><span class="crayon-s">"the"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"quick"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"brown"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"quick"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"a"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"fox"</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd7098428814667-6">&nbsp;</div><div class="crayon-line" id="crayon-5bcf831bd7098428814667-7"><span class="crayon-sy">{</span><span class="crayon-s">'a'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'brown'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'fox'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'quick'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'the'</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0013 seconds] -->
<p></p>
<p>We are just creating a dictionary that returns True for each word. I&#8217;m not removing stop words for this example.</p>
<p>Next, we use our function. I&#8217;m going to be working with the code from the previous example. This is what we did last time:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bcf831bd709b746227810" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
for directories, subdirs, files in os.walk(rootdir):
    if (os.path.split(directories)[1]  == 'ham'):
        for filename in files:      
            with open(os.path.join(directories, filename)) as f:
                data = f.read()
                ham_list.append(data)</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bcf831bd709b746227810-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd709b746227810-2">2</div><div class="crayon-num" data-line="crayon-5bcf831bd709b746227810-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd709b746227810-4">4</div><div class="crayon-num" data-line="crayon-5bcf831bd709b746227810-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd709b746227810-6">6</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bcf831bd709b746227810-1"><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-v">directories</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">subdirs</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">files </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-e">walk</span><span class="crayon-sy">(</span><span class="crayon-v">rootdir</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd709b746227810-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">split</span><span class="crayon-sy">(</span><span class="crayon-v">directories</span><span class="crayon-sy">)</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'ham'</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5bcf831bd709b746227810-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">filename </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">files</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd709b746227810-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">with </span><span class="crayon-e">open</span><span class="crayon-sy">(</span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">join</span><span class="crayon-sy">(</span><span class="crayon-v">directories</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">filename</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">as</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5bcf831bd709b746227810-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">data</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-e">read</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd709b746227810-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">ham_list</span><span class="crayon-sy">.</span><span class="crayon-e">append</span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0011 seconds] -->
<p></p>
<p>We were reading the data and appending it to ham_list. This will now change to:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bcf831bd709e580852525" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
with open(os.path.join(directories, filename), encoding="latin-1") as f:
                data = f.read()
                
                # The data we read is one big string. We need to break it into words.
                words = word_tokenize(data)
                
                ham_list.append((create_word_features(words), "ham"))</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bcf831bd709e580852525-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd709e580852525-2">2</div><div class="crayon-num" data-line="crayon-5bcf831bd709e580852525-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd709e580852525-4">4</div><div class="crayon-num" data-line="crayon-5bcf831bd709e580852525-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd709e580852525-6">6</div><div class="crayon-num" data-line="crayon-5bcf831bd709e580852525-7">7</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bcf831bd709e580852525-1"><span class="crayon-e">with </span><span class="crayon-e">open</span><span class="crayon-sy">(</span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">join</span><span class="crayon-sy">(</span><span class="crayon-v">directories</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">filename</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">encoding</span><span class="crayon-o">=</span><span class="crayon-s">"latin-1"</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">as</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd709e580852525-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">data</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-e">read</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bcf831bd709e580852525-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd709e580852525-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p"># The data we read is one big string. We need to break it into words.</span></div><div class="crayon-line" id="crayon-5bcf831bd709e580852525-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">words</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">word_tokenize</span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd709e580852525-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-5bcf831bd709e580852525-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">ham_list</span><span class="crayon-sy">.</span><span class="crayon-e">append</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-e">create_word_features</span><span class="crayon-sy">(</span><span class="crayon-v">words</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"ham"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0009 seconds] -->
<p></p>
<p>So we break the text into words with:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bcf831bd70a1083256897" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
# The data we read is one big string. We need to break it into words.
                words = word_tokenize(data)</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bcf831bd70a1083256897-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70a1083256897-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bcf831bd70a1083256897-1"><span class="crayon-p"># The data we read is one big string. We need to break it into words.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70a1083256897-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">words</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">word_tokenize</span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p></p>
<p>And then we call the function we wrote:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bcf831bd70a5576617582" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
 ham_list.append((create_word_features(words), "ham"))</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bcf831bd70a5576617582-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bcf831bd70a5576617582-1"><span class="crayon-h"> </span><span class="crayon-v">ham_list</span><span class="crayon-sy">.</span><span class="crayon-e">append</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-e">create_word_features</span><span class="crayon-sy">(</span><span class="crayon-v">words</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"ham"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p></p>
<p>We are appending a <em>&#8220;ham&#8221;</em> at the end. This is to tell the machine learning algorithm that this text is of type <em>ham</em>. The actual word doesn&#8217;t matter, as long as it&#8217;s consistent.</p>
<p>We will do the same for the spam list, so the final code looks like:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bcf831bd70a8867506144" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
ham_list = []
spam_list = []

# Same as before, but this time:

# 1. Break the sentences into words using word_tokenize
# 2. Use the create_word_features() function you just wrote
for directories, subdirs, files in os.walk(rootdir):
    if (os.path.split(directories)[1]  == 'ham'):
        for filename in files:      
            with open(os.path.join(directories, filename), encoding="latin-1") as f:
                data = f.read()
                
                # The data we read is one big string. We need to break it into words.
                words = word_tokenize(data)
                
                ham_list.append((create_word_features(words), "ham"))
    
    if (os.path.split(directories)[1]  == 'spam'):
        for filename in files:
            with open(os.path.join(directories, filename), encoding="latin-1") as f:
                data = f.read()
                
                # The data we read is one big string. We need to break it into words.
                words = word_tokenize(data)
                
                spam_list.append((create_word_features(words), "spam"))
print(ham_list[0])
print(spam_list[0])</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bcf831bd70a8867506144-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70a8867506144-2">2</div><div class="crayon-num" data-line="crayon-5bcf831bd70a8867506144-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70a8867506144-4">4</div><div class="crayon-num" data-line="crayon-5bcf831bd70a8867506144-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70a8867506144-6">6</div><div class="crayon-num" data-line="crayon-5bcf831bd70a8867506144-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70a8867506144-8">8</div><div class="crayon-num" data-line="crayon-5bcf831bd70a8867506144-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70a8867506144-10">10</div><div class="crayon-num" data-line="crayon-5bcf831bd70a8867506144-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70a8867506144-12">12</div><div class="crayon-num" data-line="crayon-5bcf831bd70a8867506144-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70a8867506144-14">14</div><div class="crayon-num" data-line="crayon-5bcf831bd70a8867506144-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70a8867506144-16">16</div><div class="crayon-num" data-line="crayon-5bcf831bd70a8867506144-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70a8867506144-18">18</div><div class="crayon-num" data-line="crayon-5bcf831bd70a8867506144-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70a8867506144-20">20</div><div class="crayon-num" data-line="crayon-5bcf831bd70a8867506144-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70a8867506144-22">22</div><div class="crayon-num" data-line="crayon-5bcf831bd70a8867506144-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70a8867506144-24">24</div><div class="crayon-num" data-line="crayon-5bcf831bd70a8867506144-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70a8867506144-26">26</div><div class="crayon-num" data-line="crayon-5bcf831bd70a8867506144-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70a8867506144-28">28</div><div class="crayon-num" data-line="crayon-5bcf831bd70a8867506144-29">29</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bcf831bd70a8867506144-1"><span class="crayon-v">ham_list</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70a8867506144-2"><span class="crayon-v">spam_list</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5bcf831bd70a8867506144-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70a8867506144-4"><span class="crayon-p"># Same as before, but this time:</span></div><div class="crayon-line" id="crayon-5bcf831bd70a8867506144-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70a8867506144-6"><span class="crayon-p"># 1. Break the sentences into words using word_tokenize</span></div><div class="crayon-line" id="crayon-5bcf831bd70a8867506144-7"><span class="crayon-p"># 2. Use the create_word_features() function you just wrote</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70a8867506144-8"><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-v">directories</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">subdirs</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">files </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-e">walk</span><span class="crayon-sy">(</span><span class="crayon-v">rootdir</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5bcf831bd70a8867506144-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">split</span><span class="crayon-sy">(</span><span class="crayon-v">directories</span><span class="crayon-sy">)</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'ham'</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70a8867506144-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">filename </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">files</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-5bcf831bd70a8867506144-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">with </span><span class="crayon-e">open</span><span class="crayon-sy">(</span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">join</span><span class="crayon-sy">(</span><span class="crayon-v">directories</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">filename</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">encoding</span><span class="crayon-o">=</span><span class="crayon-s">"latin-1"</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">as</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70a8867506144-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">data</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-e">read</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bcf831bd70a8867506144-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70a8867506144-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p"># The data we read is one big string. We need to break it into words.</span></div><div class="crayon-line" id="crayon-5bcf831bd70a8867506144-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">words</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">word_tokenize</span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70a8867506144-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-5bcf831bd70a8867506144-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">ham_list</span><span class="crayon-sy">.</span><span class="crayon-e">append</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-e">create_word_features</span><span class="crayon-sy">(</span><span class="crayon-v">words</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"ham"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70a8867506144-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-5bcf831bd70a8867506144-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">split</span><span class="crayon-sy">(</span><span class="crayon-v">directories</span><span class="crayon-sy">)</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'spam'</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70a8867506144-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">filename </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">files</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5bcf831bd70a8867506144-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">with </span><span class="crayon-e">open</span><span class="crayon-sy">(</span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">join</span><span class="crayon-sy">(</span><span class="crayon-v">directories</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">filename</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">encoding</span><span class="crayon-o">=</span><span class="crayon-s">"latin-1"</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">as</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70a8867506144-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">data</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-e">read</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bcf831bd70a8867506144-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70a8867506144-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p"># The data we read is one big string. We need to break it into words.</span></div><div class="crayon-line" id="crayon-5bcf831bd70a8867506144-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">words</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">word_tokenize</span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70a8867506144-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-5bcf831bd70a8867506144-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">spam_list</span><span class="crayon-sy">.</span><span class="crayon-e">append</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-e">create_word_features</span><span class="crayon-sy">(</span><span class="crayon-v">words</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"spam"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70a8867506144-28"><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-v">ham_list</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bcf831bd70a8867506144-29"><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-v">spam_list</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0033 seconds] -->
<p></p>
<p>This looks fairly complex, but since we built it in parts, it should be easy to follow.</p>
<h2>Challenge 5 Create the Test/Train data, call the Naive Bayes Filter</h2>
<p><iframe width="800" height="450" src="https://player.vimeo.com/video/151804599?title=0&amp;byline=0&amp;portrait=0" frameborder="0" webkitallowfullscreen="webkitallowfullscreen" mozallowfullscreen="mozallowfullscreen" allowfullscreen="allowfullscreen"></iframe></p>
<p>We are reaching the final steps. The next challenge is to create test / train samples. I give you some code:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bcf831bd70ac362188648" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
combined_list = ham_list + spam_list

random.shuffle(combined_list)</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bcf831bd70ac362188648-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70ac362188648-2">2</div><div class="crayon-num" data-line="crayon-5bcf831bd70ac362188648-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bcf831bd70ac362188648-1"><span class="crayon-v">combined_list</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">ham_list</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-e">spam_list</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70ac362188648-2">&nbsp;</div><div class="crayon-line" id="crayon-5bcf831bd70ac362188648-3"><span class="crayon-v">random</span><span class="crayon-sy">.</span><span class="crayon-e">shuffle</span><span class="crayon-sy">(</span><span class="crayon-v">combined_list</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p></p>
<p>We combine our spam and ham list, and then shuffle it, so that it is randomised.</p>
<p>The first thing you need to do is create test/train splits:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bcf831bd70af271925896" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
# Create a test and train section.

# 70% of the data is training. 30% is test</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bcf831bd70af271925896-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70af271925896-2">2</div><div class="crayon-num" data-line="crayon-5bcf831bd70af271925896-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bcf831bd70af271925896-1"><span class="crayon-p"># Create a test and train section.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70af271925896-2">&nbsp;</div><div class="crayon-line" id="crayon-5bcf831bd70af271925896-3"><span class="crayon-p"># 70% of the data is training. 30% is test</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p></p>
<p>And then call the Naive Bayes filter, and find the accuracy:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bcf831bd70b1786485122" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
# Create the Naive Bayes filter

# Find the accuracy, using the test data

print("Accuracy is: ", accuracy * 100)</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bcf831bd70b1786485122-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70b1786485122-2">2</div><div class="crayon-num" data-line="crayon-5bcf831bd70b1786485122-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70b1786485122-4">4</div><div class="crayon-num" data-line="crayon-5bcf831bd70b1786485122-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bcf831bd70b1786485122-1"><span class="crayon-p"># Create the Naive Bayes filter</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70b1786485122-2">&nbsp;</div><div class="crayon-line" id="crayon-5bcf831bd70b1786485122-3"><span class="crayon-p"># Find the accuracy, using the test data</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70b1786485122-4">&nbsp;</div><div class="crayon-line" id="crayon-5bcf831bd70b1786485122-5"><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-s">"Accuracy is: "</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">accuracy *</span><span class="crayon-h"> </span><span class="crayon-cn">100</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p></p>
<h2>Solution 5</h2>
<p><iframe width="800" height="450" src="https://player.vimeo.com/video/151804603?title=0&amp;byline=0&amp;portrait=0" frameborder="0" webkitallowfullscreen="webkitallowfullscreen" mozallowfullscreen="mozallowfullscreen" allowfullscreen="allowfullscreen"></iframe></p>
<p>We start by calculating what 70% of the data will be.</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bcf831bd70b4068163519" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
training_part = int(len(combined_list) * .7)</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bcf831bd70b4068163519-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bcf831bd70b4068163519-1"><span class="crayon-v">training_part</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-sy">(</span><span class="crayon-e">len</span><span class="crayon-sy">(</span><span class="crayon-v">combined_list</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-cn">7</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p></p>
<p>I&#8217;m converting it to <em>int()</em> so I can get a whole number.</p>
<p>We then divide our samples into test and training sets:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bcf831bd70b7997702384" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
print(len(combined_list))

training_set = combined_list[:training_part]

test_set =  combined_list[training_part:]

print (len(training_set))
print (len(test_set))

33716
23601
10115</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bcf831bd70b7997702384-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70b7997702384-2">2</div><div class="crayon-num" data-line="crayon-5bcf831bd70b7997702384-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70b7997702384-4">4</div><div class="crayon-num" data-line="crayon-5bcf831bd70b7997702384-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70b7997702384-6">6</div><div class="crayon-num" data-line="crayon-5bcf831bd70b7997702384-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70b7997702384-8">8</div><div class="crayon-num" data-line="crayon-5bcf831bd70b7997702384-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70b7997702384-10">10</div><div class="crayon-num" data-line="crayon-5bcf831bd70b7997702384-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70b7997702384-12">12</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bcf831bd70b7997702384-1"><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-e">len</span><span class="crayon-sy">(</span><span class="crayon-v">combined_list</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70b7997702384-2">&nbsp;</div><div class="crayon-line" id="crayon-5bcf831bd70b7997702384-3"><span class="crayon-v">training_set</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">combined_list</span><span class="crayon-sy">[</span><span class="crayon-o">:</span><span class="crayon-v">training_part</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70b7997702384-4">&nbsp;</div><div class="crayon-line" id="crayon-5bcf831bd70b7997702384-5"><span class="crayon-v">test_set</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">combined_list</span><span class="crayon-sy">[</span><span class="crayon-v">training_part</span><span class="crayon-o">:</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70b7997702384-6">&nbsp;</div><div class="crayon-line" id="crayon-5bcf831bd70b7997702384-7"><span class="crayon-e">print</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">len</span><span class="crayon-sy">(</span><span class="crayon-v">training_set</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70b7997702384-8"><span class="crayon-e">print</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">len</span><span class="crayon-sy">(</span><span class="crayon-v">test_set</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bcf831bd70b7997702384-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70b7997702384-10"><span class="crayon-cn">33716</span></div><div class="crayon-line" id="crayon-5bcf831bd70b7997702384-11"><span class="crayon-cn">23601</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70b7997702384-12"><span class="crayon-cn">10115</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0006 seconds] -->
<p></p>
<p>We now create the Naive Bayes filter with the training data, and test with test data:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bcf831bd70ba240021498" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
# Create the Naive Bayes filter

classifier = NaiveBayesClassifier.train(training_set)

# Find the accuracy, using the test data

accuracy = nltk.classify.util.accuracy(classifier, test_set)

print("Accuracy is: ", accuracy * 100)

Accuracy is:  98.50716757291151</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bcf831bd70ba240021498-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70ba240021498-2">2</div><div class="crayon-num" data-line="crayon-5bcf831bd70ba240021498-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70ba240021498-4">4</div><div class="crayon-num" data-line="crayon-5bcf831bd70ba240021498-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70ba240021498-6">6</div><div class="crayon-num" data-line="crayon-5bcf831bd70ba240021498-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70ba240021498-8">8</div><div class="crayon-num" data-line="crayon-5bcf831bd70ba240021498-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70ba240021498-10">10</div><div class="crayon-num" data-line="crayon-5bcf831bd70ba240021498-11">11</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bcf831bd70ba240021498-1"><span class="crayon-p"># Create the Naive Bayes filter</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70ba240021498-2">&nbsp;</div><div class="crayon-line" id="crayon-5bcf831bd70ba240021498-3"><span class="crayon-v">classifier</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">NaiveBayesClassifier</span><span class="crayon-sy">.</span><span class="crayon-e">train</span><span class="crayon-sy">(</span><span class="crayon-v">training_set</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70ba240021498-4">&nbsp;</div><div class="crayon-line" id="crayon-5bcf831bd70ba240021498-5"><span class="crayon-p"># Find the accuracy, using the test data</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70ba240021498-6">&nbsp;</div><div class="crayon-line" id="crayon-5bcf831bd70ba240021498-7"><span class="crayon-v">accuracy</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">nltk</span><span class="crayon-sy">.</span><span class="crayon-v">classify</span><span class="crayon-sy">.</span><span class="crayon-v">util</span><span class="crayon-sy">.</span><span class="crayon-e">accuracy</span><span class="crayon-sy">(</span><span class="crayon-v">classifier</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">test_set</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70ba240021498-8">&nbsp;</div><div class="crayon-line" id="crayon-5bcf831bd70ba240021498-9"><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-s">"Accuracy is: "</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">accuracy *</span><span class="crayon-h"> </span><span class="crayon-cn">100</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70ba240021498-10">&nbsp;</div><div class="crayon-line" id="crayon-5bcf831bd70ba240021498-11"><span class="crayon-e">Accuracy </span><span class="crayon-st">is</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">98.50716757291151</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0006 seconds] -->
<p></p>
<p>We are getting an accuracy of 98%, which is good.</p>
<p>We will also look at the most interesting features:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bcf831bd70be676448052" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
classifier.show_most_informative_features(20)

                  enron = True              ham : spam   =   3588.6 : 1.0
                     hpl = True              ham : spam   =    577.0 : 1.0
                     php = True             spam : ham    =    416.2 : 1.0
                     713 = True              ham : spam   =    326.3 : 1.0
                  louise = True              ham : spam   =    299.2 : 1.0
                     xls = True              ham : spam   =    281.8 : 1.0
                 stinson = True              ham : spam   =    267.4 : 1.0
                crenshaw = True              ham : spam   =    251.5 : 1.0
                     ect = True              ham : spam   =    231.2 : 1.0
                   corel = True             spam : ham    =    220.5 : 1.0
              macromedia = True             spam : ham    =    210.9 : 1.0
              scheduling = True              ham : spam   =    209.6 : 1.0
                        = True              ham : spam   =    184.1 : 1.0
                     sex = True             spam : ham    =    182.3 : 1.0
                      xp = True             spam : ham    =    172.6 : 1.0
                   daren = True              ham : spam   =    168.7 : 1.0
                    1933 = True             spam : ham    =    152.1 : 1.0
                    spam = True             spam : ham    =    145.1 : 1.0
                 parsing = True              ham : spam   =    137.6 : 1.0
                   penis = True             spam : ham    =    117.2 : 1.0</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bcf831bd70be676448052-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70be676448052-2">2</div><div class="crayon-num" data-line="crayon-5bcf831bd70be676448052-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70be676448052-4">4</div><div class="crayon-num" data-line="crayon-5bcf831bd70be676448052-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70be676448052-6">6</div><div class="crayon-num" data-line="crayon-5bcf831bd70be676448052-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70be676448052-8">8</div><div class="crayon-num" data-line="crayon-5bcf831bd70be676448052-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70be676448052-10">10</div><div class="crayon-num" data-line="crayon-5bcf831bd70be676448052-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70be676448052-12">12</div><div class="crayon-num" data-line="crayon-5bcf831bd70be676448052-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70be676448052-14">14</div><div class="crayon-num" data-line="crayon-5bcf831bd70be676448052-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70be676448052-16">16</div><div class="crayon-num" data-line="crayon-5bcf831bd70be676448052-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70be676448052-18">18</div><div class="crayon-num" data-line="crayon-5bcf831bd70be676448052-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70be676448052-20">20</div><div class="crayon-num" data-line="crayon-5bcf831bd70be676448052-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70be676448052-22">22</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bcf831bd70be676448052-1"><span class="crayon-v">classifier</span><span class="crayon-sy">.</span><span class="crayon-e">show_most_informative_features</span><span class="crayon-sy">(</span><span class="crayon-cn">20</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70be676448052-2">&nbsp;</div><div class="crayon-line" id="crayon-5bcf831bd70be676448052-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">enron</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">ham</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">spam</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-cn">3588.6</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1.0</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70be676448052-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">hpl</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">ham</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">spam</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">577.0</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1.0</span></div><div class="crayon-line" id="crayon-5bcf831bd70be676448052-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">php</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">spam</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">ham</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">416.2</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1.0</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70be676448052-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-cn">713</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">ham</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">spam</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">326.3</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1.0</span></div><div class="crayon-line" id="crayon-5bcf831bd70be676448052-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">louise</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">ham</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">spam</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">299.2</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1.0</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70be676448052-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">xls</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">ham</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">spam</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">281.8</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1.0</span></div><div class="crayon-line" id="crayon-5bcf831bd70be676448052-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">stinson</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">ham</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">spam</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">267.4</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1.0</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70be676448052-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">crenshaw</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">ham</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">spam</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">251.5</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1.0</span></div><div class="crayon-line" id="crayon-5bcf831bd70be676448052-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">ect</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">ham</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">spam</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">231.2</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1.0</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70be676448052-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">corel</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">spam</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">ham</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">220.5</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1.0</span></div><div class="crayon-line" id="crayon-5bcf831bd70be676448052-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">macromedia</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">spam</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">ham</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">210.9</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1.0</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70be676448052-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">scheduling</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">ham</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">spam</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">209.6</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1.0</span></div><div class="crayon-line" id="crayon-5bcf831bd70be676448052-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">ham</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">spam</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">184.1</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1.0</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70be676448052-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">sex</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">spam</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">ham</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">182.3</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1.0</span></div><div class="crayon-line" id="crayon-5bcf831bd70be676448052-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">xp</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">spam</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">ham</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">172.6</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1.0</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70be676448052-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">daren</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">ham</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">spam</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">168.7</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1.0</span></div><div class="crayon-line" id="crayon-5bcf831bd70be676448052-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">1933</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">spam</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">ham</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">152.1</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1.0</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70be676448052-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">spam</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">spam</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">ham</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">145.1</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1.0</span></div><div class="crayon-line" id="crayon-5bcf831bd70be676448052-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">parsing</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">ham</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">spam</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">137.6</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1.0</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70be676448052-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">penis</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">spam</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">ham</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">117.2</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1.0</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0072 seconds] -->
<p></p>
<p>So the word <em>Enron</em> is more likely to appear in ham emails than spam, while <em>sex</em> is more likely to appear in spam. <em>php</em> also appears a lot in spam, but that maybe a 90s thing (as do corel and macromedia, both expensive software).</p>
<h2>Challenge 6: Identify messages as spam or ham</h2>
<p>&nbsp;</p>
<p><iframe width="800" height="450" src="https://player.vimeo.com/video/151804605?title=0&amp;byline=0&amp;portrait=0" frameborder="0" webkitallowfullscreen="webkitallowfullscreen" mozallowfullscreen="mozallowfullscreen" allowfullscreen="allowfullscreen"></iframe></p>
<p>We have 3 messages we want to classify as spam or ham:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bcf831bd70c2515091868" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
# Clasify the below as spam or ham

# Hint: 1. Break into words using word_tokenzise
# 2. create_word_features
# 3. Use the classify function

msg1 = '''Hello thÍere seÙx master :-)
i need c0ck riÍght noÙw ..Í. don't tell my huÌbbÙy.Ù. ))
My scÍrÙeÙeÌ»nname is Dorry.
My accÖºoÖunt is hÖ¯ere: http:nxusxbnd.GirlsBadoo.ru
C u lateÙr!'''


msg2 = '''As one of our top customers we are providing 10% OFF the total of your next used book purchase from www.letthestoriesliveon.com. Please use the promotional code, TOPTENOFF at checkout. Limited to 1 use per customer. All books have free shipping within the contiguous 48 United States and there is no minimum purchase.

We have millions of used books in stock that are up to 90% off MRSP and add tens of thousands of new items every day. Donât forget to check back frequently for new arrivals.'''



msg3 = '''To start off, I have a 6 new videos + transcripts in the members section. In it, we analyse the Enron email dataset, half a million files, spread over 2.5GB. It's about 1.5 hours of  video.

I have also created a Conda environment for running the code (both free and member lessons). This is to ensure everyone is running the same version of libraries, preventing the Works on my machine problems. If you get a second, do you mind trying it here?'''</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bcf831bd70c2515091868-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70c2515091868-2">2</div><div class="crayon-num" data-line="crayon-5bcf831bd70c2515091868-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70c2515091868-4">4</div><div class="crayon-num" data-line="crayon-5bcf831bd70c2515091868-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70c2515091868-6">6</div><div class="crayon-num" data-line="crayon-5bcf831bd70c2515091868-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70c2515091868-8">8</div><div class="crayon-num" data-line="crayon-5bcf831bd70c2515091868-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70c2515091868-10">10</div><div class="crayon-num" data-line="crayon-5bcf831bd70c2515091868-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70c2515091868-12">12</div><div class="crayon-num" data-line="crayon-5bcf831bd70c2515091868-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70c2515091868-14">14</div><div class="crayon-num" data-line="crayon-5bcf831bd70c2515091868-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70c2515091868-16">16</div><div class="crayon-num" data-line="crayon-5bcf831bd70c2515091868-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70c2515091868-18">18</div><div class="crayon-num" data-line="crayon-5bcf831bd70c2515091868-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70c2515091868-20">20</div><div class="crayon-num" data-line="crayon-5bcf831bd70c2515091868-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70c2515091868-22">22</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bcf831bd70c2515091868-1"><span class="crayon-p"># Clasify the below as spam or ham</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70c2515091868-2">&nbsp;</div><div class="crayon-line" id="crayon-5bcf831bd70c2515091868-3"><span class="crayon-p"># Hint: 1. Break into words using word_tokenzise</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70c2515091868-4"><span class="crayon-p"># 2. create_word_features</span></div><div class="crayon-line" id="crayon-5bcf831bd70c2515091868-5"><span class="crayon-p"># 3. Use the classify function</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70c2515091868-6">&nbsp;</div><div class="crayon-line" id="crayon-5bcf831bd70c2515091868-7"><span class="crayon-v">msg1</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">''</span><span class="crayon-s">'Hello thÍere seÙx master :-)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70c2515091868-8"><span class="crayon-s">i need c0ck riÍght noÙw ..Í. don'</span><span class="crayon-i">t</span><span class="crayon-h"> </span><span class="crayon-e">tell </span><span class="crayon-e">my </span><span class="crayon-i">hu</span>Ì<span class="crayon-i">bb</span>Ù<span class="crayon-v">y</span><span class="crayon-sy">.</span>Ù<span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bcf831bd70c2515091868-9"><span class="crayon-e">My </span><span class="crayon-i">sc</span>Í<span class="crayon-i">r</span>Ù<span class="crayon-i">e</span>Ù<span class="crayon-i">e</span>Ì»<span class="crayon-e">nname </span><span class="crayon-st">is</span><span class="crayon-h"> </span><span class="crayon-v">Dorry</span><span class="crayon-sy">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70c2515091868-10"><span class="crayon-e">My </span><span class="crayon-i">acc</span>Öº<span class="crayon-i">o</span>Ö<span class="crayon-e">unt </span><span class="crayon-st">is</span><span class="crayon-h"> </span><span class="crayon-i">h</span>Ö¯<span class="crayon-v">ere</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">http</span><span class="crayon-o">:</span><span class="crayon-v">nxusxbnd</span><span class="crayon-sy">.</span><span class="crayon-v">GirlsBadoo</span><span class="crayon-sy">.</span><span class="crayon-i">ru</span></div><div class="crayon-line" id="crayon-5bcf831bd70c2515091868-11"><span class="crayon-i">C</span><span class="crayon-h"> </span><span class="crayon-i">u</span><span class="crayon-h"> </span><span class="crayon-i">late</span>Ù<span class="crayon-v">r</span><span class="crayon-o">!</span><span class="crayon-s">''</span><span class="crayon-s">'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70c2515091868-12">&nbsp;</div><div class="crayon-line" id="crayon-5bcf831bd70c2515091868-13">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70c2515091868-14"><span class="crayon-s">msg2 = '</span><span class="crayon-s">''</span><span class="crayon-st">As</span><span class="crayon-h"> </span><span class="crayon-e">one </span><span class="crayon-e">of </span><span class="crayon-e">our </span><span class="crayon-e">top </span><span class="crayon-e">customers </span><span class="crayon-e">we </span><span class="crayon-e">are </span><span class="crayon-i">providing</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-e">OFF </span><span class="crayon-e">the </span><span class="crayon-e">total </span><span class="crayon-e">of </span><span class="crayon-e">your </span><span class="crayon-e">next </span><span class="crayon-e">used </span><span class="crayon-e">book </span><span class="crayon-e">purchase </span><span class="crayon-e">from </span><span class="crayon-v">www</span><span class="crayon-sy">.</span><span class="crayon-v">letthestoriesliveon</span><span class="crayon-sy">.</span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-e">Please </span><span class="crayon-st">use</span><span class="crayon-h"> </span><span class="crayon-e">the </span><span class="crayon-e">promotional </span><span class="crayon-v">code</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">TOPTENOFF </span><span class="crayon-e">at </span><span class="crayon-v">checkout</span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-e">Limited </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-st">use</span><span class="crayon-h"> </span><span class="crayon-e">per </span><span class="crayon-v">customer</span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-e">All </span><span class="crayon-e">books </span><span class="crayon-e">have </span><span class="crayon-e">free </span><span class="crayon-e">shipping </span><span class="crayon-e">within </span><span class="crayon-e">the </span><span class="crayon-i">contiguous</span><span class="crayon-h"> </span><span class="crayon-cn">48</span><span class="crayon-h"> </span><span class="crayon-e">United </span><span class="crayon-e">States </span><span class="crayon-st">and</span><span class="crayon-h"> </span><span class="crayon-e">there </span><span class="crayon-st">is</span><span class="crayon-h"> </span><span class="crayon-e">no </span><span class="crayon-e">minimum </span><span class="crayon-v">purchase</span><span class="crayon-sy">.</span></div><div class="crayon-line" id="crayon-5bcf831bd70c2515091868-15">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70c2515091868-16"><span class="crayon-e">We </span><span class="crayon-e">have </span><span class="crayon-e">millions </span><span class="crayon-e">of </span><span class="crayon-e">used </span><span class="crayon-e">books </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-e">stock </span><span class="crayon-e">that </span><span class="crayon-e">are </span><span class="crayon-e">up </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-cn">90</span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-e">off </span><span class="crayon-e">MRSP </span><span class="crayon-st">and</span><span class="crayon-h"> </span><span class="crayon-e">add </span><span class="crayon-e">tens </span><span class="crayon-e">of </span><span class="crayon-e">thousands </span><span class="crayon-e">of </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">items </span><span class="crayon-e">every </span><span class="crayon-v">day</span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-i">Don</span>â<span class="crayon-i">t</span><span class="crayon-h"> </span><span class="crayon-e">forget </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-e">check </span><span class="crayon-e">back </span><span class="crayon-e">frequently </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">arrivals</span><span class="crayon-sy">.</span><span class="crayon-s">''</span><span class="crayon-s">'</span></div><div class="crayon-line" id="crayon-5bcf831bd70c2515091868-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70c2515091868-18">&nbsp;</div><div class="crayon-line" id="crayon-5bcf831bd70c2515091868-19">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70c2515091868-20"><span class="crayon-s">msg3 = '</span><span class="crayon-s">''</span><span class="crayon-st">To</span><span class="crayon-h"> </span><span class="crayon-e">start </span><span class="crayon-v">off</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">I</span><span class="crayon-h"> </span><span class="crayon-i">have</span><span class="crayon-h"> </span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-cn">6</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">videos</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-e">transcripts </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-e">the </span><span class="crayon-e">members </span><span class="crayon-v">section</span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-st">In</span><span class="crayon-h"> </span><span class="crayon-v">it</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">we </span><span class="crayon-e">analyse </span><span class="crayon-e">the </span><span class="crayon-e">Enron </span><span class="crayon-e">email </span><span class="crayon-v">dataset</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">half</span><span class="crayon-h"> </span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-e">million </span><span class="crayon-v">files</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">spread </span><span class="crayon-i">over</span><span class="crayon-h"> </span><span class="crayon-cn">2.5GB.</span><span class="crayon-h"> </span><span class="crayon-i">It</span><span class="crayon-s">'s about 1.5 hours of&nbsp;&nbsp;video.</span></div><div class="crayon-line" id="crayon-5bcf831bd70c2515091868-21">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70c2515091868-22"><span class="crayon-s">I have also created a Conda environment for running the code (both free and member lessons). This is to ensure everyone is running the same version of libraries, preventing the Works on my machine problems. If you get a second, do you mind trying it here?'</span><span class="crayon-s">''</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0062 seconds] -->
<p></p>
<p>The first is clearly spam. The 2nd is also spam, but doesn&#8217;t use spam like language. The 3rd is my own email (and should not be classified as spam!)</p>
<p>At the top, I give you a hint about what to do. There are 3 steps: 1) Break into words 2) Create word features 3) Call the <em>classify()</em> function.</p>
<h2>Solution 6</h2>
<p><iframe width="800" height="450" src="https://player.vimeo.com/video/151804606?title=0&amp;byline=0&amp;portrait=0" frameborder="0" webkitallowfullscreen="webkitallowfullscreen" mozallowfullscreen="mozallowfullscreen" allowfullscreen="allowfullscreen"></iframe></p>
<p>There isn&#8217;t a lot to explain in this code:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5bcf831bd70c5710255103" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
words = word_tokenize(msg1)
features = create_word_features(words)
print("Message 1 is :" ,classifier.classify(features))

Message 1 is : spam

words = word_tokenize(msg2)
features = create_word_features(words)
print("Message 2 is :" ,classifier.classify(features))

words = word_tokenize(msg2)

features = create_word_features(words)

print("Message 2 is :" ,classifier.classify(features))

Message 2 is : spam


words = word_tokenize(msg3)
features = create_word_features(words)
print("Message 3 is :" ,classifier.classify(features))

Message 3 is : ham</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5bcf831bd70c5710255103-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70c5710255103-2">2</div><div class="crayon-num" data-line="crayon-5bcf831bd70c5710255103-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70c5710255103-4">4</div><div class="crayon-num" data-line="crayon-5bcf831bd70c5710255103-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70c5710255103-6">6</div><div class="crayon-num" data-line="crayon-5bcf831bd70c5710255103-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70c5710255103-8">8</div><div class="crayon-num" data-line="crayon-5bcf831bd70c5710255103-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70c5710255103-10">10</div><div class="crayon-num" data-line="crayon-5bcf831bd70c5710255103-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70c5710255103-12">12</div><div class="crayon-num" data-line="crayon-5bcf831bd70c5710255103-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70c5710255103-14">14</div><div class="crayon-num" data-line="crayon-5bcf831bd70c5710255103-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70c5710255103-16">16</div><div class="crayon-num" data-line="crayon-5bcf831bd70c5710255103-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70c5710255103-18">18</div><div class="crayon-num" data-line="crayon-5bcf831bd70c5710255103-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70c5710255103-20">20</div><div class="crayon-num" data-line="crayon-5bcf831bd70c5710255103-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70c5710255103-22">22</div><div class="crayon-num" data-line="crayon-5bcf831bd70c5710255103-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5bcf831bd70c5710255103-24">24</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5bcf831bd70c5710255103-1"><span class="crayon-v">words</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">word_tokenize</span><span class="crayon-sy">(</span><span class="crayon-v">msg1</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70c5710255103-2"><span class="crayon-v">features</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">create_word_features</span><span class="crayon-sy">(</span><span class="crayon-v">words</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bcf831bd70c5710255103-3"><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-s">"Message 1 is :"</span><span class="crayon-h"> </span><span class="crayon-sy">,</span><span class="crayon-v">classifier</span><span class="crayon-sy">.</span><span class="crayon-e">classify</span><span class="crayon-sy">(</span><span class="crayon-v">features</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70c5710255103-4">&nbsp;</div><div class="crayon-line" id="crayon-5bcf831bd70c5710255103-5"><span class="crayon-i">Message</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-st">is</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">spam</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70c5710255103-6">&nbsp;</div><div class="crayon-line" id="crayon-5bcf831bd70c5710255103-7"><span class="crayon-v">words</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">word_tokenize</span><span class="crayon-sy">(</span><span class="crayon-v">msg2</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70c5710255103-8"><span class="crayon-v">features</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">create_word_features</span><span class="crayon-sy">(</span><span class="crayon-v">words</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bcf831bd70c5710255103-9"><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-s">"Message 2 is :"</span><span class="crayon-h"> </span><span class="crayon-sy">,</span><span class="crayon-v">classifier</span><span class="crayon-sy">.</span><span class="crayon-e">classify</span><span class="crayon-sy">(</span><span class="crayon-v">features</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70c5710255103-10">&nbsp;</div><div class="crayon-line" id="crayon-5bcf831bd70c5710255103-11"><span class="crayon-v">words</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">word_tokenize</span><span class="crayon-sy">(</span><span class="crayon-v">msg2</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70c5710255103-12">&nbsp;</div><div class="crayon-line" id="crayon-5bcf831bd70c5710255103-13"><span class="crayon-v">features</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">create_word_features</span><span class="crayon-sy">(</span><span class="crayon-v">words</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70c5710255103-14">&nbsp;</div><div class="crayon-line" id="crayon-5bcf831bd70c5710255103-15"><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-s">"Message 2 is :"</span><span class="crayon-h"> </span><span class="crayon-sy">,</span><span class="crayon-v">classifier</span><span class="crayon-sy">.</span><span class="crayon-e">classify</span><span class="crayon-sy">(</span><span class="crayon-v">features</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70c5710255103-16">&nbsp;</div><div class="crayon-line" id="crayon-5bcf831bd70c5710255103-17"><span class="crayon-i">Message</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-h"> </span><span class="crayon-st">is</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">spam</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70c5710255103-18">&nbsp;</div><div class="crayon-line" id="crayon-5bcf831bd70c5710255103-19">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70c5710255103-20"><span class="crayon-v">words</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">word_tokenize</span><span class="crayon-sy">(</span><span class="crayon-v">msg3</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bcf831bd70c5710255103-21"><span class="crayon-v">features</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">create_word_features</span><span class="crayon-sy">(</span><span class="crayon-v">words</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70c5710255103-22"><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-s">"Message 3 is :"</span><span class="crayon-h"> </span><span class="crayon-sy">,</span><span class="crayon-v">classifier</span><span class="crayon-sy">.</span><span class="crayon-e">classify</span><span class="crayon-sy">(</span><span class="crayon-v">features</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5bcf831bd70c5710255103-23">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5bcf831bd70c5710255103-24"><span class="crayon-i">Message</span><span class="crayon-h"> </span><span class="crayon-cn">3</span><span class="crayon-h"> </span><span class="crayon-st">is</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">ham</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0035 seconds] -->
<p></p>
<p>And there you go. A simple spam filter.</p>
<p>Some final comments: This spam filter was built for spam in the 90s, and the type of spam messages has grown. If you wanted to use this today, you would add a few modern spam messages to the training data, and retrain.</p>
<p>I hope you also appreciated how complex looking code becomes easy if you build it in small parts.</p>
	</div><!-- .entry-content -->

	
</article><!-- #post-## -->

	</main><!-- .site-main -->

	
</div><!-- .content-area -->


	<aside id="secondary" class="sidebar widget-area" role="complementary">
		<section id="search-4" class="widget widget_search">
<form role="search" method="get" class="search-form" action="/">
	<label>
		<span class="screen-reader-text">Search for:</span>
		<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s" />
	</label>
	<button type="submit" class="search-submit"><span class="screen-reader-text">Search</span></button>
</form>
</section>	</aside><!-- .sidebar .widget-area -->

		</div><!-- .site-content -->

		<footer id="colophon" class="site-footer" role="contentinfo">
							<nav class="main-navigation" role="navigation" aria-label="Footer Primary Menu">
					<div class="menu-main-container"><ul id="menu-main-1" class="primary-menu"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-52"><a href="/articles/">Articles</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1533"><a href="/about/">About</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-35"><a href="/contact/">Contact</a></li>
</ul></div>				</nav><!-- .main-navigation -->
			
			
			<div class="site-info">
								<span class="site-title"><a href="/" rel="home">Python For Engineers</a></span>
								<a href="https://wordpress.org/" class="imprint">
					Proudly powered by WordPress				</a>
			</div><!-- .site-info -->
		</footer><!-- .site-footer -->
	</div><!-- .site-inner -->
</div><!-- .site -->

<script type='text/javascript' src='/wp-content/themes/twentysixteen/js/skip-link-focus-fix.js?ver=20160816'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var screenReaderText = {"expand":"expand child menu","collapse":"collapse child menu"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/themes/twentysixteen/js/functions.js?ver=20160816'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var tve_dash_front = {"ajaxurl":"http:\/\/pythonforengineers.com\/wp-admin\/admin-ajax.php","force_ajax_send":"","is_crawler":"1"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/thrive-visual-editor/thrive-dashboard/js/dist/frontend.min.js?ver=2.0.45'></script>
<script type='text/javascript' src='/wp-includes/js/wp-embed.min.js?ver=4.9.8'></script>
</body>
</html>
